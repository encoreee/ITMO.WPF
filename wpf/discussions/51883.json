[
  {
    "Id": "174072",
    "ThreadId": "51883",
    "Html": "<p>I'm trying to use a control template for the Calendar control with a IValueConverter to set the color of the text for the CalendarDayButton controls and it actually works. At least for the properties in the template itself. This, for example, works:</p>\r\n<p>[...]<br>\r\n&lt;UserControl<br>\r\n    <b>[DELETIA]</b></p>\r\n<p>    xmlns:converters=&quot;clr-namespace:BusinessEntityLayer.Converters&quot;             <br>\r\n    xmlns:primitives=&quot;clr-namespace:System.Windows.Controls.Primitives;assembly=System.Windows.Controls&quot;             <br>\r\n    xmlns:vsm=&quot;clr-namespace:System.Windows;assembly=System.Windows&quot;&gt;<br>\r\n    <br>\r\n    &lt;UserControl.Resources&gt;<br>\r\n        &lt;converters:DateColorConverter x:Key=&quot;DateColorConverter&quot; /&gt;<br>\r\n<br>\r\n        &lt;!-- CalendarDayButton style template --&gt;<br>\r\n        &lt;Style TargetType=&quot;primitives:CalendarDayButton&quot; x:Key=&quot;CalendarExDayButtonStyle&quot;&gt;<br>\r\n            &lt;!-- Date button properties --&gt;<br>\r\n            &lt;Setter Property=&quot;Background&quot; Value=&quot;#FFBADDE9&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;MinWidth&quot; Value=&quot;5&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;MinHeight&quot; Value=&quot;5&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;FontSize&quot; Value=&quot;10&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;HorizontalContentAlignment&quot; Value=&quot;Center&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;VerticalContentAlignment&quot; Value=&quot;Center&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;Template&quot;&gt;<br>\r\n            <br>\r\n        <b>[DELETIA</b>]<br>\r\n                            &lt;Rectangle x:Name=&quot;TodayBackground&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Opacity=&quot;0&quot; Fill=&quot;#FFAAAAAA&quot;/&gt;<br>\r\n                            &lt;Rectangle x:Name=&quot;SelectedBackground&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Opacity=&quot;0&quot; Fill=&quot;{TemplateBinding Background}&quot;/&gt;<br>\r\n                        <b>&lt;Rectangle x:Name=&quot;Background&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Opacity=&quot;0&quot; Fill=&quot;{Binding Path=Date, Converter={StaticResource DateColorConverter}}&quot;/&gt;</b><br>\r\n                            &lt;ContentControl <br>\r\n                            x:Name=&quot;NormalText&quot;<br>\r\n                            IsTabStop=&quot;False&quot;<br>\r\n                            Content=&quot;{TemplateBinding Content}&quot;<br>\r\n                            ContentTemplate=&quot;{TemplateBinding ContentTemplate}&quot;<br>\r\n                            HorizontalAlignment=&quot;{TemplateBinding HorizontalContentAlignment}&quot;<br>\r\n                            VerticalAlignment=&quot;{TemplateBinding VerticalContentAlignment}&quot;<br>\r\n                            FontSize=&quot;{TemplateBinding FontSize}&quot;<br>\r\n                            Margin=&quot;5,1,5,1&quot;&gt;<br>\r\n                                &lt;ContentControl.Foreground&gt;<br>\r\n                                    &lt;SolidColorBrush x:Name=&quot;selectedText&quot; Color=&quot;#FFAAFFAA&quot;/&gt;<br>\r\n                                &lt;/ContentControl.Foreground&gt;<br>\r\n                            &lt;/ContentControl&gt;<br>\r\n                            &lt;Path x:Name=&quot;Blackout&quot; Opacity=&quot;0&quot; Margin=&quot;3&quot; HorizontalAlignment=&quot;Stretch&quot; VerticalAlignment=&quot;Stretch&quot; RenderTransformOrigin=&quot;0.5,0.5&quot; Fill=&quot;#FF000000&quot; Stretch=&quot;Fill&quot; Data=&quot;M8.1772461,11.029181 L10.433105,11.029181 L11.700684,12.801641 L12.973633,11.029181 L15.191895,11.029181 L12.844727,13.999395 L15.21875,17.060919 L12.962891,17.060919 L11.673828,15.256231 L10.352539,17.060919 L8.1396484,17.060919 L10.519043,14.042364 z&quot;/&gt;<br>\r\n                            &lt;Rectangle x:Name=&quot;DayButtonFocusVisual&quot; Visibility=&quot;Collapsed&quot; IsHitTestVisible=&quot;false&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Stroke=&quot;#FF45D6FA&quot;/&gt;<br>\r\n                        &lt;/Grid&gt;<br>\r\n                    &lt;/ControlTemplate&gt;<br>\r\n                &lt;/Setter.Value&gt;<br>\r\n            &lt;/Setter&gt;<br>\r\n        &lt;/Style&gt;<br>\r\n    &lt;/UserControl.Resources&gt;<br>\r\n    <br>\r\n  <b>[DELETIA]</b><br>\r\n                &lt;local:CalendarEx Name=&quot;m_RegistrationsCalendar&quot; CalendarDayButtonStyle=&quot;{StaticResource CalendarExDayButtonStyle}&quot;/&gt;<br>\r\n  <b>[DELETIA]</b><br>\r\n&lt;/UserControl&gt;<br>\r\n[...]</p>\r\n<p>The value I want to set however, is the value in the nested ContentControl. The following doesn't work:</p>\r\n<p>[...]<br>\r\n&lt;UserControl </p>\r\n<p> <b>[DELETIA]</b></p>\r\n<p>    xmlns:converters=&quot;clr-namespace:BusinessEntityLayer.Converters&quot;             <br>\r\n    xmlns:primitives=&quot;clr-namespace:System.Windows.Controls.Primitives;assembly=System.Windows.Controls&quot;             <br>\r\n    xmlns:vsm=&quot;clr-namespace:System.Windows;assembly=System.Windows&quot;&gt;<br>\r\n    <br>\r\n    &lt;UserControl.Resources&gt;<br>\r\n        &lt;converters:DateColorConverter x:Key=&quot;DateColorConverter&quot; /&gt;</p>\r\n<p>        &lt;!-- CalendarDayButton style template --&gt;<br>\r\n        &lt;Style TargetType=&quot;primitives:CalendarDayButton&quot; x:Key=&quot;CalendarExDayButtonStyle&quot;&gt;<br>\r\n            &lt;!-- Date button properties --&gt;<br>\r\n            &lt;Setter Property=&quot;Background&quot; Value=&quot;#FFBADDE9&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;MinWidth&quot; Value=&quot;5&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;MinHeight&quot; Value=&quot;5&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;FontSize&quot; Value=&quot;10&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;HorizontalContentAlignment&quot; Value=&quot;Center&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;VerticalContentAlignment&quot; Value=&quot;Center&quot;/&gt;<br>\r\n            &lt;Setter Property=&quot;Template&quot;&gt;<br>\r\n            <br>\r\n    <b>[DELETIA]</b><br>\r\n                            &lt;Rectangle x:Name=&quot;TodayBackground&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Opacity=&quot;0&quot; Fill=&quot;#FFAAAAAA&quot;/&gt;<br>\r\n                            &lt;Rectangle x:Name=&quot;SelectedBackground&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Opacity=&quot;0&quot; Fill=&quot;{TemplateBinding Background}&quot;/&gt;<br>\r\n                            &lt;Rectangle x:Name=&quot;Background&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Opacity=&quot;0&quot; Fill=&quot;{TemplateBinding Background}&quot;/&gt;<br>\r\n                            &lt;ContentControl <br>\r\n                            x:Name=&quot;NormalText&quot;<br>\r\n                            IsTabStop=&quot;False&quot;<br>\r\n                            Content=&quot;{TemplateBinding Content}&quot;<br>\r\n                            ContentTemplate=&quot;{TemplateBinding ContentTemplate}&quot;<br>\r\n                            HorizontalAlignment=&quot;{TemplateBinding HorizontalContentAlignment}&quot;<br>\r\n                            VerticalAlignment=&quot;{TemplateBinding VerticalContentAlignment}&quot;<br>\r\n                            FontSize=&quot;{TemplateBinding FontSize}&quot;<br>\r\n                            Margin=&quot;5,1,5,1&quot;&gt;<br>\r\n                                &lt;ContentControl.Foreground&gt;<br>\r\n                                    <b>&lt;SolidColorBrush x:Name=&quot;selectedText&quot; Color=&quot;{Binding Path=Date, Converter={StaticResource DateColorConverter}}&quot;/&gt;</b><br>\r\n                                &lt;/ContentControl.Foreground&gt;<br>\r\n                            &lt;/ContentControl&gt;<br>\r\n                            &lt;Path x:Name=&quot;Blackout&quot; Opacity=&quot;0&quot; Margin=&quot;3&quot; HorizontalAlignment=&quot;Stretch&quot; VerticalAlignment=&quot;Stretch&quot; RenderTransformOrigin=&quot;0.5,0.5&quot; Fill=&quot;#FF000000&quot; Stretch=&quot;Fill&quot; Data=&quot;M8.1772461,11.029181 L10.433105,11.029181 L11.700684,12.801641 L12.973633,11.029181 L15.191895,11.029181 L12.844727,13.999395 L15.21875,17.060919 L12.962891,17.060919 L11.673828,15.256231 L10.352539,17.060919 L8.1396484,17.060919 L10.519043,14.042364 z&quot;/&gt;<br>\r\n                            &lt;Rectangle x:Name=&quot;DayButtonFocusVisual&quot; Visibility=&quot;Collapsed&quot; IsHitTestVisible=&quot;false&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Stroke=&quot;#FF45D6FA&quot;/&gt;<br>\r\n                        &lt;/Grid&gt;<br>\r\n                    &lt;/ControlTemplate&gt;<br>\r\n                &lt;/Setter.Value&gt;<br>\r\n            &lt;/Setter&gt;<br>\r\n        &lt;/Style&gt;<br>\r\n    &lt;/UserControl.Resources&gt;<br>\r\n    <br>\r\n  <b>[DELETIA]</b><br>\r\n                &lt;local:CalendarEx Name=&quot;m_RegistrationsCalendar&quot; CalendarDayButtonStyle=&quot;{StaticResource CalendarExDayButtonStyle}&quot;/&gt;<br>\r\n <b>[DELETIA]</b><br>\r\n&lt;/UserControl&gt;<br>\r\n[...]</p>\r\n<p>I suspect this is because the ContentControl doesn't know about the parent template's DataContext I'm trying to access. How do I reference the template's DataContext from there?</p>\r\n<p>Regards,<br>\r\nSøren</p>\r\n<p> </p>\r\n",
    "PostedDate": "2009-03-31T13:41:03.38-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "174115",
    "ThreadId": "51883",
    "Html": "I'm still struggling with this. I think I meay need to use bind using RelativeSource. I've tried combinations of this <br>\r\n<br>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p> </p>\r\n</span>\r\n<p> </p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">SolidColorBrush</span><span style=\"font-size:13px;color:#ff0000\"> x</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#ff0000\">Name</span><span style=\"font-size:13px;color:#0000ff\">=&quot;selectedText&quot;</span><span style=\"font-size:13px;color:#ff0000\"> Color</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">Binding</span><span style=\"font-size:13px;color:#ff0000\"> RelativeSource</span><span style=\"font-size:13px;color:#0000ff\">={</span><span style=\"font-size:13px;color:#a31515\">RelativeSource</span><span style=\"font-size:13px;color:#ff0000\"> TemplatedParent</span><span style=\"font-size:13px;color:#0000ff\">},</span><span style=\"font-size:13px;color:#ff0000\"> Path</span><span style=\"font-size:13px;color:#0000ff\">=Date}&quot; /&gt;\r\n<p> </p>\r\n</span></p>\r\n<p>&nbsp;</p>\r\n<p> </p>\r\nand this:<br>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">SolidColorBrush</span><span style=\"font-size:13px;color:#ff0000\"> x</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#ff0000\">Name</span><span style=\"font-size:13px;color:#0000ff\">=&quot;selectedText&quot;</span><span style=\"font-size:13px;color:#ff0000\"> Color</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">Binding</span><span style=\"font-size:13px;color:#ff0000\"> Path</span><span style=\"font-size:13px;color:#0000ff\">=Date,</span><span style=\"font-size:13px;color:#ff0000\"> RelativeSource</span><span style=\"font-size:13px;color:#0000ff\">={</span><span style=\"font-size:13px;color:#a31515\">RelativeSource</span><span style=\"font-size:13px;color:#ff0000\"> Mode</span><span style=\"font-size:13px;color:#0000ff\">=FindAncestor,</span><span style=\"font-size:13px;color:#ff0000\"> AncestorType</span><span style=\"font-size:13px;color:#0000ff\">=ControlTemplate</span><span style=\"font-size:13px;color:#0000ff\">},</span><span style=\"font-size:13px;color:#ff0000\"> Converter</span><span style=\"font-size:13px;color:#0000ff\">={</span><span style=\"font-size:13px;color:#a31515\">StaticResource</span><span style=\"font-size:13px;color:#ff0000\"> DateColorConverter</span><span style=\"font-size:13px;color:#0000ff\">}}&quot;/&gt;</span><br>\r\n<br>\r\nBut everything fails with: <br>\r\n<br>\r\nXamlParseException: Unknown attribute Color on element SolidColorBrush<br>\r\n<br>\r\nNow what is that about? Is this the correct approach?<br>\r\n<br>\r\n(FYI: This may have something to do with the Color property not being a DependencyProperty...)<br>\r\n<br>\r\nThis is a silverlight application. I wasn't aware that that might be an issue but I guess it might. Anyone?<br>\r\n<br>\r\nRegards,<br>\r\nSøren</p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">\r\n<p> </p>\r\n</span></p>\r\n<p>&nbsp;</p>\r\n<p> </p>\r\n<p> </p>\r\n",
    "PostedDate": "2009-03-31T15:45:14.37-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "174262",
    "ThreadId": "51883",
    "Html": "I can't do relative binding in Silvelight 2? <br>\r\n<br>\r\nWell even without relative binding it still doesn't work. Could someone please help me out here? This is driving me nuts!<br>\r\n<br>\r\n<br>\r\nAlright, I found a hackish solution. It seems the problem is that SolidColorBrush is not part of the visual or logical tree so it doesn't inherit the datacontext and I cannot do relative databinding in Silverlight. <br>\r\n<br>\r\n<br>\r\n[DELETIA]<br>\r\n<span style=\"font-size:13px;color:#a31515\"> <br>\r\n</span>                            &lt;Rectangle x:Name=&quot;TodayBackground&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Opacity=&quot;0&quot; Fill=&quot;#FFAAAAAA&quot;/&gt;<br>\r\n                            &lt;Rectangle x:Name=&quot;SelectedBackground&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Opacity=&quot;0&quot; Fill=&quot;{TemplateBinding Background}&quot;/&gt;<br>\r\n                            &lt;Rectangle x:Name=&quot;Background&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Opacity=&quot;0&quot; Fill=&quot;{TemplateBinding Background}&quot;/&gt;<br>\r\n                            &lt;ContentControl<br>\r\n                            x:Name=&quot;NormalText&quot;<br>\r\n                            IsTabStop=&quot;False&quot;<br>\r\n                            Content=&quot;{TemplateBinding Content}&quot;<br>\r\n                            ContentTemplate=&quot;{TemplateBinding ContentTemplate}&quot;<br>\r\n                            HorizontalAlignment=&quot;{TemplateBinding HorizontalContentAlignment}&quot;<br>\r\n                            VerticalAlignment=&quot;{TemplateBinding VerticalContentAlignment}&quot;<br>\r\n                            FontSize=&quot;{TemplateBinding FontSize}&quot;<br>\r\n                            Margin=&quot;5,1,5,1&quot;<b> Foreground=&quot;{Binding Path=Date, Converter={StaticResource DateColorConverter}}&quot;&gt;<br>\r\n                                &lt;ContentControl.BorderBrush&gt;<br>\r\n                                    &lt;SolidColorBrush x:Name=&quot;selectedText&quot; Color=&quot;#FFAAFFAA&quot;/&gt;<br>\r\n                                &lt;/ContentControl.BorderBrush&gt;<br>\r\n                            &lt;/ContentControl&gt;<br>\r\n</b>                            &lt;Path x:Name=&quot;Blackout&quot; Opacity=&quot;0&quot; Margin=&quot;3&quot; HorizontalAlignment=&quot;Stretch&quot; VerticalAlignment=&quot;Stretch&quot; RenderTransformOrigin=&quot;0.5,0.5&quot; Fill=&quot;#FF000000&quot; Stretch=&quot;Fill&quot; Data=&quot;M8.1772461,11.029181 L10.433105,11.029181 L11.700684,12.801641 L12.973633,11.029181 L15.191895,11.029181 L12.844727,13.999395 L15.21875,17.060919 L12.962891,17.060919 L11.673828,15.256231 L10.352539,17.060919 L8.1396484,17.060919 L10.519043,14.042364 z&quot;/&gt;<br>\r\n                            &lt;Rectangle x:Name=&quot;DayButtonFocusVisual&quot; Visibility=&quot;Collapsed&quot; IsHitTestVisible=&quot;false&quot; RadiusX=&quot;1&quot; RadiusY=&quot;1&quot; Stroke=&quot;#FF45D6FA&quot;/&gt;<br>\r\n                        &lt;/Grid&gt;<br>\r\n                    &lt;/ControlTemplate&gt;<br>\r\n                &lt;/Setter.Value&gt;<br>\r\n            &lt;/Setter&gt;<br>\r\n        &lt;/Style&gt;<br>\r\n    &lt;/UserControl.Resources&gt;<br>\r\n<br>\r\n<br>\r\n<br>\r\nIt annoys me I have to do stuff like that though, and it's probably only my lack of understading that forces me into this. If anyone could shed some light on it I'd still appreciate it.<br>\r\n<br>\r\nRegards,<br>\r\nSøren<br>\r\n",
    "PostedDate": "2009-04-01T03:56:48.86-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]