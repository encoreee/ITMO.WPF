[
  {
    "Id": "140449",
    "ThreadId": "42288",
    "Html": "I have a WPF application with a page that hosts the DataGrid. I'm hitting an exception (details below) whenever I navigate to the page and the datagrid has an item that breaks a validation rule. The exception occurs during page creation (within InitializeComponent). <br>\r\n<br>\r\nOutside of not using validation, is there some behavior I can change which might prevent this? Alternatively, is there a code change I can make in the DataGrid that will solve this (or at least workaround it)?<br>\r\n<br>\r\nThanks,<br>\r\n<br>\r\n-Craig<br>\r\n<br>\r\nMessage=&quot;'System.Windows.Data.BindingExpression' value cannot be assigned to property 'ItemsSource' of object 'Rigel.DataGrid'. 'DeferRefresh' is not allowed during an AddNew or EditItem transaction.  Error at object 'System.Windows.Data.Binding' in markup file 'Rigel;component/attributepage.xaml' Line 264 Position 25.&quot;<br>\r\n  Source=&quot;PresentationFramework&quot;<br>\r\n  LineNumber=264<br>\r\n  LinePosition=25<br>\r\n  StackTrace:<br>\r\n      at System.Windows.Markup.XamlParseException.ThrowException(String message, Exception innerException, Int32 lineNumber, Int32 linePosition, Uri baseUri, XamlObjectIds currentXamlObjectIds, XamlObjectIds contextXamlObjectIds, Type objectType)<br>\r\n      at System.Windows.Markup.XamlParseException.ThrowException(ParserContext parserContext, Int32 lineNumber, Int32 linePosition, String message, Exception innerException)<br>\r\n      at System.Windows.Markup.BamlRecordReader.CreateInstanceFromType(Type type, Int16 typeId, Boolean throwOnFail)<br>\r\n      at System.Windows.Markup.BamlRecordReader.GetElementAndFlags(BamlElementStartRecord bamlElementStartRecord, Object&amp; element, ReaderFlags&amp; flags, Type&amp; delayCreatedType, Int16&amp; delayCreatedTypeId)<br>\r\n      at System.Windows.Markup.BamlRecordReader.BaseReadElementStartRecord(BamlElementStartRecord bamlElementRecord)<br>\r\n      at System.Windows.Markup.BamlRecordReader.ReadElementStartRecord(BamlElementStartRecord bamlElementRecord)<br>\r\n      at System.Windows.Markup.BamlRecordReader.ReadRecord(BamlRecord bamlRecord)<br>\r\n      at System.Windows.Markup.BamlRecordReader.Read(Boolean singleRecord)<br>\r\n      at System.Windows.Markup.TreeBuilderBamlTranslator.ParseFragment()<br>\r\n      at System.Windows.Markup.TreeBuilder.Parse()<br>\r\n      at System.Windows.Markup.XamlReader.LoadBaml(Stream stream, ParserContext parserContext, Object parent, Boolean closeStream)<br>\r\n      at System.Windows.Application.LoadBamlStreamWithSyncInfo(Stream stream, ParserContext pc)<br>\r\n      at MS.Internal.AppModel.AppModelKnownContentFactory.BamlConverter(Stream stream, Uri baseUri, Boolean canUseTopLevelBrowser, Boolean sandboxExternalContent, Boolean allowAsync, Boolean isJournalNavigation, XamlReader&amp; asyncObjectConverter)<br>\r\n      at MS.Internal.AppModel.MimeObjectFactory.GetObjectAndCloseStream(Stream s, ContentType contentType, Uri baseUri, Boolean canUseTopLevelBrowser, Boolean sandboxExternalContent, Boolean allowAsync, Boolean isJournalNavigation, XamlReader&amp; asyncObjectConverter)<br>\r\n      at System.Windows.Navigation.NavigationService.GetObjectFromResponse(WebRequest request, WebResponse response, Uri destinationUri, Object navState)<br>\r\n      at System.Windows.Navigation.NavigationService.DoNavigate(Uri source, NavigationMode f, Object navState)<br>\r\n      at System.Windows.Navigation.NavigateQueueItem.Dispatch(Object obj)<br>\r\n      at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Boolean isSingleParameter)<br>\r\n      at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source, Delegate callback, Object args, Boolean isSingleParameter, Delegate catchHandler)<br>\r\n      at System.Windows.Threading.DispatcherOperation.InvokeImpl()<br>\r\n      at System.Threading.ExecutionContext.runTryCode(Object userData)<br>\r\n      at System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup(TryCode code, CleanupCode backoutCode, Object userData)<br>\r\n      at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)<br>\r\n      at System.Windows.Threading.DispatcherOperation.Invoke()<br>\r\n      at System.Windows.Threading.Dispatcher.ProcessQueue()<br>\r\n      at System.Windows.Threading.Dispatcher.WndProcHook(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean&amp; handled)<br>\r\n      at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean&amp; handled)<br>\r\n      at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)<br>\r\n      at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Boolean isSingleParameter)<br>\r\n      at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source, Delegate callback, Object args, Boolean isSingleParameter, Delegate catchHandler)<br>\r\n      at System.Windows.Threading.Dispatcher.InvokeImpl(DispatcherPriority priority, TimeSpan timeout, Delegate method, Object args, Boolean isSingleParameter)<br>\r\n      at MS.Win32.HwndSubclass.SubclassWndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam)<br>\r\n      at MS.Win32.UnsafeNativeMethods.DispatchMessage(MSG&amp; msg)<br>\r\n      at System.Windows.Threading.Dispatcher.TranslateAndDispatchMessage(MSG&amp; msg)<br>\r\n      at System.Windows.Threading.Dispatcher.PushFrameImpl(DispatcherFrame frame)<br>\r\n      at System.Windows.Application.RunInternal(Window window)<br>\r\n      at Rigel.App.Main() in C:\\varigence\\trunk\\Rigel\\Rigel\\obj\\Debug\\App.g.cs:line 0<br>\r\n      at System.AppDomain._nExecuteAssembly(Assembly assembly, String[] args)<br>\r\n      at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()<br>\r\n      at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)<br>\r\n      at System.Threading.ThreadHelper.ThreadStart()<br>\r\n  InnerException: System.InvalidOperationException<br>\r\n      Message=&quot;'DeferRefresh' is not allowed during an AddNew or EditItem transaction.&quot;<br>\r\n      Source=&quot;PresentationFramework&quot;<br>\r\n      StackTrace:<br>\r\n            at System.Windows.Data.CollectionView.DeferRefresh()<br>\r\n            at System.Windows.Controls.ItemCollection.SetCollectionView(CollectionView view)<br>\r\n            at System.Windows.Controls.ItemsControl.OnItemsSourceChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)<br>\r\n            at System.Windows.DependencyObject.OnPropertyChanged(DependencyPropertyChangedEventArgs e)<br>\r\n            at System.Windows.FrameworkElement.OnPropertyChanged(DependencyPropertyChangedEventArgs e)<br>\r\n            at System.Windows.DependencyObject.NotifyPropertyChange(DependencyPropertyChangedEventArgs args)<br>\r\n            at System.Windows.DependencyObject.UpdateEffectiveValue(EntryIndex entryIndex, DependencyProperty dp, PropertyMetadata metadata, EffectiveValueEntry oldEntry, EffectiveValueEntry&amp; newEntry, Boolean coerceWithDeferredReference, OperationType operationType)<br>\r\n            at System.Windows.DependencyObject.SetValueCommon(DependencyProperty dp, Object value, PropertyMetadata metadata, Boolean coerceWithDeferredReference, OperationType operationType, Boolean isInternal)<br>\r\n            at System.Windows.DependencyObject.SetValue(DependencyProperty dp, Object value)<br>\r\n            at System.Windows.Markup.BamlRecordReader.SetDependencyValueCore(DependencyObject dependencyObject, DependencyProperty dependencyProperty, Object value)<br>\r\n            at System.Windows.Markup.BamlRecordReader.SetDependencyComplexProperty(Object currentTarget, BamlAttributeInfoRecord attribInfo, Object o)<br>\r\n      InnerException: <br>\r\n",
    "PostedDate": "2008-12-14T17:03:24.78-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "140615",
    "ThreadId": "42288",
    "Html": "<span id=UniqueID1229357499528>\r\n<p>Hi Graig,</p>\r\n<p>Thanks for reporting the issue.  Could you attach a simple reproduceable project? I’d like to investigate the issue further.<br>\r\n<br>\r\nThanks,<br>\r\nWilliam</p>\r\n</span>\r\n",
    "PostedDate": "2008-12-15T08:14:15.193-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "140675",
    "ThreadId": "42288",
    "Html": "I've posted an issue at <a href=\"http://www.codeplex.com/wpf/WorkItem/View.aspx?WorkItemId=8549\">http://www.codeplex.com/wpf/WorkItem/View.aspx?WorkItemId=8549</a>, along with a reproduceable project.<br>\r\n<br>\r\nThanks,<br>\r\n<br>\r\n-Craig\r\n",
    "PostedDate": "2008-12-15T10:51:04.033-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]