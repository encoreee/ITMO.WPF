[
  {
    "Id": "196840",
    "ThreadId": "58219",
    "Html": "<p>If I include a DataGridCheckBoxColumn and bind it to a Boolean property that defaults to true, then the CheckBox does not work correctly in the Add Row.</p>\r\n<p>The basic flow of actions/events is:</p>\r\n<ol>\r\n<li>Click on the CheckBox in the add row&nbsp;to give the cell focus</li>\r\n<li>Click on the CheckBox (which is currently unchecked) in the add row&nbsp;to&nbsp;&quot;check&quot; the box</li>\r\n<li>A&nbsp;new row is added</li>\r\n<li>The CheckBox is initialized based on the Boolean property, which is true by default (so the CheckBox is checked).</li>\r\n<li>The DataGrid now passes the click event from #2 to the DataGridCheckBoxColumn, which toggles the CheckBox.</li>\r\n<li>The CheckBox is now unchecked, eventhough it should technically be checked.</li>\r\n</ol>\r\n<p>Is there something that can be done to prevent this?</p>",
    "PostedDate": "2009-06-02T07:26:26.71-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "196989",
    "ThreadId": "58219",
    "Html": "<p>So technically what you're seeing is by-design, but I agree that it could be confusing to the user.<br><br>The problem is that the new item is created &amp; bound to the data model before the click is handled.&nbsp; So it was going checked &amp; then the click was unchecking it.<br><br>The reason the new row was unchecked was because it wasn't bound to a data object so it defaulted to un-checked.<br><br>It would be less confusing if the new row was checked by default so when the user clicks it &amp; it goes unchecked, it would be expected (since it was checked prior to the click).<br><br>Here is how you can do that:<br><br>1) make a checkbox derived class that changes the default of IsChecked to true:<br><br><span style=\"font-size:x-small\">&lt;font size=&quot;2&quot;&gt;\r\n<p>&nbsp;</p>\r\n&lt;/font&gt;</span></p>\r\n<p><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">public</span></span><span style=\"font-size:x-small\"> </span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">class</span></span><span style=\"font-size:x-small\"> </span><span style=\"font-size:x-small;color:#2b91af\"><span style=\"font-size:x-small;color:#2b91af\">CheckBoxDefaultChecked</span></span><span style=\"font-size:x-small\"> : CheckBox<br>{&lt;font size=&quot;2&quot;&gt;\r\n<p>&nbsp;</p>\r\n&lt;/font&gt;</span></p>\r\n<p><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">static</span></span><span style=\"font-size:x-small\"> CheckBoxDefaultChecked()<br>{<br>&nbsp;&nbsp;&nbsp; IsCheckedProperty.OverrideMetadata(</span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">typeof</span></span><span style=\"font-size:x-small\">(CheckBoxDefaultChecked), </span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">new</span></span><span style=\"font-size:x-small\"> FrameworkPropertyMetadata(</span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">true</span></span><span style=\"font-size:x-small\">));<br>}\r\n<p>}<br><br>2) either make a new column type to use it or use a template column:<br><span style=\"font-size:x-small;color:#a31515\"><span style=\"font-size:x-small;color:#a31515\">&lt;font size=&quot;2&quot; color=&quot;#a31515&quot;&gt;&lt;font size=&quot;2&quot; color=&quot;#a31515&quot;&gt;\r\n<p>&nbsp;</p>\r\n&lt;/font&gt;&lt;/font&gt;</span>&lt;font size=&quot;2&quot; color=&quot;#a31515&quot;&gt;\r\n<p>&nbsp;</p>\r\n&lt;/font&gt;</span></p>\r\n<p><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&lt;</span></span><span style=\"font-size:x-small;color:#a31515\"><span style=\"font-size:x-small;color:#a31515\">DataGridTemplateColumn</span></span><span style=\"font-size:x-small;color:#ff0000\"><span style=\"font-size:x-small;color:#ff0000\"> SortMemberPath</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">=&quot;IsChecked2&quot;</span></span><span style=\"font-size:x-small;color:#ff0000\"><span style=\"font-size:x-small;color:#ff0000\"> ClipboardContentBinding</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">=&quot;{</span></span><span style=\"font-size:x-small;color:#a31515\"><span style=\"font-size:x-small;color:#a31515\">Binding</span></span><span style=\"font-size:x-small;color:#ff0000\"><span style=\"font-size:x-small;color:#ff0000\"> IsChecked2</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">}&quot;&gt;<br></span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&nbsp;&lt;</span></span><span style=\"font-size:x-small;color:#a31515\"><span style=\"font-size:x-small;color:#a31515\">DataGridTemplateColumn.CellTemplate</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&gt;<br></span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&nbsp; &lt;</span></span><span style=\"font-size:x-small;color:#a31515\"><span style=\"font-size:x-small;color:#a31515\">DataTemplate</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&gt;<br>&nbsp;&nbsp;&nbsp;</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&lt;</span></span><span style=\"font-size:x-small;color:#a31515\"><span style=\"font-size:x-small;color:#a31515\">src</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">:</span></span><span style=\"font-size:x-small;color:#a31515\"><span style=\"font-size:x-small;color:#a31515\">CheckBoxDefaultChecked</span></span><span style=\"font-size:x-small;color:#ff0000\"><span style=\"font-size:x-small;color:#ff0000\"> IsChecked</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">=&quot;{</span></span><span style=\"font-size:x-small;color:#a31515\"><span style=\"font-size:x-small;color:#a31515\">Binding</span></span><span style=\"font-size:x-small;color:#ff0000\"><span style=\"font-size:x-small;color:#ff0000\"> IsChecked2</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">}&quot;/&gt;<br></span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&nbsp; &lt;/</span></span><span style=\"font-size:x-small;color:#a31515\"><span style=\"font-size:x-small;color:#a31515\">DataTemplate</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&gt;<br>&nbsp;</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&lt;/</span></span><span style=\"font-size:x-small;color:#a31515\"><span style=\"font-size:x-small;color:#a31515\">DataGridTemplateColumn.CellTemplate</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&gt;<br></span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&lt;/</span></span><span style=\"font-size:x-small;color:#a31515\"><span style=\"font-size:x-small;color:#a31515\">DataGridTemplateColumn</span></span><span style=\"font-size:x-small;color:#0000ff\"><span style=\"font-size:x-small;color:#0000ff\">&gt;</span></span></p>\r\n</span></p>",
    "PostedDate": "2009-06-02T13:45:31.307-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]