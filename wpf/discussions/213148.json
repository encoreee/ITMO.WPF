[
  {
    "Id": "444802",
    "ThreadId": "213148",
    "Html": "<p>Hi there! I'm searching for complete example of implementing validation of specific columns' data, but I can't find complete working example, and almost all examples use various ways of validating( What way is best?</p>\r\n<p>What I need:</p>\r\n<p>I have form, where I have some button. When I click button, it creates user control (it consists of datagrid and couple of buttons - save and reload) and put it on form.</p>\r\n<p>1) I need my DataGrid to validate some of its colums with custom rules</p>\r\n<p>2) Change template of row and cell when cell in error state</p>\r\n<p>3) Show custom tooltip with error message for every single cell, which is in error state.</p>\r\n<p>4) <strong>When there are validation errors in my user control, disable save button</strong></p>\r\n<p>this is my user control xaml:</p>\r\n<div style=\"color:black;background-color:white\">\r\n<pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">UserControl</span> <span style=\"color:red\">x:Class</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Client.Managers</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">xmlns</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">xmlns:x</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/winfx/2006/xaml</span><span style=\"color:black\">&quot;</span>\r\n             <span style=\"color:red\">xmlns:mc</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.openxmlformats.org/markup-compatibility/2006</span><span style=\"color:black\">&quot;</span> \r\n             <span style=\"color:red\">xmlns:d</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">http://schemas.microsoft.com/expression/blend/2008</span><span style=\"color:black\">&quot;</span> \r\n             <span style=\"color:red\">mc:Ignorable</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">d</span><span style=\"color:black\">&quot;</span>\t\t\t\r\n             <span style=\"color:red\">d:DesignHeight</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">300</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">d:DesignWidth</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">300</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span> <span style=\"color:red\">Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">RootGrid1</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid.RowDefinitions</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">RowDefinition</span> <span style=\"color:red\">Height</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">*</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">RowDefinition</span> <span style=\"color:red\">Height</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">29</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid.RowDefinitions</span><span style=\"color:blue\">&gt;</span>\r\n\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGrid</span> <span style=\"color:red\">IsSynchronizedWithCurrentItem</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">True</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t  <span style=\"color:red\">ItemsSource</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=Managers}</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t  <span style=\"color:red\">AutoGenerateColumns</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">False</span><span style=\"color:black\">&quot;</span>\t\t\t\t  \r\n\t\t\t\t  <span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Left</span><span style=\"color:black\">&quot;</span>\t\t\t\t  \r\n\t\t\t\t  <span style=\"color:red\">Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">dataGrid1</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t  <span style=\"color:red\">VerticalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Top</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGrid.RowValidationRules</span><span style=\"color:blue\">&gt;</span>\r\n                          <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataErrorValidationRule</span> <span style=\"color:blue\">/&gt;</span>\r\n\t\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGrid.RowValidationRules</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGrid.Columns</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTextColumn</span> <span style=\"color:red\">Header</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">ID</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Binding</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=ManagerID}</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTextColumn</span> <span style=\"color:red\">Header</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Name</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">ValidCell</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTextColumn.Binding</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Binding</span> <span style=\"color:red\">Path</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Name</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">ValidatesOnDataErrors</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">False</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">ValidatesOnExceptions</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">False</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Binding.ValidationRules</span><span style=\"color:blue\">&gt;</span>\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataErrorValidationRule</span> <span style=\"color:blue\">/&gt;</span>\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Binding.ValidationRules</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Binding</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGridTextColumn.Binding</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGridTextColumn</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTextColumn</span> <span style=\"color:red\">Header</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Rate</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTextColumn.Binding</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Binding</span> <span style=\"color:red\">Path</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Rate</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Binding.ValidationRules</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataErrorValidationRule</span> <span style=\"color:blue\">/&gt;</span>\r\n\t\t\t\t\t\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Binding.ValidationRules</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Binding</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGridTextColumn.Binding</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGridTextColumn</span><span style=\"color:blue\">&gt;</span>\r\n\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTextColumn</span> <span style=\"color:red\">Header</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Created</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span style=\"color:red\">Binding</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=Created}</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTextColumn</span> <span style=\"color:red\">Header</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">By</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span style=\"color:red\">Binding</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=Created_by}</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTextColumn</span> <span style=\"color:red\">Header</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Modified</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span style=\"color:red\">Binding</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=Modified}</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n\t\t\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTextColumn</span> <span style=\"color:red\">Header</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">By</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span style=\"color:red\">Binding</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Path=Modified_by}</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n\t\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGrid.Columns</span><span style=\"color:blue\">&gt;</span>\r\n\t\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGrid</span><span style=\"color:blue\">&gt;</span>\r\n\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button</span> <span style=\"color:red\">Content</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Button</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">Grid.Row</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">1</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">Height</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">23</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Left</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">button1</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">VerticalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Top</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">75</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">Click</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">button1_Click</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n\t\t<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button</span> <span style=\"color:red\">Content</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Button</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">Grid.Row</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">1</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">Height</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">23</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Left</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">Margin</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">89,0,0,0</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">button2</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">VerticalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Top</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">75</span><span style=\"color:black\">&quot;</span>\r\n\t\t\t\t<span style=\"color:red\">Click</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">button2_Click</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">UserControl</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<p>&nbsp;</p>\r\n<p>And this is code behind:</p>\r\n<div style=\"color:black;background-color:white\">\r\n<pre><span style=\"color:blue\">using</span> System.Windows;\r\n<span style=\"color:blue\">using</span> System.Windows.Controls;\r\n<span style=\"color:blue\">using</span> DAL;\r\n\r\n<span style=\"color:blue\">namespace</span> Client\r\n{\r\n\t<span style=\"color:gray\">///</span> <span style=\"color:gray\">&lt;summary&gt;</span>\r\n\t<span style=\"color:gray\">///</span><span style=\"color:green\"> Interaction logic for Managers.xaml</span>\r\n\t<span style=\"color:gray\">///</span> <span style=\"color:gray\">&lt;/summary&gt;</span>\r\n\t<span style=\"color:gray\">///</span><span style=\"color:green\"> </span>\r\n\t<span style=\"color:blue\">public</span> <span style=\"color:blue\">partial</span> <span style=\"color:blue\">class</span> Managers : UserControl\r\n\t{\r\n\t\tManagersModel managersmodel = <span style=\"color:blue\">new</span> ManagersModel();\r\n\t\t<span style=\"color:blue\">public</span> Managers()\r\n\t\t{\r\n\t\t\tInitializeComponent();\t\t\t\r\n\t\t\tdataGrid1.DataContext = managersmodel;\r\n\t\t}\r\n\r\n\t\t<span style=\"color:blue\">private</span> <span style=\"color:blue\">void</span> button1_Click( <span style=\"color:blue\">object</span> sender, RoutedEventArgs e )\r\n\t\t{\r\n\t\t\tmanagersmodel.SaveChanges();\r\n\t\t}\r\n\r\n\t\t<span style=\"color:blue\">private</span> <span style=\"color:blue\">void</span> button2_Click( <span style=\"color:blue\">object</span> sender, RoutedEventArgs e )\r\n\t\t{\r\n\t\t\tmanagersmodel = <span style=\"color:blue\">new</span> ManagersModel();\r\n\t\t\tdataGrid1.DataContext = managersmodel;\r\n\t\t}\r\n\t}\t\r\n}\r\n</pre>\r\n<pre>So, it is very interesting for me, how to disable button, when validation error exists and enable when it dissapear. Even maybe without extra validation rules, at least with <span style=\"color:#a31515\">DataErrorValidationRule</span></pre>\r\n</div>",
    "PostedDate": "2010-05-19T04:23:35.99-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]