[
  {
    "Id": "203712",
    "ThreadId": "60171",
    "Html": "<p>I'm using VSM in ContentControl instead of UserControl. &nbsp;VSM returns False if I call like that ~&nbsp;</p>\r\n<p>\r\n<p>bool result = VisualStateManager.GoToState(this, &quot;Loaded&quot;, false);<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MessageBox.Show(result.ToString());</p>\r\n</p>\r\n<p>\r\n<p>When I check&nbsp;GetTemplateRoot from VSM, I found that you guys are casting the control (argument) to UserControl. So, I will get null since I'm using ContentControl. And also,&nbsp;VisualTreeHelper.GetChildrenCount(control) will always return 0 since myview hasn't been rendered yet.&nbsp;</p>\r\n<p>private static FrameworkElement GetTemplateRoot(Control control)</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;{</p>\r\n<p><strong>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UserControl userControl = control as UserControl;</strong></p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (userControl != null)</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// If using a UserControl, the states will be specified on the</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// root of the content instead of the root of the template.</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return userControl.Content as FrameworkElement;</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>\r\n<p><strong>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (VisualTreeHelper.GetChildrenCount(control) &gt; 0)</strong></p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return VisualTreeHelper.GetChild(control, 0) as FrameworkElement;</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return null;</p>\r\n<p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}</p>\r\n<div>Note: Please answer my old question as well&nbsp;<a href=\"http://wpf.codeplex.com/Thread/View.aspx?ThreadId=59926\">http://wpf.codeplex.com/Thread/View.aspx?ThreadId=59926</a>&nbsp;Thanks.</div>\r\n<div></div>\r\n</p>",
    "PostedDate": "2009-06-20T13:24:21.497-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "204322",
    "ThreadId": "60171",
    "Html": "<p>VSM in the toolkit will only work with controltemplates and UserControl.Content.&nbsp; VSM in dev10 will support your scenario.</p>",
    "PostedDate": "2009-06-22T21:12:58.74-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]