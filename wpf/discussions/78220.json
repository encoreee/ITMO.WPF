[
  {
    "Id": "267599",
    "ThreadId": "78220",
    "Html": "<p>Hello,</p>\r\n<p>I have a tabcontrol that contains a list in the first tab, when a row is doubleclicked a new tab is created with the &quot;details&quot; of the item on that row.</p>\r\n<p>Several tabs can be opened, although only one tab per row.</p>\r\n<p>My problem is that when someone press F5 to update the page in the browser, these dynamically created tabs disappear.</p>\r\n<p>I'm rather new to the WPF world so I have no clue to whats going on, any tips and ideas what I can start looking for?</p>\r\n<p>&nbsp;</p>\r\n<p>/Rob</p>",
    "PostedDate": "2009-12-15T08:06:57.353-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "267836",
    "ThreadId": "78220",
    "Html": "<p>Rob,</p>\r\n<p>I am assuming you are using Xbap. In Xbaps, when you press F5 it re-creates the whole app again. As a result you will lose all the Tabs created at Runtime. Do a MessageBox.Show() in the page constructor, and you will notice that it gets called whenever you press F5. You might what to Persistent the current state of the tabs and use it while re-loading.</p>\r\n<p>Hope this helps,</p>\r\n<p>Navin</p>",
    "PostedDate": "2009-12-15T17:42:35.477-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "267898",
    "ThreadId": "78220",
    "Html": "<p>Hello,</p>\r\n<p>Yes I'm using xbap.</p>\r\n<p>I figured it would be something like that... same as in ASP.NET.</p>\r\n<p>Do I have to save all my dynamic controls and recreate them in the constructor ( as in ASP.NETs PageLoad )? Or is there som other trick I can use.</p>\r\n<p>Thanks for the fast reply.</p>\r\n<p>/Rob</p>",
    "PostedDate": "2009-12-15T23:32:22.9-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "268819",
    "ThreadId": "78220",
    "Html": "<p>This is how I solved it, figured it could help others woth the same problem.</p>\r\n<p>1. I created a property of type List&lt;TabItem&gt; called &quot;DynamicTabs&quot; in the App.xaml.cs</p>\r\n<p>2. Everytime I add/remove a tab to the tabcontrol I also add/remove it from this list.</p>\r\n<p>&nbsp;</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Green\">//Save dynamic tab\t\t\t\t</span>\r\n((App)Application.Current).DynamicTabs.Add(MyTabItem);\r\n\r\n<span style=\"color:Green\">//Remove dynamic tab\t\t\t\t</span><br>((App)Application.Current).DynamicTabs.Remove(MyTabItem);<br></pre>\r\n</div>\r\n<p>&nbsp;</p>\r\n<p>3. I added eventhandlers forwhen the tabcontrol is unloaded and loaded. Found out that I had to remove all the tabs at unloading, otherwise they already had a parent when I tried to add them again in the loaded event. I also tagged the tab that was focused so I can focus it again when reloading.</p>\r\n<p>&nbsp;</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">private</span> <span style=\"color:Blue\">void</span> tabCtrl_Unloaded(<span style=\"color:Blue\">object</span> sender, RoutedEventArgs e)\r\n{\r\n\t<span style=\"color:Green\">//Find out which tab is selected, and tag it</span>\r\n\tTabControl tc = (TabControl)sender;\r\n\t<span style=\"color:Blue\">int</span> selected = tc.SelectedIndex;\r\n\t((TabItem)tc.Items[selected]).Tag = <span style=\"color:#A31515\">&quot;FOCUSED&quot;</span>;\r\n\r\n\t<span style=\"color:Green\">//Remove dynamically created tabs from parentcontrol</span>\r\n\t<span style=\"color:Blue\">foreach</span> (TabItem ti <span style=\"color:Blue\">in</span> ((App)Application.Current).DynamicTabs)\r\n\t{\r\n\t\ttabCtrl.Items.Remove(ti);\r\n\t}\r\n}\r\n<span style=\"color:Green\">//*****************************************************************************************</span>\r\n<span style=\"color:Blue\">private</span> <span style=\"color:Blue\">void</span> tabCtrl_Loaded(<span style=\"color:Blue\">object</span> sender, RoutedEventArgs e)\r\n{\r\n\t<span style=\"color:Blue\">if</span> (((App)Application.Current).DynamicTabs.Count != 0)\r\n\t{\r\n\t\t<span style=\"color:Green\">//Add dynamically created tabs from parentcontrol</span>\r\n\t\t<span style=\"color:Blue\">foreach</span> (TabItem ti <span style=\"color:Blue\">in</span> ((App)Application.Current).DynamicTabs)\r\n\t\t{\r\n\t\t\ttabCtrl.Items.Add(ti);\r\n\t\t\t<span style=\"color:Blue\">if</span> ((String)ti.Tag == <span style=\"color:#A31515\">&quot;FOCUSED&quot;</span>)\r\n\t\t\t{\r\n\t\t\t\tti.Tag = String.Empty;\r\n\t\t\t\tti.Focus();\r\n\t\t\t}\r\n\t\t}\t\t\t\t\r\n\t}\r\n}\t\r\n</pre>\r\n</div>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2009-12-18T00:51:45.697-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]