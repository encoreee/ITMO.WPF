[
  {
    "Id": "182025",
    "ThreadId": "54049",
    "Html": "I've got a grid which represents an address. It's columns are Line1, line2, city, state, zip and a Zipcode lookup button. I want the user to enter Line1 &amp; Line2 first, then tab to the zip field, enter teh zip code, and then press the Zipcode lookup button, which, if the city &amp; state are found, will populate those fields.  <br>\r\n<br>\r\nThe problem I'm having is when they click the Zipcode lookup button, it populates the underlying object (so that when I save it, the City &amp; state persist in the database), but on the screen those columns are blank on the grid.  If I call refresh on the grid, I get an exception that I can't refresh during a row edit. <br>\r\n<br>\r\nWhat's the best way to do this? Refresh the data after the row has been edited?<br>\r\n<br>\r\n<br>\r\nHere's the code: <br>\r\n<br>\r\n<span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">\r\n<p>private</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#0000ff\">void</span><span style=\"font-size:13px\"> ZipLookup(</span><span style=\"font-size:13px;color:#0000ff\">object</span><span style=\"font-size:13px\"> sender, </span><span style=\"font-size:13px;color:#2b91af\">ExecutedRoutedEventArgs</span><span style=\"font-size:13px\"> e)\r\n<p>&nbsp;</p>\r\n<p>{</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#008000\">// if ZipLookup is called from the PolicyHolder grid, </span><span style=\"font-size:13px;color:#008000\">// get the ZipCode from the Zip textbox, and\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#008000\">// use the LookupAddress to set the appropriate fields on there\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">if</span><span style=\"font-size:13px\"> (((System.Windows.</span><span style=\"font-size:13px;color:#2b91af\">FrameworkElement</span><span style=\"font-size:13px\">)e.Source).Name == dgProperties.Name)\r\n<p>&nbsp;</p>\r\n<p>{</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#2b91af\">Property</span><span style=\"font-size:13px\"> newProperty = dgProperties.SelectedItem </span><span style=\"font-size:13px;color:#0000ff\">as</span><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#2b91af\">Property</span><span style=\"font-size:13px\">;\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">if</span><span style=\"font-size:13px\"> (newProperty.Zip == </span><span style=\"font-size:13px;color:#0000ff\">string</span><span style=\"font-size:13px\">.Empty)\r\n<p>&nbsp;</p>\r\n<p>{</p>\r\n<p>HDK.CoreUI.</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#2b91af\">CoreUI</span><span style=\"font-size:13px\">.ShowMessage(</span><span style=\"font-size:13px;color:#a31515\">&quot;Please enter a ZIP code to lookup.&quot;</span><span style=\"font-size:13px\">);\r\n<p>&nbsp;</p>\r\n<p>}</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">else\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px\">\r\n<p>{</p>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#2b91af\">LookupAddress</span><span style=\"font-size:13px\"> address = </span><span style=\"font-size:13px;color:#2b91af\">LookupAddress</span><span style=\"font-size:13px\">.LookupPostalCode(newProperty.Zip);\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">if</span><span style=\"font-size:13px\"> (address != </span><span style=\"font-size:13px;color:#0000ff\">null</span><span style=\"font-size:13px\">)\r\n<p>&nbsp;</p>\r\n<p>{</p>\r\n<p>newProperty.City = address.City;</p>\r\n<p>newProperty.State = address.State;</p>\r\n<p>newProperty.Zip = address.ZipCode;</p>\r\n<p>}</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#008000\">//CollectionViewSource.GetDefaultView(dgProperties.ItemsSource).Refresh();\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#008000\">//dgProperties.Items.Refresh();\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px\">\r\n<p>}</p>\r\n<p>}</p>\r\n<p> </p>\r\n</span>\r\n",
    "PostedDate": "2009-04-21T14:19:26.173-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "182271",
    "ThreadId": "54049",
    "Html": "The easiest way to solve this is probably to implement INotifyPropertyChanged so that the datagrid will know that the value of the property has changed (which will cause it to refresh its display of the data). If when you tab to one of the blank columns and enter edit mode on it the correct data appears, that's very likely your problem.<br>\r\n",
    "PostedDate": "2009-04-22T05:12:50.943-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "182369",
    "ThreadId": "54049",
    "Html": "Hi Mikj,<br>\r\n<br>\r\nThanks for your help. I'm currently binding an observable collection to this grid, so it would be a big change to implement the INotifyPropertyChanged interface, but one that is doable as a last resort.<br>\r\n<br>\r\nHowever, I'm not getting the behavior that you're saying- I change the value of the datagridcell's bound property in Codebehind when a user clicks a button. But when tabbing away to other columns on the grid, or even other controls on the page, it does not refresh (the data is not displayed). Only when I leave the page and come back in is the data displayed.<br>\r\n<br>\r\nAny ideas other than the INotifyPropertyChanged event?<br>\r\n<br>\r\nThanks,<br>\r\nChris\r\n",
    "PostedDate": "2009-04-22T08:19:22.307-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]