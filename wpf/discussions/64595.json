[
  {
    "Id": "219907",
    "ThreadId": "64595",
    "Html": "<p>DataGrid column headers have the&nbsp;<span style=\"font-size:x-small\">FocusableProperty dependency property set to false. Thus if the focus is outside the datagrid and the user clicks on a column header, the focus is NOT transferred to the datagrid. This is a problem if the datagrid has a context menu or keyboard input bindings: the context menu items will be disabled and the key bindings will not fire, since the bindings are not in the visual tree path from the focused item to the root.</span></p>\r\n<p><span style=\"font-size:x-small\">End result: user clicks on grid header &amp; context menu/shortcut keys do not work. :-(</span></p>\r\n<p><span style=\"font-size:x-small\">Short term workaround: add an event handler for the PreviewMouseUp event + set the focus to the grid.</span></p>\r\n<p><span style=\"font-size:x-small\">\r\n<div style=\"color:Black;background-color:White\">\r\n<pre>        <span style=\"color:Blue\">private</span> <span style=\"color:Blue\">void</span> SetFocusIfNotOnThis(<span style=\"color:Blue\">object</span> sender, MouseEventArgs args)\r\n        {\r\n            DependencyObject focusedObject = Keyboard.FocusedElement <span style=\"color:Blue\">as</span> DependencyObject;\r\n\r\n            <span style=\"color:Blue\">if</span> (focusedObject==<span style=\"color:Blue\">null</span> || \r\n                VisualTreeHelpers.FindElementOfTypeInParentTree&lt;DataGrid&gt;(focusedObject)==<span style=\"color:Blue\">null</span>)\r\n            {\r\n                Keyboard.Focus(<span style=\"color:Blue\">this</span>);\r\n            }\r\n        }\r\n</pre>\r\n</div>\r\n</span></p>",
    "PostedDate": "2009-08-05T11:07:17.343-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]