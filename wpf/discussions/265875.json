[
  {
    "Id": "644955",
    "ThreadId": "265875",
    "Html": "\r\n<p>Hi!</p>\r\n<p>Initially I posted this to the PRISM4 forum but got a suggestion that I should<br>\r\ntry this forum as well:) I'm using WPF4 BTW...</p>\r\n<p>I'm running PRISM4 and I've been struggling to get my data binding to work. <br>\r\nI'm following the MVVM pattern and have a view model which initially loads <br>\r\ndata from a RDBMS and wraps it in an ICollectionView. After the initial load<br>\r\nthe view model listens for events which adds data to the ICollectionView.<br>\r\nThis works perfectly but, as I said, I'm struggling when trying to persist<br>\r\nchanges made to the data which is presented in a DataGrid declared below.</p>\r\n<p>The view model publishes the ICollectionView through a read/write property,<br>\r\nResults, which, as you can see has a binding mode of &quot;TwoWay&quot;. I thought <br>\r\nthis would be enough to persist the changes made to the state of the <br>\r\ncheckboxes but no:( I've experimented with a number of ways to accomplish<br>\r\nthis but the state of the checkbox is not propagated back to the view model.<br>\r\nI've intercepted the call to the &quot;PlotClicked&quot; method which is an ICommand<br>\r\nobject but the argument being passed has an unchanged &quot;Plot&quot; attribute!<br>\r\nThis is especially obvious when I click one of the column headers and the <br>\r\nview is sorted - the checked rows are unchecked. <br>\r\n<br>\r\nWhat am I doing wrong here?</p>\r\n<p>Many thanks in advance - I'm really stuck here:(<br>\r\n/Peter</p>\r\n<p><br>\r\n&lt;DataGrid Grid.Row=&quot;0&quot; Name=&quot;gridResults&quot; ItemsSource=&quot;{Binding Results,Mode=TwoWay}&quot; AutoGenerateColumns=&quot;False&quot;&gt;<br>\r\n&nbsp;&lt;DataGrid.Columns&gt;<br>\r\n&nbsp;&nbsp;&lt;DataGridTemplateColumn Header=&quot;Plot&quot;&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&lt;DataGridTemplateColumn.CellTemplate&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;DataTemplate&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;CheckBox IsChecked=&quot;{Binding Path=Plot, Mode=TwoWay}&quot;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HorizontalAlignment=&quot;Center&quot; <br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Command=&quot;{Binding Path=DataContext.PlotClicked,Mode=OneWay, RelativeSource={RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}}&quot;\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CommandParameter=&quot;{Binding SelectedItem, RelativeSource={RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}}&quot;/&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/DataTemplate&gt;<br>\r\n&nbsp;&nbsp;&nbsp;&lt;/DataGridTemplateColumn.CellTemplate&gt;<br>\r\n&nbsp;&nbsp;&lt;/DataGridTemplateColumn&gt;<br>\r\n&nbsp;&nbsp;...</p>\r\n",
    "PostedDate": "2011-07-20T06:31:58.393-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]