[
  {
    "Id": "478428",
    "ThreadId": "223022",
    "Html": "<p>I am using MVVM in WPF where I have a View with few text boxes and other controls.<br>All the controls have tab index set. I want whenever focus comes (using tab or mouse) to any text box, entire content of the text box should get selected (it's a usability requirement). <br>However my ViewModel does not know about my view so how can I accomplish this without putting code into the codebehind of my view (to maintain separation of concerns--objective of MVVM)?</p>\r\n<p>Anybody, any idea?</p>\r\n<p>Thanks,<br>vverma01</p>",
    "PostedDate": "2010-08-09T23:34:49.327-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "479816",
    "ThreadId": "223022",
    "Html": "<p>Hi All,</p>\r\n<p>I got the solution:</p>\r\n<pre><span style=\"font-size:xx-small\"><strong><span style=\"color:blue\">public partial class </span><span style=\"color:#2b91af\">App </span>: </strong></span><span style=\"font-size:xx-small\"><strong><span style=\"color:#2b91af\">Application\r\n</span>{\r\n    <span style=\"color:blue\">protected override void </span>OnStartup(<span style=\"color:#2b91af\">StartupEventArgs </span>e)\r\n    {\r\n        <span style=\"color:#2b91af\">EventManager</span>.RegisterClassHandler(<span style=\"color:blue\">typeof</span>(<span style=\"color:#2b91af\">TextBox</span>), <span style=\"color:#2b91af\">UIElement</span>.PreviewMouseLeftButtonDownEvent,\r\n           <span style=\"color:blue\">new </span><span style=\"color:#2b91af\">MouseButtonEventHandler</span>(SelectivelyHandleMouseButton), <span style=\"color:blue\">true</span>);\r\n        <span style=\"color:#2b91af\">EventManager</span>.RegisterClassHandler(<span style=\"color:blue\">typeof</span>(<span style=\"color:#2b91af\">TextBox</span>), <span style=\"color:#2b91af\">UIElement</span>.GotKeyboardFocusEvent,\r\n          <span style=\"color:blue\">new </span><span style=\"color:#2b91af\">RoutedEventHandler</span>(SelectAllText), <span style=\"color:blue\">true</span>);\r\n\r\n        <span style=\"color:blue\">base</span>.OnStartup(e);\r\n    }\r\n\r\n    <span style=\"color:blue\">private static void </span>SelectivelyHandleMouseButton(<span style=\"color:blue\">object </span>sender, <span style=\"color:#2b91af\">MouseButtonEventArgs </span>e)\r\n    {\r\n        <span style=\"color:blue\">var </span>textbox = (sender <span style=\"color:blue\">as </span><span style=\"color:#2b91af\">TextBox</span>);\r\n        <span style=\"color:blue\">if </span>(textbox != <span style=\"color:blue\">null </span>&amp;&amp; !textbox.IsKeyboardFocusWithin)\r\n        {\r\n            <span style=\"color:blue\">if</span>( e.OriginalSource.GetType().Name == <span style=\"color:#a31515\">&quot;TextBoxView&quot; </span>)\r\n            {\r\n                e.Handled = <span style=\"color:blue\">true</span>;\r\n                textbox.Focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    <span style=\"color:blue\">private static void </span>SelectAllText(<span style=\"color:blue\">object </span>sender, <span style=\"color:#2b91af\">RoutedEventArgs </span>e)\r\n    {\r\n        <span style=\"color:blue\">var </span>textBox = e.OriginalSource <span style=\"color:blue\">as </span><span style=\"color:#2b91af\">TextBox</span>;\r\n        <span style=\"color:blue\">if </span>(textBox != <span style=\"color:blue\">null</span>)\r\n            textBox.SelectAll();\r\n    } \r\n}</strong></span></pre>\r\n<p>For more details please visit:</p>\r\n<p><a href=\"http://www.intertech.com/Blog/post/How-to-Select-All-Text-in-a-WPF-Content-on-Focus.aspx\">http://www.intertech.com/Blog/post/How-to-Select-All-Text-in-a-WPF-Content-on-Focus.aspx</a></p>\r\n<p>Thanks,</p>\r\n<p>vverma01</p>",
    "PostedDate": "2010-08-12T10:29:47.343-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]