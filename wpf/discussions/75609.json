[
  {
    "Id": "258697",
    "ThreadId": "75609",
    "Html": "<p>Hi,</p>\r\n<p>I have a cell that needs its value to be set on it just being clicked. It is multibound to different properties.&nbsp;</p>\r\n<p>Where am I supposed to do this? I have been trying to do it in the datagrid beginingedit handler like this (without much success). I am able to manually click twice(once to select cell and then to start edit) and the value gets set. But I want to do this programmatically...</p>\r\n<pre>private void MyDataGrid_BeginningEdit(object sender, DataGridBeginningEditEventArgs e)\r\n{\r\n\r\n    TextBlock t = e.EditingEventArgs.OriginalSource as TextBlock;\r\n    if (t == null) return;\r\n    t.Text = SimulatedEdit();\r\n\r\n// All this below is just me trying different thing. Not sure what I need to be doing\r\n    e.EditingEventArgs.Handled = true;\r\n    MyDataGrid.CommitEdit();\r\n    MyDataGrid.UnselectAllCells();\r\n}</pre>\r\n<p>This is how the columntemplate is setup</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre>MultiBinding tempmb = <span style=\"color:Blue\">new</span> MultiBinding();\r\nBinding tempXB = <span style=\"color:Blue\">new</span> Binding(<span style=\"color:#A31515\">&quot;X&quot;</span>);\r\nBinding temptYB = <span style=\"color:Blue\">new</span> Binding(<span style=\"color:#A31515\">&quot;Y&quot;</span>);\r\ntempmb.Bindings.Add(tempXB);\r\ntempmb.Bindings.Add(temptYB);\r\ntempmb.ConverterParameter = <span style=\"color:#A31515\">&quot;ggrid&quot;</span>;\r\ntempmb.Converter = <span style=\"color:Blue\">new</span> LabelDecider();\r\n\r\n                DataGridTemplateColumn dgtc = <span style=\"color:Blue\">new</span> DataGridTemplateColumn\r\n                {\r\n                    Header = <span style=\"color:#A31515\">&quot;blah&quot;</span>,  CanUserSort = <span style=\"color:Blue\">false</span>, CanUserReorder = <span style=\"color:Blue\">false</span>,\r\n                };\r\n                DataTemplate t = <span style=\"color:Blue\">new</span> DataTemplate();\r\n                FrameworkElementFactory f = <span style=\"color:Blue\">new</span> FrameworkElementFactory(<span style=\"color:Blue\">typeof</span>(TextBlock));\r\n                f.SetBinding(TextBlock.TextProperty, tempmb);\r\n\r\n                <span style=\"color:Green\">// Setup background color binding</span>\r\n                MultiBinding colorb = <span style=\"color:Blue\">new</span> MultiBinding();\r\n                colorb.Bindings.Add(tempX);\r\n                colorb.Bindings.Add(tempY);\r\n                colorb.ConverterParameter = <span style=\"color:#A31515\">&quot;color&quot;</span>;\r\n                colorb.Converter = <span style=\"color:Blue\">new</span> LabelDecider();\r\n                f.SetBinding(TextBlock.BackgroundProperty, colorb);\r\n                t.VisualTree = f;\r\n                <span style=\"color:Green\">//Every columns Text and Background are using bindings</span>\r\n                dgtc.CellTemplate = t;\r\n\r\n                <span style=\"color:Green\">//setup editing template</span>\r\n                DataTemplate ced = <span style=\"color:Blue\">new</span> DataTemplate();\r\n                FrameworkElementFactory f2 = <span style=\"color:Blue\">new</span> FrameworkElementFactory(<span style=\"color:Blue\">typeof</span>(TextBox));\r\n                MultiBinding tempmb2 = <span style=\"color:Blue\">new</span> MultiBinding();\r\n                tempmb2.Bindings.Add(tempXB);\r\n                tempmb2.Bindings.Add(tempYB);\r\n                tempmb2.Mode = BindingMode.TwoWay;\r\n                tempmb2.ConverterParameter = <span style=\"color:#A31515\">&quot;ggrid&quot;</span>;\r\n                tempmb2.Converter = <span style=\"color:Blue\">new</span> LabelDecider(rDestination.Recievers[k]);\r\n\r\n                tempmb2.UpdateSourceTrigger = UpdateSourceTrigger.LostFocus;\r\n                f2.SetBinding(TextBox.TextProperty, tempmb2);\r\n                ced.VisualTree = f2;\r\n                dgtc.CellEditingTemplate = ced;\r\n\r\n                MyDataGrid.Columns.Add(dgtc);\r\n</pre>\r\n</div>\r\n<p>&nbsp;</p>",
    "PostedDate": "2009-11-19T07:35:53.51-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]