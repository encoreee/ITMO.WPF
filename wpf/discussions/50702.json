[
  {
    "Id": "170018",
    "ThreadId": "50702",
    "Html": "I have a WPF Usercontrol that has a WPF toolkit datagrid.  The usercontrol exposes a dependency property of type visibility <br>\r\n<br>\r\nIn XAML, I am trying to bind the Visibility property on a DataGridTemplateColumn to the dependency property. However, it cannot seem to find it.  Can anyone help? I have been banging my head on this one for several hours...<span style=\"font-size:13px;color:#a31515\"> <span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">tk</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#a31515\">DataGridTemplateColumn</span><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#ff0000\">Header</span><span style=\"font-size:13px;color:#0000ff\">=&quot;Account&quot;</span><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#ff0000\">Visibility</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">Binding</span><span style=\"font-size:13px;color:#ff0000\"> RelativeSource</span><span style=\"font-size:13px;color:#0000ff\">={</span><span style=\"font-size:13px;color:#a31515\">RelativeSource</span><span style=\"font-size:13px;color:#ff0000\"> FindAncestor</span><span style=\"font-size:13px;color:#0000ff\">,</span><span style=\"font-size:13px;color:#ff0000\"> AncestorType</span><span style=\"font-size:13px;color:#0000ff\">={</span><span style=\"font-size:13px;color:#a31515\">x</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#a31515\">Type</span><span style=\"font-size:13px;color:#ff0000\"> UserControl</span><span style=\"font-size:13px;color:#0000ff\">}},</span><span style=\"font-size:13px;color:#ff0000\"> Path</span><span style=\"font-size:13px;color:#0000ff\">=CanSupportAccount,</span><span style=\"font-size:13px;color:#ff0000\"> diagnostics</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#ff0000\">PresentationTraceSources</span><span style=\"font-size:13px;color:#0000ff\">.TraceLevel=High}&quot;</span><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#ff0000\">CellTemplate</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">StaticResource</span><span style=\"font-size:13px;color:#ff0000\"> AccountCellTemplate</span><span style=\"font-size:13px;color:#0000ff\">}&quot;</span><span style=\"font-size:13px;color:#ff0000\">CellEditingTemplate</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">StaticResource</span><span style=\"font-size:13px;color:#ff0000\"> AccountCellTemplate</span><span style=\"font-size:13px;color:#0000ff\">}&quot;/&gt;<br>\r\n<br>\r\nAnd in the codebehind:<br>\r\n<span style=\"font-size:13px;color:#0000ff\">public</span><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#0000ff\">static</span><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#2b91af\">DependencyProperty</span><span style=\"font-size:13px\"> CanSupportAccountProperty;<br>\r\n<span style=\"font-size:13px;color:#0000ff\"><br>\r\npublic</span><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#2b91af\">Visibility</span><span style=\"font-size:13px\"> CanSupportAccount{</span><span style=\"font-size:13px;color:#0000ff\">get</span><span style=\"font-size:13px\">{</span><span style=\"font-size:13px;color:#0000ff\">return</span><span style=\"font-size:13px\"> (</span><span style=\"font-size:13px;color:#2b91af\">Visibility</span><span style=\"font-size:13px\">)GetValue(CanSupportAccountProperty);}<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">set</span><span style=\"font-size:13px\">{SetValue(CanSupportAccountProperty, </span><span style=\"font-size:13px;color:#0000ff\">value</span><span style=\"font-size:13px\">);}}</span>\r\n<p>&nbsp;</p>\r\n<span style=\"font-size:13px\"><span style=\"font-size:13px\">\r\n<p>CanSupportAccountProperty = </p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#2b91af\">DependencyProperty</span><span style=\"font-size:13px\">.Register(</span><span style=\"font-size:13px;color:#a31515\">&quot;CanSupportAccount&quot;</span><span style=\"font-size:13px\">, </span><span style=\"font-size:13px;color:#0000ff\">typeof</span><span style=\"font-size:13px\">(</span><span style=\"font-size:13px;color:#2b91af\">Visibility</span><span style=\"font-size:13px\">),</span><span style=\"font-size:13px;color:#0000ff\">typeof</span><span style=\"font-size:13px\">(</span><span style=\"font-size:13px;color:#2b91af\">CheckpointsGrid</span><span style=\"font-size:13px\">));<br>\r\n<br>\r\nI have also tried to use my control in the FindAncestor attribute of the binding statement i.e.<br>\r\n<span style=\"font-size:13px;color:#008000\">\r\n<p>&nbsp;</p>\r\n<p>Visibility=&quot;{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type SharedControls:CheckpointsGrid}}, Path=CanSupportAccount, diagnostics:PresentationTraceSources.TraceLevel=High}&quot; <br>\r\n<br>\r\nAnyway, I would greatly appreciate help! I admit defeat!<br>\r\nThanks so much.</p>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p> </p>\r\n</span></p>\r\n</span></span></span></p>\r\n</span>\r\n",
    "PostedDate": "2009-03-19T15:38:38.257-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "171017",
    "ThreadId": "50702",
    "Html": "Columns are not actually part of the visual tree and that's why it cannot find your UserControl in the binding.  There is a workaround to get the DataContext to the columns, <a href=\"http://blogs.msdn.com/jaimer/archive/2008/11/22/forwarding-the-datagrid-s-datacontext-to-its-columns.aspx\">http://blogs.msdn.com/jaimer/archive/2008/11/22/forwarding-the-datagrid-s-datacontext-to-its-columns.aspx</a>.  However, having the datacontext will not help if you are trying to bind to Visuals.  You may want to have that CanSupportAccount DP in a viewmodel instead of another UserControl.\r\n",
    "PostedDate": "2009-03-23T13:51:04.457-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "171059",
    "ThreadId": "50702",
    "Html": "First of all, thank you! I am still quite new to this. I do understand your answer. Based on this information, is it impossible to do the following:<br>\r\n1. I have a DataTemplate that contains a ComboBox for my DataGridTemplateColumn. <br>\r\n2. The DataContext (which has my instance of my Controller) is inherited from the parent and used so that the ComboBox's SelectedValue={Binding Path=Routing.Type, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged} can function. It does so beautifully.<br>\r\n<br>\r\nThe ItemsSource is from an XMLDataProvider. However, the XPath varies (this is a reusable control). Therefore, I thought I could create a dependency property, i.e. RoutingTypeXPath and reset the binding in the code behind when I get notification that the dependency property has<br>\r\nchanged.. <br>\r\n<br>\r\nThe combo box in the datatemplate has the following for binding <br>\r\nItemsSource=&quot;{Binding Source={StaticResource XMLRoutingDS}, Mode=OneWay, Path=RoutingTypeXPath, UpdateSourceTrigger=PropertyChanged}&quot;<br>\r\n<br>\r\nAnd in a non-static method after my event in the code behind fires when the DP changes, I basically do a::<br>\r\n<br>\r\nXMLDataProvider xmlDP=TryFindResource(&quot;XmlRoutingData&quot;) as XMLDataProvider;<br>\r\nif (xmlDP != null)<br>\r\n{<br>\r\n    xmlDP.Source = new URI (etc);<br>\r\n   xmlDP.XPath = RoutingTypeXPath;<br>\r\n}<br>\r\n<br>\r\nIt looks like good code to me. :-)....I also tried to create a new binding for the combobox,  but because it is in a datatemplate, I do not think I can get to it.  And, as I said,  I cannot use the datacontext because that is already used.<br>\r\n<br>\r\nWould greatly appeciate your help (again). THANKS!<br>\r\n:-)<br>\r\n<br>\r\n",
    "PostedDate": "2009-03-23T15:11:34.523-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]