[
  {
    "Id": "185710",
    "ThreadId": "55009",
    "Html": "I have a DataGrid bound to a CollectionViewSource. It's a special CLR object so it doesn't directly support deletion through the DataGrid. We actually intercept the delete key with PreviewKeyDown and issue our own CLR command to remove an item.<br>\r\n<br>\r\nWe have a problem though is that when this deletion occurs, the selected row stays selected and the collection decreases by one as we expect, but the keyboard focus jumps to select the whole DataGrid.&nbsp; <br>\r\n<br>\r\nI've tried setting focus at the end of the Delete function we used but still no avail. this is what we have. It uses Vinsibal's GetCell function.<br>\r\n<br>\r\nprivate void DeleteAllSelectedCalls(object sender, RoutedEventArgs e)<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreach (kudu.CallHistoryItem item in this.HistoryDataGrid.SelectedItems)<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; item.RemoveCommand.Execute();<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DataGridCell cell = GetCell(HistoryDataGrid.SelectedIndex, 1);<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cell.Focus();<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>\r\nThe cell.Focus does get called, but then it somehow jumps to the DataGrid when the element is finally removed from the collection. <br>\r\n<br>\r\nAny ideas?<br>\r\n",
    "PostedDate": "2009-04-30T14:15:08.097-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "189455",
    "ThreadId": "55009",
    "Html": "<p>Turns out I was setting focus before my custom collection had actually deleted the selected element. I implemented a callback when the collection finally updated and focusing works great now.</p>",
    "PostedDate": "2009-05-12T12:37:17.683-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]