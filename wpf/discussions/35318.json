[
  {
    "Id": "117400",
    "ThreadId": "35318",
    "Html": "When binding a DataGrid to a DataTable, by default, the header contains the name of the column specified in the DataTable. I'd like to display additional properties of the column in the header. I've been able to successfully template the header, but can't figure out the data binding.<br>\r\n<br>\r\nSpecifically, I have a DataTable with custom DataColumns that contain additional properties. My CustomDataColumn inherits from DataColumn and adds the extra properties &quot;IsActive&quot; and &quot;InternalName&quot;, how do I go about binding to those values from a templated column header? Do I need to set the overall header's data source somewhere?<br>\r\n<br>\r\nThanks,<br>\r\n<br>\r\nBrian<br>\r\n<br>\r\n<br>\r\n",
    "PostedDate": "2008-09-09T16:45:37.07-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "117425",
    "ThreadId": "35318",
    "Html": "There actually isn't any binding on the column header by default.&nbsp; If you take a look at DataGridColumn::CreateDefaultColumn(), you'll find that it sets the header string from the ItemPropertyInfo.Name.&nbsp; <br>\r\n<br>\r\nAnyway, if you want to bind to properties on the DataGridColumn itself you can do something like this,<br>\r\n<br>\r\n<span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">\r\n<p>&lt;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">dg</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">:</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">DataGridTextColumn</span></span><span style=\"font-size:13px;color:#ff0000\"><span style=\"font-size:13px;color:#ff0000\">&nbsp;</span></span><span style=\"font-size:13px;color:#ff0000\"><span style=\"font-size:13px;color:#ff0000\">x</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">:</span></span><span style=\"font-size:13px;color:#ff0000\"><span style=\"font-size:13px;color:#ff0000\">Name</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">=&quot;FirstNameColumn&quot;</span></span><span style=\"font-size:13px;color:#ff0000\"><span style=\"font-size:13px;color:#ff0000\">&nbsp;&nbsp;DataFieldBinding</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">Binding</span></span><span style=\"font-size:13px;color:#ff0000\"><span style=\"font-size:13px;color:#ff0000\"> Path</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">=FirstName}&quot;</span></span><span style=\"font-size:13px\">&nbsp;</span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\"><span style=\"color:#ff0000\">&gt;</span><br>\r\n</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">dg</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">:</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">DataGridTextColumn.HeaderTemplate</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">DataTemplate</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">CheckBox</span></span><span style=\"font-size:13px;color:#ff0000\"><span style=\"font-size:13px;color:#ff0000\"> IsChecked</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">Binding</span></span><span style=\"font-size:13px;color:#ff0000\"><span style=\"font-size:13px;color:#ff0000\"> ElementName</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">=FirstNameColumn,</span></span><span style=\"font-size:13px;color:#ff0000\"><span style=\"font-size:13px;color:#ff0000\"> Path</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">=IsFrozen,</span></span><span style=\"font-size:13px;color:#ff0000\"><span style=\"font-size:13px;color:#ff0000\"> Mode</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">=OneWay}&quot; /&gt;<br>\r\n</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">DataTemplate</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">dg</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">:</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">DataGridTextColumn.HeaderTemplate</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">&lt;/</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">dg</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">:</span></span><span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">DataGridTextColumn</span></span><span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n<p>&nbsp;</p>\r\n</span></span></p>\r\n",
    "PostedDate": "2008-09-09T19:04:50.07-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "117554",
    "ThreadId": "35318",
    "Html": "Interesting. My columns are auto-generated though, and I have a style that is used for that customizes the header for every column. As a result, I won't know the name of the column.<br>\r\n<br>\r\nThe whole goal of this is to have metadata about the columns stored as properties of the DataColumns in my DataTable, which is why I extended the DataColumn. In my case, I'm building a small application to open an Excel spreadsheet, select options about each column and it then imports the data into a database. Each column will have options such as a checkbox indicating it should be imported, a textbox to override the column name, and a dropdown to specify the column type.<br>\r\n<br>\r\nThe trick is that every column is auto-generated. I can handle the AutoGeneratingColumn event and create my own column there, but I'm not sure how to go about assigning the data. I think I'd like to set the header's DataContext to the CustomDataColumn, but I'm not sure how to access that data in the event handler.<br>\r\n<br>\r\n<pre>private void dataGrid_AutoGeneratingColumn(object sender, Microsoft.Windows.Controls.DataGridAutoGeneratingColumnEventArgs e)<br><br>{<br>    var column = new DataGridTextColumn();<br>&nbsp;&nbsp;&nbsp; var header = new DataGridColumnHeader();<br><br>&nbsp;&nbsp;&nbsp; // header.DataContext = ???;<br><br>&nbsp;&nbsp;&nbsp; column.Header = header;<br>&nbsp;&nbsp;&nbsp; column.DataFieldBinding = new Binding(e.PropertyName) { Mode = BindingMode.OneWay };<br>&nbsp;&nbsp;&nbsp; e.Column = column;<br>}</pre>\r\n",
    "PostedDate": "2008-09-10T07:18:38.013-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]