[
  {
    "Id": "147638",
    "ThreadId": "44358",
    "Html": "Hi,<br>\r\n<br>\r\nHow can I add a sub total of a numeric (currency) column to a DataGrid Grouping?<br>\r\n<br>\r\n<br>\r\nThanks<br>\r\n",
    "PostedDate": "2009-01-16T01:54:02.533-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "148322",
    "ThreadId": "44358",
    "Html": "If you are using the built in CollectionView for grouping, one way to accomplish this is through a converter.  Let's say that the GroupStyle looks like this:<br>\r\n<span style=\"font-size:13px;color:#a31515\"><br>\r\n&lt;GroupStyle</span><span style=\"font-size:13px;color:#ff0000\"> x</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#ff0000\">Key</span><span style=\"font-size:13px;color:#0000ff\">=&quot;gs_Default&quot;&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">    &lt;</span><span style=\"font-size:13px;color:#a31515\">GroupStyle.Panel</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">        &lt;</span><span style=\"font-size:13px;color:#a31515\">ItemsPanelTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">            &lt;</span><span style=\"font-size:13px;color:#a31515\">dg</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#a31515\">DataGridRowsPresenter</span><span style=\"font-size:13px;color:#0000ff\">/&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">        &lt;/</span><span style=\"font-size:13px;color:#a31515\">ItemsPanelTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">    &lt;/</span><span style=\"font-size:13px;color:#a31515\">GroupStyle.Panel</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">    &lt;</span><span style=\"font-size:13px;color:#a31515\">GroupStyle.HeaderTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">        &lt;</span><span style=\"font-size:13px;color:#a31515\">DataTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">            &lt;</span><span style=\"font-size:13px;color:#a31515\">StackPanel</span><span style=\"font-size:13px;color:#ff0000\"> Orientation</span><span style=\"font-size:13px;color:#0000ff\">=&quot;Horizontal&quot;&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">                &lt;</span><span style=\"font-size:13px;color:#a31515\">TextBlock</span><span style=\"font-size:13px;color:#ff0000\"> Text</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">Binding</span><span style=\"font-size:13px;color:#ff0000\"> Path</span><span style=\"font-size:13px;color:#0000ff\">=Name}&quot;</span><span style=\"font-size:13px;color:#ff0000\"> FontWeight</span><span style=\"font-size:13px;color:#0000ff\">=&quot;Bold&quot;</span><span style=\"font-size:13px;color:#ff0000\"> Padding</span><span style=\"font-size:13px;color:#0000ff\">=&quot;3&quot;/&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">                &lt;</span><span style=\"font-size:13px;color:#a31515\">TextBlock</span><span style=\"font-size:13px;color:#ff0000\"> Text</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">Binding</span><span style=\"font-size:13px;color:#ff0000\"> Converter</span><span style=\"font-size:13px;color:#0000ff\">={</span><span style=\"font-size:13px;color:#a31515\">StaticResource</span><span style=\"font-size:13px;color:#ff0000\"> SubTotalConverter</span><span style=\"font-size:13px;color:#0000ff\">}}&quot;</span><span style=\"font-size:13px;color:#ff0000\"> FontWeight</span><span style=\"font-size:13px;color:#0000ff\">=&quot;Bold&quot;</span><span style=\"font-size:13px;color:#ff0000\"> Padding</span><span style=\"font-size:13px;color:#0000ff\">=&quot;3&quot;/&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">            &lt;/</span><span style=\"font-size:13px;color:#a31515\">StackPanel</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">        &lt;/</span><span style=\"font-size:13px;color:#a31515\">DataTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">    &lt;/</span><span style=\"font-size:13px;color:#a31515\">GroupStyle.HeaderTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">&lt;/</span><span style=\"font-size:13px;color:#a31515\">GroupStyle</span><span style=\"font-size:13px;color:#0000ff\">&gt;</span><br>\r\n<br>\r\nIn the converter, you will gain access to the CollectionViewGroup item which has information about the number of items it holds, it's name, and the actual items within the group.  You can do the subtotal calculation with that information.  \r\n",
    "PostedDate": "2009-01-19T05:45:53.877-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "149429",
    "ThreadId": "44358",
    "Html": "Thanks that is exactly what I needed to know. It's so easy when you know how!!!<br>\r\n<br>\r\nI had already looked at your DataGridCTPSample and had the basics in place.<br>\r\n<br>\r\nThe grouping that I am doing takes a while to execute (~12 seconds, I have about 1600 records in my test table and I am grouping on a time/date column). Is that to be expected? I have a decent specification PC that I am testing on - dual core processor with 4GB RAM.<br>\r\n",
    "PostedDate": "2009-01-21T12:51:44.94-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "149869",
    "ThreadId": "44358",
    "Html": "Hi again, I have added an expander to the group style (which starts off not expanded) and now it groups very quickly! So I have some clues now and a line of investigation.<br>\r\n",
    "PostedDate": "2009-01-22T11:38:10.31-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "168066",
    "ThreadId": "44358",
    "Html": "Hi,<br>\r\n<br>\r\nThis kind of solution looks close to what I need to implement a single 'totals' rows in my DataGrid. However, I want to add the totals row below the other items, as shown in this crude ASCII diagram. I will only need total information for some of the numeric column data.<br>\r\n<br>\r\nCol A      | Col B |  Col C  |     Col D    |  Col E  <br>\r\n-------------------------------------------------<br>\r\nName A  |    4     |    45.5  |   Some text |     34.3<br>\r\nName B  |    5     |    23.5  |   Some text |     23.6<br>\r\nName C  |    2    |     34.2  |   Some text |    22.1<br>\r\n------------------------------------------------<br>\r\nTotal           11                                          80.0 <br>\r\n<br>\r\nCan this be done with the template for the GroupStyle, as described by vinsibal, or can the total information only appear in the header for the subgroup? If that is the case, I guess perhaps I could place the total information in a second subgroup and force that to appear below the group for the individual items (and disable sorting on that column).<br>\r\n<br>\r\nBasically, I'm new to the DataGrid and GroupStyles and am trying to figure how best to achieve this?<br>\r\n<br>\r\nVinsibal or ChangedDaily, could you expand on your solution any more than you have done so above? That would be really helpful as I feel like I'm missing something.<br>\r\n<br>\r\nThe alternative is to look at the posts about implementing a footer. Is this functionality planned to be added to the datagrid?<br>\r\n<br>\r\nThanks,<br>\r\n<br>\r\nMax<br>\r\n<br>\r\n<br>\r\n",
    "PostedDate": "2009-03-14T05:43:16.803-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "169581",
    "ThreadId": "44358",
    "Html": "You can use ItemsPanelTemplate of GroupStyle.Panel to put the footer. Some thing like following should work for you....<br>\r\n<br>\r\n<span style=\"font-size:13px;color:#a31515\">&lt;GroupStyle</span><span style=\"font-size:13px;color:#ff0000\"> x</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#ff0000\">Key</span><span style=\"font-size:13px;color:#0000ff\">=&quot;gs_Default&quot;&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">    &lt;</span><span style=\"font-size:13px;color:#a31515\">GroupStyle.Panel</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">        &lt;</span><span style=\"font-size:13px;color:#a31515\">ItemsPanelTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n            &lt;StackPanel&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">                &lt;</span><span style=\"font-size:13px;color:#a31515\">dg</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#a31515\">DataGridRowsPresenter</span><span style=\"font-size:13px;color:#0000ff\">/&gt;<br>\r\n<span style=\"font-size:13px;color:#0000ff\">                &lt;</span><span style=\"font-size:13px;color:#a31515\">StackPanel</span><span style=\"font-size:13px;color:#ff0000\"> Orientation</span><span style=\"font-size:13px;color:#0000ff\">=&quot;Horizontal&quot;&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">                    &lt;</span><span style=\"font-size:13px;color:#a31515\">TextBlock</span><span style=\"font-size:13px;color:#ff0000\"> Text</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">Binding</span><span style=\"font-size:13px;color:#ff0000\"> Path</span><span style=\"font-size:13px;color:#0000ff\">=Name}&quot;</span><span style=\"font-size:13px;color:#ff0000\"> FontWeight</span><span style=\"font-size:13px;color:#0000ff\">=&quot;Bold&quot;</span><span style=\"font-size:13px;color:#ff0000\"> Padding</span><span style=\"font-size:13px;color:#0000ff\">=&quot;3&quot;/&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">                    &lt;</span><span style=\"font-size:13px;color:#a31515\">TextBlock</span><span style=\"font-size:13px;color:#ff0000\"> Text</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">Binding</span><span style=\"font-size:13px;color:#ff0000\"> Converter</span><span style=\"font-size:13px;color:#0000ff\">={</span><span style=\"font-size:13px;color:#a31515\">StaticResource</span><span style=\"font-size:13px;color:#ff0000\"> SubTotalConverter</span><span style=\"font-size:13px;color:#0000ff\">}}&quot;</span><span style=\"font-size:13px;color:#ff0000\"> FontWeight</span><span style=\"font-size:13px;color:#0000ff\">=&quot;Bold&quot;</span><span style=\"font-size:13px;color:#ff0000\"> Padding</span><span style=\"font-size:13px;color:#0000ff\">=&quot;3&quot;/&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">                &lt;/</span><span style=\"font-size:13px;color:#a31515\">StackPanel</span><span style=\"font-size:13px;color:#0000ff\">&gt;</span><br>\r\n            &lt;/StackPanel&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">        &lt;/</span><span style=\"font-size:13px;color:#a31515\">ItemsPanelTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">    &lt;/</span><span style=\"font-size:13px;color:#a31515\">GroupStyle.Panel</span><span style=\"font-size:13px;color:#0000ff\">&gt;</span><span style=\"font-size:13px;color:#0000ff\"><br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">&lt;/</span><span style=\"font-size:13px;color:#a31515\">GroupStyle</span><span style=\"font-size:13px;color:#0000ff\">&gt;</span><br>\r\n",
    "PostedDate": "2009-03-18T13:54:15.397-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "176686",
    "ThreadId": "44358",
    "Html": "Thanks for the reply. I actually handled this in the end by creating an extended data object for the datagrid which has an IsTotal boolean field. I then applied grouping to the data in the grid, and sorted the groups on this field. I was able to keep the position fixed as a footer by hiding the column the IsTotal field was mapped to, so that the sort order would alway place it at the bottom. Finally, the group style for the header was set to something that took up no space, making it appear as if the data is all one group.<br>\r\n<br>\r\nMax\r\n",
    "PostedDate": "2009-04-07T09:58:02.147-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]