[
  {
    "Id": "154769",
    "ThreadId": "46337",
    "Html": "I have a context menu on my DataGrid that works just fine when a cell is not being edited. However, if a cell is being edited, its context menu shows a different menu with cut, copy and paste on it. I would like the same context menu shown <br>\r\n<br>\r\nI have tried a few different things that did not work. One was to define the context menu as a resource and set the context menu on the DataGridCell via the CellStyle property.<br>\r\n<br>\r\n<span style=\"font-size:10px;color:#0000ff\"><span style=\"font-size:10px;color:#0000ff\">\r\n<p>&lt;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:10px;color:#a31515\">DataGrid.Resources</span><span style=\"font-size:10px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:10px;color:#0000ff\">&lt;</span><span style=\"font-size:10px;color:#a31515\">ContextMenu</span><span style=\"font-size:10px;color:#ff0000\"> x</span><span style=\"font-size:10px;color:#0000ff\">:</span><span style=\"font-size:10px;color:#ff0000\">Key</span><span style=\"font-size:10px;color:#0000ff\">=&quot;dataGridContextMenu&quot;&gt;<br>\r\n</span><span style=\"font-size:10px;color:#0000ff\">&lt;</span><span style=\"font-size:10px;color:#a31515\">MenuItem</span><span style=\"font-size:10px;color:#ff0000\"> Header</span><span style=\"font-size:10px;color:#0000ff\">=&quot;Paste data&quot;</span><span style=\"font-size:10px;color:#ff0000\"> Click</span><span style=\"font-size:10px;color:#0000ff\">=&quot;PasteFromClipboard&quot;/&gt;<br>\r\n</span><span style=\"font-size:10px;color:#0000ff\">&lt;/</span><span style=\"font-size:10px;color:#a31515\">ContextMenu</span><span style=\"font-size:10px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:10px;color:#0000ff\">&lt;/</span><span style=\"font-size:10px;color:#a31515\"><span style=\"font-size:10px;color:#a31515\">DataGrid</span>.Resources</span><span style=\"font-size:10px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:10px;color:#0000ff\"><span style=\"font-size:10px;color:#0000ff\">\r\n<p>&lt;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:10px;color:#a31515\">DataGrid.CellStyle</span><span style=\"font-size:10px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:10px;color:#0000ff\">&lt;</span><span style=\"font-size:10px;color:#a31515\">Style</span><span style=\"font-size:10px;color:#ff0000\"> TargetType</span><span style=\"font-size:10px;color:#0000ff\">=&quot;{</span><span style=\"font-size:10px;color:#a31515\">x</span><span style=\"font-size:10px;color:#0000ff\">:</span><span style=\"font-size:10px;color:#a31515\">Type</span><span style=\"font-size:10px;color:#ff0000\"> Controls</span><span style=\"font-size:10px;color:#0000ff\">:</span><span style=\"font-size:10px;color:#ff0000\">DataGridCell</span><span style=\"font-size:10px;color:#0000ff\">}&quot;&gt;<br>\r\n</span><span style=\"font-size:10px;color:#0000ff\">&lt;</span><span style=\"font-size:10px;color:#a31515\">Setter</span><span style=\"font-size:10px;color:#ff0000\"> Property</span><span style=\"font-size:10px;color:#0000ff\">=&quot;ContextMenu&quot;</span><span style=\"font-size:10px;color:#ff0000\"> Value</span><span style=\"font-size:10px;color:#0000ff\">=&quot;{</span><span style=\"font-size:10px;color:#a31515\">StaticResource</span><span style=\"font-size:10px;color:#ff0000\"> dataGridContextMenu</span><span style=\"font-size:10px;color:#0000ff\">}&quot;&gt;<br>\r\n</span><span style=\"font-size:10px;color:#0000ff\">&lt;/</span><span style=\"font-size:10px;color:#a31515\">Setter</span><span style=\"font-size:10px;color:#0000ff\">&gt;<br>\r\n</span><span style=\"font-size:10px;color:#0000ff\">&lt;/</span><span style=\"font-size:10px;color:#a31515\">Style</span><span style=\"font-size:10px;color:#0000ff\">&gt;<br>\r\n<span style=\"font-size:10px;color:#0000ff\">&lt;/</span><span style=\"font-size:10px;color:#a31515\">DataGrid.CellStyle</span><span style=\"font-size:10px;color:#0000ff\">&gt;<br>\r\n<br>\r\nDoes anyone have any suggestions on how this can be achieved?<br>\r\n<br>\r\nThanks,<br>\r\n<br>\r\nGeoff\r\n<p>&nbsp;</p>\r\n</span></span></p>\r\n",
    "PostedDate": "2009-02-05T10:27:39.097-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "154774",
    "ThreadId": "46337",
    "Html": "I found a way to achieve this, although it seems a little clumsy. <br>\r\n<br>\r\nIn the PreviewMouseRightButtonDown event handler, add code as follows:<br>\r\n<br>\r\n<p>ContextMenu.IsOpen = <span style=\"font-size:10px;color:#0000ff\">true</span><span style=\"font-size:10px\">;<br>\r\ne.Handled = </span><span style=\"font-size:10px;color:#0000ff\">true</span><span style=\"font-size:10px\">;\r\n<p>&nbsp;</p>\r\n</span></p>\r\nThis works OK for right clicks,Â  but does not handle the case where the user presses the context menu key on the keyboard but it seems that not many people use that key anyway.<br>\r\n<br>\r\nIf anyone else has a better solution, please share!<br>\r\n<br>\r\n<br>\r\n<br>\r\n<span style=\"font-size:10px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:10px\">\r\n<p>&nbsp;</p>\r\n</span></p>\r\n",
    "PostedDate": "2009-02-05T10:50:32.077-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "154961",
    "ThreadId": "46337",
    "Html": "I believe the recommended approach would be to retemplate the editing state control that exists inside the DataGridCell on edit, and replace the context menu there.<br>\r\n",
    "PostedDate": "2009-02-05T23:33:07.84-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]