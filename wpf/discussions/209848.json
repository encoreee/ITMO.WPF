[
  {
    "Id": "432973",
    "ThreadId": "209848",
    "Html": "<p>I have been struggling for days trying to get working what I thought would be a piece of cake. I have a <span style=\"color:#00ffff\">DataSet </span>with multiple <span style=\"color:#00ffff\">DataTables</span>.&nbsp; The tables and their underlying row names are navigable with a tree view. When the user clicks on a row name I want the field items for that row to be displayed in a <span style=\"color:#00ffff\">DataGrid </span>with the column names auto-generated. My expectation was that when the DG is bound to an <span style=\"color:#00ffff\">ObservableCollection</span> of<span style=\"color:#00ffff\"> DataRow</span>s (or their <span style=\"color:#00ffff\">DataRowView</span>s)&nbsp; all of which share a common <span style=\"color:#00ffff\">Table</span> property, the DG would get the column headers from the Table and display the Row<strong> items</strong> in their appropriate GridBox. That of course is not what happens. <strong>The GB displays the column headers and data of the DataView object, not the underlying Items.&nbsp;</strong></p>\r\n<p>I have tried many approaches (return the Table, build a new DataTable, return the DataView, return ObservableCollections of each etc.) but this is where I'm at now:</p>\r\n<p>\r\n<div style=\"color:black;background-color:white\">\r\n<pre>        <span style=\"color:blue\">#region</span> Selected Row Display\r\n        <span style=\"color:blue\">private</span> ObservableCollection&lt;DataRowView&gt; _selectedRow = <span style=\"color:blue\">new</span> ObservableCollection&lt;DataRowView&gt;();\r\n        <span style=\"color:blue\">public</span> ObservableCollection&lt;DataRowView&gt; SelectedRow\r\n        {\r\n            <span style=\"color:blue\">get</span>\r\n            {               \r\n               <span style=\"color:blue\">return</span> _selectedRow;\r\n            }\r\n            <span style=\"color:blue\">set</span>\r\n            {\r\n                _selectedRow.Clear(); \r\n                <span style=\"color:green\">//Get selected row view model from tree</span>\r\n                <span style=\"color:blue\">var</span> x = <span style=\"color:blue\">this</span>.Where(c=&gt;((ManagedViewModel)c).IsSelected).ToArray();\r\n                RowViewModel y = (RowViewModel)x[0];\r\n\r\n                <span style=\"color:green\">//Get the data model from the RVM</span>\r\n                RowElement re = (RowElement)y.DataElement;\r\n                DataRow dr = re.Row;\r\n\r\n                <span style=\"color:green\">//Create a DataView</span>\r\n                DataColumn[] keys=dr.Table.PrimaryKey;\r\n                <span style=\"color:blue\">string</span> key = <span style=\"color:#a31515\">&quot;[&quot;</span>+keys[0].ColumnName + <span style=\"color:#a31515\">&quot;] = '&quot;</span> + dr.ItemArray[keys[0].Ordinal].ToString()+<span style=\"color:#a31515\">&quot;'&quot;</span>;\r\n                DataView dv = <span style=\"color:blue\">new</span> DataView(dr.Table, key, keys[0].ColumnName, DataViewRowState.CurrentRows); \r\n\r\n                <span style=\"color:green\">//Add the DataRowView to the OC</span>\r\n                _selectedRow.Add(dv[0]);\r\n            }\r\n        }\r\n</pre>\r\n</div>\r\nThe XAML for the DG is just\r\n<div style=\"color:black;background-color:white\">\r\n<pre>   <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">WpfToolkit</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">DataGrid</span> <span style=\"color:red\">ItemsSource</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding}</span><span style=\"color:black\">&quot;</span> \r\n                             <span style=\"color:red\">HorizontalScrollBarVisibility</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Visible</span><span style=\"color:black\">&quot;</span> \r\n                             <span style=\"color:red\">SelectionMode</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Extended</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Height</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">219</span><span style=\"color:black\">&quot;</span> \r\n                             <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">466</span><span style=\"color:black\">&quot;</span> \r\n                             <span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Left</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">dataGrid</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n            \r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">WpfToolkit</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">DataGrid</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n</p>\r\n<p>and in the code behind I set dataGrid.DataContext = vm.SelectedRow</p>\r\n<p>Since I know it woks if I bind&nbsp; a View Model of a data model, I thought perhaps if instantiated a view model for each table which all inherit from a common abstract base class, I could bind to an Observable&lt;BaseClass&gt; collection. Stymied again. The DG in this case displays the abstract base class fields (i.e nothing). Argh!!!</p>\r\n<p>Can anyone tell me what I am doing wrong or if what I am trying to do is beyond the capability of the DataGrid?</p>",
    "PostedDate": "2010-04-19T19:42:14.473-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "433746",
    "ThreadId": "209848",
    "Html": "<p>I figured this out and posted my solution <a title=here href=\"http://social.msdn.microsoft.com/Forums/en-US/wpf/thread/f945ef3b-2e42-4b21-9764-700be270e7b2\">here</a></p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2010-04-21T09:33:49.967-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]