[
  {
    "Id": "429535",
    "ThreadId": "208905",
    "Html": "<p>I'm trying to use the WPF Toolkit DataGrid control to edit a Collection of strings, and while the strings display just fine and I can even delete them from the collection via the DataGrid, I can't appear to edit any values or add any new ones, and I can't figure out why this is. Perhaps someone here can help.</p>\r\n<p>My Window has its DataContext set to itself, as follows:&nbsp;</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Window</span> <span style=\"color:Red\">x:Class</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Foo.Bar</span><span style=\"color:Black\">&quot;</span>\r\n    <span style=\"color:Red\">xmlns</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span><span style=\"color:Black\">&quot;</span>\r\n    <span style=\"color:Red\">xmlns:x</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">http://schemas.microsoft.com/winfx/2006/xaml</span><span style=\"color:Black\">&quot;</span>\r\n    <span style=\"color:Red\">xmlns:wpftoolkit</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">http://schemas.microsoft.com/wpf/2008/toolkit</span><span style=\"color:Black\">&quot;</span>\r\n    <span style=\"color:Red\">Title</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Foo</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Height</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">506</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Width</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">825</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Loaded</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Window_Loaded</span><span style=\"color:Black\">&quot;</span>\r\n    <strong><span style=\"color:Red\">DataContext</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding RelativeSource={RelativeSource Self}}</span><span style=\"color:Black\">&quot;</span></strong><span style=\"color:Blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<p>&nbsp;Then, further down, there is the datagrid declaration. This binds the ItemsSource property to a dependency property called &quot;StringCollection&quot; of type&nbsp;Collection&lt;string&gt;, and creates one text column with the value bound to the current item in the string collection:&nbsp;</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">wpftoolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGrid</span> <span style=\"color:Red\">AutoGenerateColumns</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">False</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Name</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">stringsDataGrid</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">CanUserAddRows</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">True</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">CanUserDeleteRows</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">True</span><span style=\"color:Black\">&quot;</span> <strong><span style=\"color:Red\">ItemsSource</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding StringCollection}</span><span style=\"color:Black\">&quot;</span></strong><span style=\"color:Blue\">&gt;</span>\r\n        <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">wpftoolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGrid.Columns</span><span style=\"color:Blue\">&gt;</span>\r\n                <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">wpftoolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGridTextColumn</span> <span style=\"color:Red\">Header</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">String value</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">CanUserReorder</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">True</span><span style=\"color:Black\">&quot;</span> <strong><span style=\"color:Red\">Binding</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding Path=.}</span><span style=\"color:Black\">&quot;</span></strong> <span style=\"color:Red\">Width</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">*</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span>\r\n                <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">wpftoolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGridTextColumn</span><span style=\"color:Blue\">&gt;</span>\r\n        <span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">wpftoolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGrid.Columns</span><span style=\"color:Blue\">&gt;</span>\r\n<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">wpftoolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGrid</span><span style=\"color:Blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<p>\r\n<p>The StringCollection property is declared as a public DependencyProperty in the Window's codebehind as follows:</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">public</span> Collection&lt;<span style=\"color:Blue\">string</span>&gt; StringCollection\r\n{\r\n    <span style=\"color:Blue\">get</span> { <span style=\"color:Blue\">return</span> (Collection&lt;<span style=\"color:Blue\">string</span>&gt;)GetValue(StringCollectionProperty); }\r\n    <span style=\"color:Blue\">set</span> { SetValue(StringCollectionProperty, value); }\r\n}\r\n\r\n<span style=\"color:Green\">// Using a DependencyProperty as the backing store for StringCollection.  This enables animation, styling, binding, etc...</span>\r\n<span style=\"color:Blue\">public</span> <span style=\"color:Blue\">static</span> <span style=\"color:Blue\">readonly</span> DependencyProperty StringCollectionProperty =\r\n    DependencyProperty.Register(<span style=\"color:#A31515\">&quot;StringCollection&quot;</span>, <span style=\"color:Blue\">typeof</span>(Collection&lt;<span style=\"color:Blue\">string</span>&gt;), <span style=\"color:Blue\">typeof</span>(Bar), <span style=\"color:Blue\">null</span>);\r\n</pre>\r\n</div>\r\n<p>When I run this application, the datagrid displays all the strings in StringCollection perfectly fine, and when I use Delete to remove rows from the datagrid, those strings are automatically removed from StringCollection. So far so good. However, when I edit a row and press Enter to commit the edit, the value in the row just reverts back to the initial value. Also, despite having set the CanUserAddRows property to true, there isn't actually an extra empty row at the bottom of the grid where I could enter a new string.</p>\r\n<p>What exactly am I doing wrong, and how can I set this up in such a way that I can also edit and add new strings to the collection?</p>\r\n</p>",
    "PostedDate": "2010-04-10T05:47:06.75-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]