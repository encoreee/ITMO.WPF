[
  {
    "Id": "177927",
    "ThreadId": "52897",
    "Html": "<p>We have 3 Tables:<br>\r\nMain Table Customers<br>\r\nChild Table Orders<br>\r\nGrandChild Table OrderDetails<br>\r\nThere are Foreign Relationships between the Customers and Orders Table and Between the Oders and OrderDetails Table</p>\r\n<p>We have a ListBox whose ItemsSource is Customers i.e. The Main Table<br>\r\nWe have a DataGrid whose ItesSource has been set to the Relation Between Customers and Orders i.e. <strong>FK_Orders_Customers</strong><br>\r\nWe have another DataGrid whose ItesSource has been set to the Relation Between Orders and OrderDetails i.e. <strong>FK_Orders_Customers/FK_OrderDetails_Orders<br>\r\n</strong><br>\r\nif the Order table record is saved, the foreign key gets generated correctly when adding a new record to the OrderDetails Table using the NewItemRow in the DataGrid<br>\r\nBut if the record in the Order Table is a new record (i.e. not yet saved), the foregin key when addinmg a New Orderdetails record is not generated correctly and you get an Exception that first displays<br>\r\n<br>\r\n<strong><span style=\"text-decoration:underline\">There is no source code available for the current location.</span></strong></p>\r\n<p>AND THEN</p>\r\n<p><strong><span style=\"text-decoration:underline\">ForeignKeyConstraint FK_OrderDetails_Orders requires the child key values (-1) to exist in the parent table.</span></strong></p>\r\n<p>Even after this operation, now that the Orders table has been saved and its actual identity has been retreived from the Database, if you re-try to add the OrderDetails record again, you still get the -1 as the </p>\r\n<p>foreign key. If you close the application and restart it, and then add a new OrderDetails record, then you get the correct foreign key.<br>\r\nAny ideas of how to solve this problem?<br>\r\nThanks</p>\r\n",
    "PostedDate": "2009-04-10T06:24:02.737-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]