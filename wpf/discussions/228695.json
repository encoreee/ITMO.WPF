[
  {
    "Id": "498856",
    "ThreadId": "228695",
    "Html": "<p>Hi Experts,</p>\r\n<p>I have a custom datepicker with me and i am trying to set focus to this using attached property. I have the toolkit version 3.5.50211.1 which was released on Feb 2010. The focus is working fine when i do <code>DatePicker.Focus();</code> in my code. My custom datepicker code is as follows:</p>\r\n<p>-- My DatePicker</p>\r\n<pre>using System.Collections.Generic;\r\nusing System.Linq;\r\nusing System.Text;\r\nusing Microsoft.Windows.Controls;\r\nusing System.Windows;\r\nusing System.Windows.Controls;\r\nusing System.Windows.Data;\r\nusing System.Windows.Documents;\r\nusing System.Windows.Input;\r\nusing System.Windows.Media;\r\nusing System.Windows.Media.Imaging;\r\nusing System.Windows.Navigation;\r\nusing System.Windows.Shapes;\r\nusing System.Data;\r\nusing System.ComponentModel;\r\nusing System.Windows.Controls.Primitives;\r\n\r\nnamespace Guardian.PAS.PASFramework.UI.WPF\r\n{\r\n    public class PASDatePicker : DatePicker\r\n    {\r\n        #region Attached Property\r\n\r\n        /// &lt;summary&gt;\r\n        /// Get of IsFocus Property.\r\n        /// &lt;/summary&gt;\r\n        /// &lt;param name=&quot;obj&quot;&gt;&lt;/param&gt;\r\n        /// &lt;returns&gt;&lt;/returns&gt;\r\n        public static bool GetIsFocus(DependencyObject obj)\r\n        {\r\n            return (bool)obj.GetValue(IsFocusProperty);\r\n        }\r\n\r\n        /// &lt;summary&gt;\r\n        /// Set of IsFocus Property.\r\n        /// &lt;/summary&gt;\r\n        /// &lt;param name=&quot;obj&quot;&gt;&lt;/param&gt;\r\n        /// &lt;param name=&quot;value&quot;&gt;&lt;/param&gt;\r\n        public static void SetIsFocus(DependencyObject obj, bool value)\r\n        {\r\n            obj.SetValue(IsFocusProperty, value);\r\n        }\r\n\r\n\r\n        public static readonly DependencyProperty IsFocusProperty =\r\n                DependencyProperty.RegisterAttached(\r\n                 &quot;IsFocus&quot;, typeof(bool), typeof(PASDatePicker),\r\n                 new UIPropertyMetadata(false, OnIsFocusPropertyChanged));\r\n\r\n        /// &lt;summary&gt;\r\n        /// Property change event of IsFocused.\r\n        /// &lt;/summary&gt;\r\n        /// &lt;param name=&quot;d&quot;&gt;&lt;/param&gt;\r\n        /// &lt;param name=&quot;e&quot;&gt;&lt;/param&gt;\r\n        private static void OnIsFocusPropertyChanged(DependencyObject d,\r\n                DependencyPropertyChangedEventArgs e)\r\n        {\r\n            var uie = (UIElement)d;\r\n            if ((bool)e.NewValue)\r\n            {\r\n                // Don't care about false values. \r\n                (uie as PASDatePicker).Focus();\r\n            }\r\n        }\r\n        #endregion\r\n    }\r\n}\r\n\r\n</pre>\r\n<p>I am using this datepicker in my code and trying to set focus using the Isfocus attached property defined above.</p>\r\n<p>-- test form xaml</p>\r\n<pre>&lt;Window x:Class=&quot;Guardian.PAS.BARSLibrary.Test.frmPASDatePickerTest&quot;\r\n    xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;\r\n    xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;\r\n    Title=&quot;frmPASDatePickerTest&quot; Height=&quot;300&quot; Width=&quot;300&quot;\r\n    xmlns:my=&quot;clr-namespace:Guardian.PAS.PASFramework.UI.WPF;assembly=Guardian.PAS.PASFramework.UI.WPF&quot;&gt;\r\n    &lt;Grid&gt;\r\n        &lt;my:PASDatePicker Name=&quot;dtpDate&quot; Height=&quot;25&quot; Margin=&quot;64,40,64,0&quot; VerticalAlignment=&quot;Top&quot;\r\n        my:PASDatePicker.IsFocus =&quot;{Binding GoviddateissuedFocused}&quot; /&gt;\r\n        &lt;Button Height=&quot;23&quot; Margin=&quot;64,90,139,0&quot; Name=&quot;button1&quot; VerticalAlignment=&quot;Top&quot; Click=&quot;button1_Click&quot;&gt;change&lt;/Button&gt;\r\n    &lt;/Grid&gt;\r\n&lt;/Window&gt;\r\n\r\n</pre>\r\n<p>-- Test form xaml.cs</p>\r\n<pre>using System;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing System.Text;\r\nusing System.Windows;\r\nusing System.Windows.Controls;\r\nusing System.Windows.Data;\r\nusing System.Windows.Documents;\r\nusing System.Windows.Input;\r\nusing System.Windows.Media;\r\nusing System.Windows.Media.Imaging;\r\nusing System.Windows.Shapes;\r\nusing System.Reflection;\r\nusing Microsoft.Windows.Controls;\r\nusing System.Configuration;\r\nusing System.Data;\r\nusing System.Collections;\r\nusing System.ComponentModel;\r\n\r\nnamespace Guardian.PAS.BARSLibrary.Test\r\n{\r\n    /// &lt;summary&gt;\r\n    /// Interaction logic for frmPASDatePickerTest.xaml\r\n    /// &lt;/summary&gt;\r\n    public partial class frmPASDatePickerTest : Window, INotifyPropertyChanged\r\n    {\r\n        public frmPASDatePickerTest()\r\n        {\r\n            InitializeComponent();\r\n\r\n            dtpDate.Focus();\r\n        }\r\n\r\n        private bool _goviddateissuedFocused = false;\r\n        /// &lt;summary&gt;\r\n        /// Get/Set for GoviddateissuedFocused property.\r\n        /// &lt;/summary&gt;\r\n        public bool GoviddateissuedFocused\r\n        {\r\n            get { return _goviddateissuedFocused; }\r\n            set\r\n            {\r\n                if (_goviddateissuedFocused != value)\r\n                {\r\n                    _goviddateissuedFocused = value;\r\n                    RaisePropertyChanged(&quot;GoviddateissuedFocused&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n        #region PropertyChanged Block\r\n        /// &lt;summary&gt;\r\n        /// EventHandler for Property Change\r\n        /// &lt;/summary&gt;\r\n        public event PropertyChangedEventHandler PropertyChanged;\r\n\r\n        /// &lt;summary&gt;\r\n        /// Raises event on Property Change\r\n        /// &lt;/summary&gt;\r\n        /// &lt;param name=&quot;property&quot;&gt;&lt;/param&gt;\r\n        private void RaisePropertyChanged(string property)\r\n        {\r\n            if (PropertyChanged != null)\r\n            {\r\n                PropertyChanged(this, new PropertyChangedEventArgs(property));\r\n            }\r\n        }\r\n        #endregion\r\n\r\n        private void button1_Click(object sender, RoutedEventArgs e)\r\n        {\r\n            GoviddateissuedFocused = true;\r\n        }\r\n    }\r\n}\r\n\r\n</pre>\r\n<p>Now when i click on change button the datepicker does not get the focus.</p>\r\n<p>Please help! Thanks in advance!</p>\r\n<p>Regards,</p>\r\n<p>Samar</p>",
    "PostedDate": "2010-09-27T03:38:14.51-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]