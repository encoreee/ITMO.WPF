[
  {
    "Id": "141975",
    "ThreadId": "42723",
    "Html": "Hi <br>\r\n<br>\r\nI woudl like to bind a command to the DataGridColumnHeader using a custom ColumnHeaderStyle<br>\r\n<br>\r\nFollowing the DM-V-VM pattern of <a href=\"http://blogs.msdn.com/dancre/archive/2006/10/11/datamodel-view-viewmodel-pattern-series.aspx\">Dan Crevier's Blog </a>I defined a ViewModel with a SortColumnCommand Parameter (type RoutedCommand), set the DataContext of the DataGrid to the ViewModel object and defined a setter in the style <br>\r\n<br>\r\n<span style=\"font-size:13px;color:#a31515\">\r\n<p> </p>\r\n</span>\r\n<p dir=ltr style=\"margin-right:0px\"><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">Style</span><span style=\"font-size:13px;color:#ff0000\"> x</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#ff0000\">Key</span><span style=\"font-size:13px;color:#0000ff\">=&quot;MyHeader&quot;</span><span style=\"font-size:13px\"> </span><span style=\"font-size:13px;color:#ff0000\">TargetType</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">x</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#a31515\">Type</span><span style=\"font-size:13px;color:#ff0000\"> toolkit</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#ff0000\">DataGridColumnHeader</span><span style=\"font-size:13px;color:#0000ff\">}&quot;&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">    &lt;</span><span style=\"font-size:13px;color:#a31515\">Setter</span><span style=\"font-size:13px;color:#ff0000\"> Property</span><span style=\"font-size:13px;color:#0000ff\">=&quot;Command&quot;</span><span style=\"font-size:13px;color:#ff0000\"> Value</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">Binding</span><span style=\"font-size:13px;color:#ff0000\"> SortColumnCommandModel</span><span style=\"font-size:13px;color:#0000ff\">.</span><span style=\"font-size:13px;color:#ff0000\">Command</span><span style=\"font-size:13px;color:#0000ff\">}&quot;/&gt;<br>\r\n</span><span style=\"font-size:13px;color:#0000ff\">    &lt;</span><span style=\"font-size:13px;color:#a31515\">Setter</span><span style=\"font-size:13px;color:#ff0000\"> Property</span><span style=\"font-size:13px;color:#0000ff\">=&quot;local:CreateCommandBinding.Command&quot;</span><span style=\"font-size:13px;color:#ff0000\"> Value</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">Binding</span><span style=\"font-size:13px;color:#ff0000\"> SortColumnCommandModel</span><span style=\"font-size:13px;color:#0000ff\">}&quot;/&gt;<br>\r\n    ....<br>\r\n<br>\r\n<span style=\"font-size:16px;color:#000000\">The setter seems not to understand the DataContext and gives binding errors. <br>\r\n<br>\r\nAny obvious mistakes in what I try to do here ? <br>\r\nAny ideas how to bind a command to the DataGridColumnHeader ?<br>\r\n<br>\r\n<br>\r\nThanks<br>\r\n<br>\r\n<p> </p>\r\n<p> </p>\r\n</span>\r\n<p> </p>\r\n</span></p>\r\n<p>&nbsp;</p>\r\n<p> </p>\r\n",
    "PostedDate": "2008-12-19T17:04:41.13-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "145021",
    "ThreadId": "42723",
    "Html": "Try the technic on forwarding the DataContext that Jaime describes here, <a href=\"http://blogs.msdn.com/jaimer/archive/2008/11/22/forwarding-the-datagrid-s-datacontext-to-its-columns.aspx\">http://blogs.msdn.com/jaimer/archive/2008/11/22/forwarding-the-datagrid-s-datacontext-to-its-columns.aspx</a>.\r\n",
    "PostedDate": "2009-01-07T05:51:31.893-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]