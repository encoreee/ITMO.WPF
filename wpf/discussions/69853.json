[
  {
    "Id": "237836",
    "ThreadId": "69853",
    "Html": "<p>I am creating a WPF window with a DataGrid, and I want to show the blank &quot;new item&quot; row at the bottom of the grid that allows me to add a new item to the grid. For some reason, the blank row is not shown on the grid on my window. Here is the markup I used to create the DataGrid:</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">toolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGrid</span>  <span style=\"color:Red\">x:Name</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">ProjectTasksDataGrid</span><span style=\"color:Black\">&quot;</span> \r\n                   <span style=\"color:Red\">DockPanel.Dock</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Top</span><span style=\"color:Black\">&quot;</span> \r\n                   <span style=\"color:Red\">Style</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{DynamicResource {x:Static res:SharedResources.FsBlueGridKey}}</span><span style=\"color:Black\">&quot;</span>\r\n                   <span style=\"color:Red\">AutoGenerateColumns</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">False</span><span style=\"color:Black\">&quot;</span> \r\n                   <span style=\"color:Red\">ItemsSource</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding SelectedProject.Tasks}</span><span style=\"color:Black\">&quot;</span> \r\n                   <span style=\"color:Red\">RowHeaderWidth</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">0</span><span style=\"color:Black\">&quot;</span> \r\n                   <span style=\"color:Red\">MouseMove</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">OnStartDrag</span><span style=\"color:Black\">&quot;</span> \r\n                   <span style=\"color:Red\">DragEnter</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">OnCheckDropTarget</span><span style=\"color:Black\">&quot;</span> \r\n                   <span style=\"color:Red\">DragOver</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">OnCheckDropTarget</span><span style=\"color:Black\">&quot;</span> \r\n                   <span style=\"color:Red\">DragLeave</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">OnCheckDropTarget</span><span style=\"color:Black\">&quot;</span> \r\n                   <span style=\"color:Red\">Drop</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">OnDrop</span><span style=\"color:Black\">&quot;</span> \r\n                   <span style=\"color:Red\">InitializingNewItem</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">ProjectTasksDataGrid_InitializingNewItem</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span>\r\n\t<span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">toolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGrid.Columns</span><span style=\"color:Blue\">&gt;</span>\r\n        <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">toolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGridCheckBoxColumn</span> <span style=\"color:Red\">HeaderTemplate</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{DynamicResource {x:Static res:SharedResources.CheckmarkHeaderKey}}</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Width</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">25</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Binding</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding Completed}</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">IsReadOnly</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">false</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">/&gt;</span>\r\n        <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">toolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGridTextColumn</span> <span style=\"color:Red\">Header</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Days</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Width</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">75</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Binding</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding NumDays}</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">IsReadOnly</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">false</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">/&gt;</span>\r\n        <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">toolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGridTextColumn</span> <span style=\"color:Red\">Header</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Due Date</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Width</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">75</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Binding</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding DueDate, Converter={StaticResource standardDateConverter}}</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">IsReadOnly</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">false</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">/&gt;</span>\r\n        <span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">toolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGridTextColumn</span> <span style=\"color:Red\">Header</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Description</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Width</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">*</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Binding</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding Description}</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">IsReadOnly</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">false</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">/&gt;</span>\r\n\t<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">toolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGrid.Columns</span><span style=\"color:Blue\">&gt;</span>\r\n<span style=\"color:Blue\">&lt;/</span><span style=\"color:#A31515\">toolkit</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">DataGrid</span><span style=\"color:Blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<p>I can't figure out why the blank row isn't showing. I have tried the obvious stuff (IsReadOnly=&quot;false&quot;, CanUserAddRows=&quot;True&quot;), with no luck. Any idea why the blank row is disabled? Thanks for your help.</p>",
    "PostedDate": "2009-09-23T07:10:54.927-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "250693",
    "ThreadId": "69853",
    "Html": "<p>Finally got back to this one. Turns out the problem lies with the collection class I use. The class is derived from ObservableCollection&lt;T&gt;, but it has two type parameters:</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\"><div style=\"color:Black;background-color:White\"><pre><span style=\"color:Blue\">public</span> <span style=\"color:Blue\">class</span> VmCollection&lt;VM, DM&gt; : ObservableCollection&lt;VM&gt;\r\n{\r\n     ...\r\n}\r\n</pre>\r\n</div>\r\n</span></pre>\r\n</div>\r\n<p>The class wraps a domain object (DM) inside a view model object wrapper (VM), then adds the wrapper to its collection.</p>\r\n<p>It seems that the second type parameter causes the WPF DataGrid to become uneditable. The fix is to avoid calling the VmCollection class at run time. Instead, I derive a class for each type of object to be wrapped:</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">public</span> <span style=\"color:Blue\">class</span> FooItemsVm : VmCollection &lt;FooItemVm, FooItem&gt;\r\n{\r\n     ...\r\n}\r\n</pre>\r\n</div>\r\n<p>The derived class is a simple shell, much like a Repository derived class. Since the class has no typed parameters, it appears to solve the problem.</p>\r\n<p>I have documented the problem and the fix <a title=here href=\"http://stackoverflow.com/questions/1466951/wpf-datagrid-blank-row-missing\">here</a>. I have also written a <a href=\"http://www.codeproject.com/KB/WPF/WpfNhibernateToolkit.aspx?msg=3251806#xx3251806xx\">CodeProject article</a> on the wrapper classes, which I am going to update for this fix. Hope this helps someone else down the road!</p>\r\n<pre></pre>",
    "PostedDate": "2009-10-28T07:45:42.617-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]