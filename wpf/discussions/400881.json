[
  {
    "Id": "932819",
    "ThreadId": "400881",
    "Html": "\r\n<p>using a&nbsp;DataGridTemplateColumn in .Net4.0 wpf leaks memory. here is a working example from stackoverflow.</p>\r\n<p><a href=\"http://stackoverflow.com/questions/13081064/datagrid-binding-textbox-memory-leak\">http://stackoverflow.com/questions/13081064/datagrid-binding-textbox-memory-leak</a></p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre>&lt;Window x:Class=<span style=\"color:#a31515\">&quot;test.MainWindow&quot;</span>\n    xmlns=<span style=\"color:#a31515\">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span>\n    xmlns:x=<span style=\"color:#a31515\">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span>\n    Title=<span style=\"color:#a31515\">&quot;MainWindow&quot;</span> Height=<span style=\"color:#a31515\">&quot;350&quot;</span> Width=<span style=\"color:#a31515\">&quot;525&quot;</span>&gt;\n&lt;Grid&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n        &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;DataGrid Name=<span style=\"color:#a31515\">&quot;dg&quot;</span> Grid.Row=<span style=\"color:#a31515\">&quot;0&quot;</span> AutoGenerateColumns=<span style=\"color:#a31515\">&quot;False&quot;</span> ItemsSource=<span style=\"color:#a31515\">&quot;{Binding}&quot;</span>&gt;\n        &lt;DataGrid.Columns&gt;\n            &lt;DataGridTemplateColumn&gt;\n                &lt;DataGridTemplateColumn.CellTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBox Text=<span style=\"color:#a31515\">&quot;{Binding Text0}&quot;</span>&gt;&lt;/TextBox&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;/DataGridTemplateColumn&gt;\n            &lt;DataGridTemplateColumn&gt;\n                &lt;DataGridTemplateColumn.CellTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBox Text=<span style=\"color:#a31515\">&quot;{Binding Text1}&quot;</span>&gt;&lt;/TextBox&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;/DataGridTemplateColumn&gt;\n            &lt;DataGridTemplateColumn&gt;\n                &lt;DataGridTemplateColumn.CellTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBox Text=<span style=\"color:#a31515\">&quot;{Binding Text2}&quot;</span>&gt;&lt;/TextBox&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;/DataGridTemplateColumn&gt;\n            &lt;DataGridTemplateColumn&gt;\n                &lt;DataGridTemplateColumn.CellTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBox Text=<span style=\"color:#a31515\">&quot;{Binding Text3}&quot;</span>&gt;&lt;/TextBox&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;/DataGridTemplateColumn&gt;\n            &lt;DataGridTemplateColumn&gt;\n                &lt;DataGridTemplateColumn.CellTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBox Text=<span style=\"color:#a31515\">&quot;{Binding Text4}&quot;</span>&gt;&lt;/TextBox&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;/DataGridTemplateColumn&gt;\n            &lt;DataGridTemplateColumn&gt;\n                &lt;DataGridTemplateColumn.CellTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBox Text=<span style=\"color:#a31515\">&quot;{Binding Text5}&quot;</span>&gt;&lt;/TextBox&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;/DataGridTemplateColumn&gt;\n            &lt;DataGridTemplateColumn&gt;\n                &lt;DataGridTemplateColumn.CellTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBox Text=<span style=\"color:#a31515\">&quot;{Binding Text6}&quot;</span>&gt;&lt;/TextBox&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;/DataGridTemplateColumn&gt;\n            &lt;DataGridTemplateColumn&gt;\n                &lt;DataGridTemplateColumn.CellTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBox Text=<span style=\"color:#a31515\">&quot;{Binding Text7}&quot;</span>&gt;&lt;/TextBox&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;/DataGridTemplateColumn&gt;\n            &lt;DataGridTemplateColumn&gt;\n                &lt;DataGridTemplateColumn.CellTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBox Text=<span style=\"color:#a31515\">&quot;{Binding Text8}&quot;</span>&gt;&lt;/TextBox&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;/DataGridTemplateColumn&gt;\n            &lt;DataGridTemplateColumn&gt;\n                &lt;DataGridTemplateColumn.CellTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBox Text=<span style=\"color:#a31515\">&quot;{Binding Text9}&quot;</span>&gt;&lt;/TextBox&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;/DataGridTemplateColumn&gt;\n        &lt;/DataGrid.Columns&gt;\n    &lt;/DataGrid&gt;\n    &lt;Button Content=<span style=\"color:#a31515\">&quot;update&quot;</span> Grid.Row=<span style=\"color:#a31515\">&quot;1&quot;</span> Width=<span style=\"color:#a31515\">&quot;Auto&quot;</span> Height=<span style=\"color:#a31515\">&quot;Auto&quot;</span> Click=<span style=\"color:#a31515\">&quot;Button_Click&quot;</span>&gt;&lt;/Button&gt;\n&lt;/Grid&gt;\n</pre>\r\n</div>\r\n<p></p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:blue\">namespace</span> test\n{\n<span style=\"color:gray\">///</span> <span style=\"color:gray\">&lt;summary&gt;</span>\n<span style=\"color:gray\">///</span><span style=\"color:green\"> Interaction logic for MainWindow.xaml</span>\n<span style=\"color:gray\">///</span> <span style=\"color:gray\">&lt;/summary&gt;</span>\n<span style=\"color:blue\">public</span> <span style=\"color:blue\">partial</span> <span style=\"color:blue\">class</span> MainWindow : Window\n{\n    <span style=\"color:blue\">public</span> MainWindow()\n    {\n        InitializeComponent();\n\n\n    }\n\n    <span style=\"color:blue\">public</span> ObservableCollection&lt;obj&gt; res;\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">void</span> Button_Click(<span style=\"color:blue\">object</span> sender, RoutedEventArgs e)\n    {\n        res = <span style=\"color:blue\">new</span> ObservableCollection&lt;obj&gt;();\n\n\n        <span style=\"color:blue\">for</span> (<span style=\"color:blue\">var</span> i = 0; i &lt; 20; i&#43;&#43;)\n        {\n            res.Add(<span style=\"color:blue\">new</span> obj\n            {\n                Text0 = ((<span style=\"color:blue\">new</span> Random()).NextDouble() * 100).ToString(),\n                Text1 = ((<span style=\"color:blue\">new</span> Random()).NextDouble() * 100).ToString(),\n                Text2 = ((<span style=\"color:blue\">new</span> Random()).NextDouble() * 100).ToString(),\n                Text3 = ((<span style=\"color:blue\">new</span> Random()).NextDouble() * 100).ToString(),\n                Text4 = ((<span style=\"color:blue\">new</span> Random()).NextDouble() * 100).ToString(),\n                Text5 = ((<span style=\"color:blue\">new</span> Random()).NextDouble() * 100).ToString(),\n                Text6 = ((<span style=\"color:blue\">new</span> Random()).NextDouble() * 100).ToString(),\n                Text7 = ((<span style=\"color:blue\">new</span> Random()).NextDouble() * 100).ToString(),\n                Text8 = ((<span style=\"color:blue\">new</span> Random()).NextDouble() * 100).ToString(),\n                Text9 = ((<span style=\"color:blue\">new</span> Random()).NextDouble() * 100).ToString(),\n            });\n        }\n        dg.DataContext = res;\n    }\n\n\n}\n<span style=\"color:blue\">public</span> <span style=\"color:blue\">class</span> obj : INotifyPropertyChanged\n{\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">string</span> text0;\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">string</span> Text0\n    {\n        <span style=\"color:blue\">get</span>\n        {\n            <span style=\"color:blue\">return</span> text0;\n        }\n        <span style=\"color:blue\">set</span>\n        {\n            text0 = value;\n            NotifyPropertyChanged(<span style=\"color:#a31515\">&quot;Text0&quot;</span>);\n        }\n    }\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">string</span> text1;\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">string</span> Text1\n    {\n        <span style=\"color:blue\">get</span>\n        {\n            <span style=\"color:blue\">return</span> text1;\n        }\n        <span style=\"color:blue\">set</span>\n        {\n            text1 = value;\n            NotifyPropertyChanged(<span style=\"color:#a31515\">&quot;Text1&quot;</span>);\n        }\n    }\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">string</span> text2;\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">string</span> Text2\n    {\n        <span style=\"color:blue\">get</span>\n        {\n            <span style=\"color:blue\">return</span> text2;\n        }\n        <span style=\"color:blue\">set</span>\n        {\n            text2 = value;\n            NotifyPropertyChanged(<span style=\"color:#a31515\">&quot;Text2&quot;</span>);\n        }\n    }\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">string</span> text3;\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">string</span> Text3\n    {\n        <span style=\"color:blue\">get</span>\n        {\n            <span style=\"color:blue\">return</span> text3;\n        }\n        <span style=\"color:blue\">set</span>\n        {\n            text3 = value;\n            NotifyPropertyChanged(<span style=\"color:#a31515\">&quot;Text3&quot;</span>);\n        }\n    }\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">string</span> text4;\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">string</span> Text4\n    {\n        <span style=\"color:blue\">get</span>\n        {\n            <span style=\"color:blue\">return</span> text4;\n        }\n        <span style=\"color:blue\">set</span>\n        {\n            text4 = value;\n            NotifyPropertyChanged(<span style=\"color:#a31515\">&quot;Text4&quot;</span>);\n        }\n    }\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">string</span> text5;\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">string</span> Text5\n    {\n        <span style=\"color:blue\">get</span>\n        {\n            <span style=\"color:blue\">return</span> text5;\n        }\n        <span style=\"color:blue\">set</span>\n        {\n            text5 = value;\n            NotifyPropertyChanged(<span style=\"color:#a31515\">&quot;Text5&quot;</span>);\n        }\n    }\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">string</span> text6;\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">string</span> Text6\n    {\n        <span style=\"color:blue\">get</span>\n        {\n            <span style=\"color:blue\">return</span> text6;\n        }\n        <span style=\"color:blue\">set</span>\n        {\n            text6 = value;\n            NotifyPropertyChanged(<span style=\"color:#a31515\">&quot;Text6&quot;</span>);\n        }\n    }\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">string</span> text7;\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">string</span> Text7\n    {\n        <span style=\"color:blue\">get</span>\n        {\n            <span style=\"color:blue\">return</span> text7;\n        }\n        <span style=\"color:blue\">set</span>\n        {\n            text7 = value;\n            NotifyPropertyChanged(<span style=\"color:#a31515\">&quot;Text7&quot;</span>);\n        }\n    }\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">string</span> text8;\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">string</span> Text8\n    {\n        <span style=\"color:blue\">get</span>\n        {\n            <span style=\"color:blue\">return</span> text8;\n        }\n        <span style=\"color:blue\">set</span>\n        {\n            text8 = value;\n            NotifyPropertyChanged(<span style=\"color:#a31515\">&quot;Text8&quot;</span>);\n        }\n    }\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">string</span> text9;\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">string</span> Text9\n    {\n        <span style=\"color:blue\">get</span>\n        {\n            <span style=\"color:blue\">return</span> text9;\n        }\n        <span style=\"color:blue\">set</span>\n        {\n            text9 = value;\n            NotifyPropertyChanged(<span style=\"color:#a31515\">&quot;Text9&quot;</span>);\n        }\n    }\n\n    <span style=\"color:blue\">private</span> <span style=\"color:blue\">void</span> NotifyPropertyChanged(String info)\n    {\n        <span style=\"color:blue\">if</span> (PropertyChanged != <span style=\"color:blue\">null</span>)\n        {\n            PropertyChanged(<span style=\"color:blue\">this</span>, <span style=\"color:blue\">new</span> PropertyChangedEventArgs(info));\n        }\n    }\n    <span style=\"color:blue\">public</span> <span style=\"color:blue\">event</span> PropertyChangedEventHandler PropertyChanged;\n}\n</pre>\r\n</div>\r\n<p></p>\r\n",
    "PostedDate": "2012-10-26T00:43:23.9-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]