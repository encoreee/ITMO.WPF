[
  {
    "Id": "133979",
    "ThreadId": "40362",
    "Html": "Hi,<br>\r\n<br>\r\nPlease can anybody tell me why this:<br>\r\n<br>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Style</span><span style=\"color:#ff0000;font-size:13px\"> x</span><span style=\"color:#0000ff;font-size:13px\">:</span><span style=\"color:#ff0000;font-size:13px\">Key</span><span style=\"color:#0000ff;font-size:13px\">=&quot;GridColumnHeader&quot;</span><span style=\"color:#ff0000;font-size:13px\"> TargetType</span><span style=\"color:#0000ff;font-size:13px\">=&quot;toolkit:DataGridColumnHeader&quot;&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>\r\n<p><span style=\"color:#0000ff;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"></span><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#ff0000;font-size:13px\"> Property</span><span style=\"color:#0000ff;font-size:13px\">=&quot;ContextMenu&quot;&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter.Value</span><span style=\"color:#0000ff;font-size:13px\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">ContextMenu</span><span style=\"color:#0000ff;font-size:13px\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">MenuItem</span><span style=\"color:#ff0000;font-size:13px\"> Header</span><span style=\"color:#0000ff;font-size:13px\">=&quot;xyz&quot;/&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;/</span><span style=\"color:#a31515;font-size:13px\">ContextMenu</span><span style=\"color:#0000ff;font-size:13px\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;/</span><span style=\"color:#a31515;font-size:13px\">Setter.Value</span><span style=\"color:#0000ff;font-size:13px\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;/</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#0000ff;font-size:13px\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#ff0000;font-size:13px\"> Property</span><span style=\"color:#0000ff;font-size:13px\">=&quot;Template&quot;&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter.Value</span><span style=\"color:#0000ff;font-size:13px\">&gt; ....... etc\r\n<p>&nbsp;</p>\r\n</span></p>\r\ndoesn't work, it gives an error &quot;Cannot add content of type 'System.Windows.Controls.ContextMenu' to an object of type 'System.Object'.  Error at object 'System.Windows.Controls.ContextMenu' in markup file&quot;<br>\r\n<br>\r\nwhen this does work:<br>\r\n<br>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Style</span><span style=\"color:#ff0000;font-size:13px\"> x</span><span style=\"color:#0000ff;font-size:13px\">:</span><span style=\"color:#ff0000;font-size:13px\">Key</span><span style=\"color:#0000ff;font-size:13px\">=&quot;GridColumnHeader&quot;</span><span style=\"color:#ff0000;font-size:13px\"> TargetType</span><span style=\"color:#0000ff;font-size:13px\">=&quot;toolkit:DataGridColumnHeader&quot;&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">EventSetter</span><span style=\"color:#ff0000;font-size:13px\"> Event</span><span style=\"color:#0000ff;font-size:13px\">=&quot;ContextMenuOpening&quot;</span><span style=\"color:#ff0000;font-size:13px\"> Handler</span><span style=\"color:#0000ff;font-size:13px\">=&quot;columnHeader_ContextMenuOpening&quot;/&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#ff0000;font-size:13px\"> Property</span><span style=\"color:#0000ff;font-size:13px\">=&quot;Background&quot;</span><span style=\"color:#ff0000;font-size:13px\"> Value</span><span style=\"color:#0000ff;font-size:13px\">=&quot;{</span><span style=\"color:#a31515;font-size:13px\">x</span><span style=\"color:#0000ff;font-size:13px\">:</span><span style=\"color:#a31515;font-size:13px\">Null</span><span style=\"color:#0000ff;font-size:13px\">}&quot;/&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#ff0000;font-size:13px\"> Property</span><span style=\"color:#0000ff;font-size:13px\">=&quot;Foreground&quot;</span><span style=\"color:#ff0000;font-size:13px\"> Value</span><span style=\"color:#0000ff;font-size:13px\">=&quot;{</span><span style=\"color:#a31515;font-size:13px\">StaticResource</span><span style=\"color:#ff0000;font-size:13px\"> MGridColumnHeaderForeground</span><span style=\"color:#0000ff;font-size:13px\">}&quot; /&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><strong><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#ff0000;font-size:13px\"> Property</span><span style=\"color:#0000ff;font-size:13px\">=&quot;ContextMenu&quot;</span><span style=\"color:#ff0000;font-size:13px\"> Value</span><span style=\"color:#0000ff;font-size:13px\">=&quot;{</span><span style=\"color:#a31515;font-size:13px\">StaticResource</span><span style=\"color:#ff0000;font-size:13px\"> myCM</span><span style=\"color:#0000ff;font-size:13px\">}&quot;/&gt;\r\n<p>&nbsp;</p>\r\n</span></strong></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#ff0000;font-size:13px\"> Property</span><span style=\"color:#0000ff;font-size:13px\">=&quot;ContextMenu&quot;&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;/</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#0000ff;font-size:13px\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#ff0000;font-size:13px\"> Property</span><span style=\"color:#0000ff;font-size:13px\">=&quot;Template&quot;&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter.Value</span><span style=\"color:#0000ff;font-size:13px\">&gt;.... etc\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<br>\r\nThanks<br>\r\n",
    "PostedDate": "2008-11-20T11:15:22.003-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "133989",
    "ThreadId": "40362",
    "Html": "This is not a problem with DataGridColumnHeaderStyle as is but a problem in general.<br>\r\n<br>\r\n<a href=\"http://social.msdn.microsoft.com/Forums/en-US/wpf/thread/1504cf4d-374c-4044-b409-f7e7f6b68add/\">http://social.msdn.microsoft.com/Forums/en-US/wpf/thread/1504cf4d-374c-4044-b409-f7e7f6b68add/</a> should provide a little more insight.\r\n",
    "PostedDate": "2008-11-20T11:41:02.927-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "134020",
    "ThreadId": "40362",
    "Html": "Thanks, I think I understand that now. This brings me to my original problem: When I open a ContextMenu by clicking on the DataGridColumnHeader the ContextMenu flashes up for a fraction of a second, closes and then reopens and all is OK. If I click slowly (hold the right mouse button down for a second) then the menu only appears once and is OK. Also, if I click somewhere outside the Grid before I click the column header it is also OK. Any ideas why that might be?<br>\r\n<br>\r\nI've tried removing the ContextMenuOpening event, that is not related.<br>\r\n<br>\r\nThanks<br>\r\n<br>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Style</span><span style=\"color:#ff0000;font-size:13px\"> x</span><span style=\"color:#0000ff;font-size:13px\">:</span><span style=\"color:#ff0000;font-size:13px\">Key</span><span style=\"color:#0000ff;font-size:13px\">=&quot;GridColumnHeader&quot;</span><span style=\"color:#ff0000;font-size:13px\"> TargetType</span><span style=\"color:#0000ff;font-size:13px\">=&quot;toolkit:DataGridColumnHeader&quot;&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">EventSetter</span><span style=\"color:#ff0000;font-size:13px\"> Event</span><span style=\"color:#0000ff;font-size:13px\">=&quot;ContextMenuOpening&quot;</span><span style=\"color:#ff0000;font-size:13px\"> Handler</span><span style=\"color:#0000ff;font-size:13px\">=&quot;columnHeader_ContextMenuOpening&quot;/&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#ff0000;font-size:13px\"> Property</span><span style=\"color:#0000ff;font-size:13px\">=&quot;Background&quot;</span><span style=\"color:#ff0000;font-size:13px\"> Value</span><span style=\"color:#0000ff;font-size:13px\">=&quot;{</span><span style=\"color:#a31515;font-size:13px\">x</span><span style=\"color:#0000ff;font-size:13px\">:</span><span style=\"color:#a31515;font-size:13px\">Null</span><span style=\"color:#0000ff;font-size:13px\">}&quot;/&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#ff0000;font-size:13px\"> Property</span><span style=\"color:#0000ff;font-size:13px\">=&quot;Foreground&quot;</span><span style=\"color:#ff0000;font-size:13px\"> Value</span><span style=\"color:#0000ff;font-size:13px\">=&quot;{</span><span style=\"color:#a31515;font-size:13px\">StaticResource</span><span style=\"color:#ff0000;font-size:13px\"> MGridColumnHeaderForeground</span><span style=\"color:#0000ff;font-size:13px\">}&quot;/&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#ff0000;font-size:13px\"> Property</span><span style=\"color:#0000ff;font-size:13px\">=&quot;ContextMenu&quot;</span><span style=\"color:#ff0000;font-size:13px\"> Value</span><span style=\"color:#0000ff;font-size:13px\">=&quot;{</span><span style=\"color:#a31515;font-size:13px\">StaticResource</span><span style=\"color:#ff0000;font-size:13px\"> myCM</span><span style=\"color:#0000ff;font-size:13px\">}&quot;/&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter</span><span style=\"color:#ff0000;font-size:13px\"> Property</span><span style=\"color:#0000ff;font-size:13px\">=&quot;Template&quot;&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">Setter.Value</span><span style=\"color:#0000ff;font-size:13px\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"color:#a31515;font-size:13px\"><span style=\"color:#a31515;font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"color:#0000ff;font-size:13px\">&lt;</span><span style=\"color:#a31515;font-size:13px\">ControlTemplate</span><span style=\"color:#ff0000;font-size:13px\"> TargetType</span><span style=\"color:#0000ff;font-size:13px\">=&quot;{</span><span style=\"color:#a31515;font-size:13px\">x</span><span style=\"color:#0000ff;font-size:13px\">:</span><span style=\"color:#a31515;font-size:13px\">Type</span><span style=\"color:#ff0000;font-size:13px\"> toolkit</span><span style=\"color:#0000ff;font-size:13px\">:</span><span style=\"color:#ff0000;font-size:13px\">DataGridColumnHeader</span><span style=\"color:#0000ff;font-size:13px\">}&quot;&gt;.....\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<br>\r\n",
    "PostedDate": "2008-11-20T13:03:41.9-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "134126",
    "ThreadId": "40362",
    "Html": "I couldn't repro the behavior which you are reporting.\r\n",
    "PostedDate": "2008-11-20T19:06:47.817-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "134716",
    "ThreadId": "40362",
    "Html": "Hi,<br>\r\n<br>\r\nI was unable to find out what was wrong with the XAML, but by moving the creation of the context menu to code (ColumnHeader_ContextMenuOpening) the problem has gone away. If I remember I will try to debug this further sometime in the future.<br>\r\n<br>\r\nThanks for your help with the Style problem.<br>\r\n",
    "PostedDate": "2008-11-24T02:25:35.38-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]