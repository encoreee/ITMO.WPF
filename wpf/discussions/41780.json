[
  {
    "Id": "138639",
    "ThreadId": "41780",
    "Html": "I have created a custom header for my datagrid with textboxes and other controls, to allow a user to be able to filter on a particular column. Because I am creating a multi filter in code behind, I need to gain access not only to the controls value that is being updated, but also any other of the column header controls that may still contain content to be filtered on.  Here is some of my markup...<br>\r\n<br>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">my</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#a31515\">DataGridTemplateColumn</span><span style=\"font-size:13px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">my</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#a31515\">DataGridTemplateColumn.HeaderTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">DataTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">StackPanel</span><span style=\"font-size:13px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">TextBlock</span><span style=\"font-size:13px;color:#ff0000\"> Text</span><span style=\"font-size:13px;color:#0000ff\">=&quot;PACS&quot;/&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">TextBox</span><span style=\"font-size:10px;color:#080808\"> </span><span style=\"font-size:13px;color:#ff0000\">x</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#ff0000\">Name</span><span style=\"font-size:13px;color:#0000ff\">=&quot;PACSTextBox&quot;</span><span style=\"font-size:13px;color:#ff0000\"> TextChanged</span><span style=\"font-size:13px;color:#0000ff\">=&quot;FilterChanged&quot;/&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;/</span><span style=\"font-size:13px;color:#a31515\">StackPanel</span><span style=\"font-size:13px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;/</span><span style=\"font-size:13px;color:#a31515\">DataTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;/</span><span style=\"font-size:13px;color:#a31515\">my</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#a31515\">DataGridTemplateColumn.HeaderTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">my</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#a31515\">DataGridTemplateColumn.CellTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">DataTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;</span><span style=\"font-size:13px;color:#a31515\">TextBlock</span><span style=\"font-size:13px;color:#ff0000\"> Text</span><span style=\"font-size:13px;color:#0000ff\">=&quot;{</span><span style=\"font-size:13px;color:#a31515\">Binding</span><span style=\"font-size:13px;color:#ff0000\"> PACS</span><span style=\"font-size:13px;color:#0000ff\">}&quot; /&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;/</span><span style=\"font-size:13px;color:#a31515\">DataTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;/</span><span style=\"font-size:13px;color:#a31515\">my</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#a31515\">DataGridTemplateColumn.CellTemplate</span><span style=\"font-size:13px;color:#0000ff\">&gt;\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#a31515\"><span style=\"font-size:13px;color:#a31515\">\r\n<p>&nbsp;</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">&lt;/</span><span style=\"font-size:13px;color:#a31515\">my</span><span style=\"font-size:13px;color:#0000ff\">:</span><span style=\"font-size:13px;color:#a31515\">DataGridTemplateColumn</span><span style=\"font-size:13px;color:#0000ff\">&gt;<br>\r\n<br>\r\n...<br>\r\n<br>\r\n<span style=\"color:#000000\">Right now in code behind I am handling the textbox changed events by assigning the values to a class member in code behind like so...<br>\r\n</span><br>\r\n<span style=\"font-size:13px\">\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">string</span><span style=\"font-size:13px\"> PACSValue = </span><span style=\"font-size:13px;color:#0000ff\">null</span><span style=\"font-size:13px\">;\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">string</span><span style=\"font-size:13px\"> InstitutionValue = </span><span style=\"font-size:13px;color:#0000ff\">null</span><span style=\"font-size:13px\">;\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p>&nbsp;</p>\r\n<p><span style=\"font-size:13px\">\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<span style=\"font-size:13px;color:#2b91af\">CollectionViewSource</span><span style=\"font-size:13px\"> view = </span><span style=\"font-size:13px;color:#0000ff\">null</span><span style=\"font-size:13px\">;\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span>\r\n<p><span style=\"font-size:13px;color:#0000ff\">private</span> <span style=\"font-size:13px;color:#0000ff\">void</span><span style=\"font-size:13px\"> FilterChanged(</span><span style=\"font-size:13px;color:#0000ff\">object</span><span style=\"font-size:13px\"> sender, </span><span style=\"font-size:13px;color:#2b91af\">TextChangedEventArgs</span><span style=\"font-size:13px\"> e)\r\n<p>&nbsp;</p>\r\n<p>{</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#2b91af\">TextBox</span><span style=\"font-size:13px\"> t;\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">if</span><span style=\"font-size:13px\"> (</span><span style=\"font-size:13px;color:#0000ff\">this</span><span style=\"font-size:13px\">.pacsItems == </span><span style=\"font-size:13px;color:#0000ff\">null</span><span style=\"font-size:13px\">)\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">return</span><span style=\"font-size:13px\">;\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">if</span><span style=\"font-size:13px\">(view == </span><span style=\"font-size:13px;color:#0000ff\">null</span><span style=\"font-size:13px\">)\r\n<p>&nbsp;</p>\r\n<p>view = </p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">new</span> <span style=\"font-size:13px;color:#2b91af\">CollectionViewSource</span><span style=\"font-size:13px\">();\r\n<p>&nbsp;</p>\r\n<p>view.Source = </p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">this</span><span style=\"font-size:13px\">.pacsItems;\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">switch</span><span style=\"font-size:13px\"> (((</span><span style=\"font-size:13px;color:#2b91af\">Control</span><span style=\"font-size:13px\">)sender).Name)\r\n<p>&nbsp;</p>\r\n<p>{</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">case</span> <span style=\"font-size:13px;color:#a31515\">&quot;PACSTextBox&quot;</span><span style=\"font-size:13px\">:\r\n<p>&nbsp;</p>\r\n<p>PACSValue = ((</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#2b91af\">TextBox</span><span style=\"font-size:13px\">)sender).Text;\r\n<p>&nbsp;</p>\r\n<p>view.Filter -= PACSFilter; </p>\r\n<p>view.Filter += PACSFilter; </p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">break</span><span style=\"font-size:13px\">;\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px;color:#0000ff\">case</span> <span style=\"font-size:13px;color:#a31515\">&quot;InstitutionTextBox&quot;</span><span style=\"font-size:13px\">:\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p>...<br>\r\n<br>\r\n<span style=\"color:#000000\">As you can see, what I did was create a class member in code behind for each of my filter controls and set the value when the text changed event is raised. Although this approach works fine, I would think accessing the controls values directly within my filters would be better than having to create global class members as I did. Is there a simple way to gain access to the controls in the header template?<br>\r\n<br>\r\nThanks,<br>\r\n<br>\r\nRick</span></p>\r\n</span></p>\r\n",
    "PostedDate": "2008-12-08T09:13:15.037-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "138827",
    "ThreadId": "41780",
    "Html": "Does Template.FindName work for you. Following are the links with more details...,.<br>\r\n<br>\r\n<a href=\"http://blogs.msdn.com/wpfsdk/archive/2007/03/16/how-do-i-programmatically-interact-with-template-generated-elements-part-i.aspx\">http://blogs.msdn.com/wpfsdk/archive/2007/03/16/how-do-i-programmatically-interact-with-template-generated-elements-part-i.aspx</a><br>\r\n<br>\r\nand <br>\r\n<br>\r\n<a href=\"http://blogs.msdn.com/wpfsdk/archive/2007/04/16/how-do-i-programmatically-interact-with-template-generated-elements-part-ii.aspx\">http://blogs.msdn.com/wpfsdk/archive/2007/04/16/how-do-i-programmatically-interact-with-template-generated-elements-part-ii.aspx</a>\r\n",
    "PostedDate": "2008-12-08T18:44:54-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "139027",
    "ThreadId": "41780",
    "Html": "<p>I tryed both approaches and cannot get either to work. <br>\r\nThe problem is that The findName takes a templatedParent as 1 of its argument and it does not accept a datagrid column like so<br>\r\n<br>\r\n<span style=\"font-size:13px;color:#0000ff\"><span style=\"font-size:13px;color:#0000ff\">\r\n<p>&nbsp;</p>\r\n<p>object</p>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n<p><span style=\"font-size:13px\"> obj = dataGrid1.Columns[0].HeaderTemplate.FindName(</span><span style=\"font-size:13px;color:#a31515\">&quot;DateInsertedTextBox&quot;</span><span style=\"font-size:13px\">,<span style=\"font-size:13px\">dataGrid1.Columns[0];<br>\r\n<br>\r\nif I supply the dataGrid1 as the templated parent, I get a null result. <br>\r\n<br>\r\nI am able to get a DataTemplate object when i use <span style=\"font-size:13px\">dataGrid1.Columns[0].HeaderTemplate</span>, but that is as far as I can get. Any other suggestions?<br>\r\n<br>\r\nThanks<br>\r\n<br>\r\n</span>\r\n<p>&nbsp;</p>\r\n</span></p>\r\n",
    "PostedDate": "2008-12-09T09:36:26.713-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "139081",
    "ThreadId": "41780",
    "Html": "Column.HeaderTemplate.FindName wouldnt work because it is just a template definition but not the instance of a control. Instead you need to get the actual instance of the header call FindName on it. Following are the helper methods to get the header....<br>\r\n<br>\r\n<p>        private DataGridColumnHeadersPresenter GetColumnHeadersPresenter(DataGrid dataGrid)<br>\r\n        {<br>\r\n            DataGridColumnHeadersPresenter chp = null;<br>\r\n            Control sv = dataGrid.Template.FindName(&quot;DG_ScrollViewer&quot;, dataGrid) as Control;<br>\r\n            if (sv != null)<br>\r\n            {<br>\r\n                chp = sv.Template.FindName(&quot;PART_ColumnHeadersPresenter&quot;, sv) as DataGridColumnHeadersPresenter;<br>\r\n            }<br>\r\n            return chp;<br>\r\n        }</p>\r\n<p>        private DataGridColumnHeader GetColumnHeader(int index, DataGrid dataGrid)<br>\r\n        {<br>\r\n            DataGridColumnHeadersPresenter presenter = GetColumnHeadersPresenter(dataGrid);</p>\r\n<p>            if (presenter != null)<br>\r\n            {<br>\r\n                return (DataGridColumnHeader)presenter.ItemContainerGenerator.ContainerFromIndex(index);<br>\r\n            }<br>\r\n            return null;<br>\r\n        }<br>\r\n<br>\r\nThen all you have to do is,<br>\r\n    DataGridColumnHeader header = GetColumnHeader(0, dataGrid);<br>\r\n    if(header != null)<br>\r\n    {<br>\r\n        TextBox tb = header.Template.FindName(&quot;DataInsertedTextBox&quot;, header) as TextBox;<br>\r\n    }</p>\r\n",
    "PostedDate": "2008-12-09T11:29:32.093-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "143369",
    "ThreadId": "41780",
    "Html": "Hi,<br>\r\n<br>\r\nSorry for the late reply. I tried your suggestion but, this line of code is returning null:<br>\r\n<br>\r\nchp = sv.Template.FindName(&quot;PART_ColumnHeadersPresenter&quot;, sv) as DataGridColumnHeadersPresenter;<br>\r\n<br>\r\nThe sv control is retreived with no problem. Any ideas why?\r\n",
    "PostedDate": "2008-12-29T11:23:14.093-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "143409",
    "ThreadId": "41780",
    "Html": "Correction, I am able to get a DataGrdiColumnHeader but this line returns null:<br>\r\n<br>\r\nTextBox tb = header.Template.FindName(&quot;DataInsertedTextBox&quot;, header) as TextBox;<br>\r\n",
    "PostedDate": "2008-12-29T15:31:01.773-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]