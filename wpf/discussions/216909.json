[
  {
    "Id": "458618",
    "ThreadId": "216909",
    "Html": "<p>When using the single click edit functions, sometimes I'll get a NULL Reference Exception with Parameter name: Descendant.</p>\r\n<p>CallStack:</p>\r\n<p>&nbsp;&nbsp; at System.Windows.Media.VisualTreeHelper.IsAncestorOf(DependencyObject ancestor, DependencyObject descendant, Type stopType)<br>&nbsp;&nbsp; at System.Windows.Controls.DataGridHelper.ValidateWithoutUpdate(FrameworkElement element)<br>&nbsp;&nbsp; at System.Windows.Controls.DataGridColumn.CommitCellEdit(FrameworkElement editingElement)<br>&nbsp;&nbsp; at System.Windows.Controls.DataGridColumn.CommitEdit(FrameworkElement editingElement)<br>&nbsp;&nbsp; at System.Windows.Controls.DataGridCell.CommitEdit()<br>&nbsp;&nbsp; at System.Windows.Controls.DataGrid.OnExecutedCommitEdit(ExecutedRoutedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.Controls.DataGrid.OnExecutedCommitEdit(Object sender, ExecutedRoutedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.Input.CommandBinding.OnExecuted(Object sender, ExecutedRoutedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.Input.CommandManager.ExecuteCommandBinding(Object sender, ExecutedRoutedEventArgs e, CommandBinding commandBinding)<br>&nbsp;&nbsp; at System.Windows.Input.CommandManager.FindCommandBinding(CommandBindingCollection commandBindings, Object sender, RoutedEventArgs e, ICommand command, Boolean execute)<br>&nbsp;&nbsp; at System.Windows.Input.CommandManager.FindCommandBinding(Object sender, RoutedEventArgs e, ICommand command, Boolean execute)<br>&nbsp;&nbsp; at System.Windows.Input.CommandManager.OnExecuted(Object sender, ExecutedRoutedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.UIElement.OnExecutedThunk(Object sender, ExecutedRoutedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.Input.ExecutedRoutedEventArgs.InvokeEventHandler(Delegate genericHandler, Object target)<br>&nbsp;&nbsp; at System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)<br>&nbsp;&nbsp; at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)<br>&nbsp;&nbsp; at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)<br>&nbsp;&nbsp; at System.Windows.UIElement.RaiseEventImpl(DependencyObject sender, RoutedEventArgs args)<br>&nbsp;&nbsp; at System.Windows.UIElement.RaiseEvent(RoutedEventArgs args, Boolean trusted)<br>&nbsp;&nbsp; at System.Windows.Input.RoutedCommand.ExecuteImpl(Object parameter, IInputElement target, Boolean userInitiated)<br>&nbsp;&nbsp; at System.Windows.Input.RoutedCommand.Execute(Object parameter, IInputElement target)<br>&nbsp;&nbsp; at System.Windows.Controls.DataGrid.EndEdit(RoutedCommand command, DataGridCell cellContainer, DataGridEditingUnit editingUnit, Boolean exitEditMode)<br>&nbsp;&nbsp; at System.Windows.Controls.DataGrid.OnCurrentCellChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.OnPropertyChanged(DependencyPropertyChangedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.FrameworkElement.OnPropertyChanged(DependencyPropertyChangedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.NotifyPropertyChange(DependencyPropertyChangedEventArgs args)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.UpdateEffectiveValue(EntryIndex entryIndex, DependencyProperty dp, PropertyMetadata metadata, EffectiveValueEntry oldEntry, EffectiveValueEntry&amp; newEntry, Boolean coerceWithDeferredReference, Boolean coerceWithCurrentValue, OperationType operationType)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.SetValueCommon(DependencyProperty dp, Object value, PropertyMetadata metadata, Boolean coerceWithDeferredReference, Boolean coerceWithCurrentValue, OperationType operationType, Boolean isInternal)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.SetCurrentValueInternal(DependencyProperty dp, Object value)<br>&nbsp;&nbsp; at System.Windows.Controls.DataGrid.set_CurrentCellContainer(DataGridCell value)<br>&nbsp;&nbsp; at System.Windows.Controls.DataGrid.set_FocusedCell(DataGridCell value)<br>&nbsp;&nbsp; at System.Windows.Controls.DataGridCell.OnAnyGotFocus(Object sender, RoutedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)<br>&nbsp;&nbsp; at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)<br>&nbsp;&nbsp; at System.Windows.UIElement.RaiseEventImpl(DependencyObject sender, RoutedEventArgs args)<br>&nbsp;&nbsp; at System.Windows.UIElement.RaiseEvent(RoutedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.FrameworkElement.OnGotFocus(RoutedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.UIElement.IsFocused_Changed(DependencyObject d, DependencyPropertyChangedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.OnPropertyChanged(DependencyPropertyChangedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.FrameworkElement.OnPropertyChanged(DependencyPropertyChangedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.NotifyPropertyChange(DependencyPropertyChangedEventArgs args)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.UpdateEffectiveValue(EntryIndex entryIndex, DependencyProperty dp, PropertyMetadata metadata, EffectiveValueEntry oldEntry, EffectiveValueEntry&amp; newEntry, Boolean coerceWithDeferredReference, Boolean coerceWithCurrentValue, OperationType operationType)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.SetValueCommon(DependencyProperty dp, Object value, PropertyMetadata metadata, Boolean coerceWithDeferredReference, Boolean coerceWithCurrentValue, OperationType operationType, Boolean isInternal)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.SetValue(DependencyPropertyKey key, Object value)<br>&nbsp;&nbsp; at System.Windows.Input.FocusManager.OnFocusedElementChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.OnPropertyChanged(DependencyPropertyChangedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.FrameworkElement.OnPropertyChanged(DependencyPropertyChangedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.NotifyPropertyChange(DependencyPropertyChangedEventArgs args)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.UpdateEffectiveValue(EntryIndex entryIndex, DependencyProperty dp, PropertyMetadata metadata, EffectiveValueEntry oldEntry, EffectiveValueEntry&amp; newEntry, Boolean coerceWithDeferredReference, Boolean coerceWithCurrentValue, OperationType operationType)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.SetValueCommon(DependencyProperty dp, Object value, PropertyMetadata metadata, Boolean coerceWithDeferredReference, Boolean coerceWithCurrentValue, OperationType operationType, Boolean isInternal)<br>&nbsp;&nbsp; at System.Windows.DependencyObject.SetValue(DependencyProperty dp, Object value)<br>&nbsp;&nbsp; at System.Windows.Input.FocusManager.SetFocusedElement(DependencyObject element, IInputElement value)<br>&nbsp;&nbsp; at System.Windows.Input.KeyboardNavigation.UpdateFocusedElement(DependencyObject focusTarget)<br>&nbsp;&nbsp; at System.Windows.FrameworkElement.OnGotKeyboardFocus(Object sender, KeyboardFocusChangedEventArgs e)<br>&nbsp;&nbsp; at System.Windows.Input.KeyboardFocusChangedEventArgs.InvokeEventHandler(Delegate genericHandler, Object genericTarget)<br>&nbsp;&nbsp; at System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)<br>&nbsp;&nbsp; at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)<br>&nbsp;&nbsp; at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)<br>&nbsp;&nbsp; at System.Windows.UIElement.RaiseEventImpl(DependencyObject sender, RoutedEventArgs args)<br>&nbsp;&nbsp; at System.Windows.UIElement.RaiseTrustedEvent(RoutedEventArgs args)<br>&nbsp;&nbsp; at System.Windows.UIElement.RaiseEvent(RoutedEventArgs args, Boolean trusted)<br>&nbsp;&nbsp; at System.Windows.Input.InputManager.ProcessStagingArea()<br>&nbsp;&nbsp; at System.Windows.Input.InputManager.ProcessInput(InputEventArgs input)<br>&nbsp;&nbsp; at System.Windows.Input.KeyboardDevice.ChangeFocus(DependencyObject focus, Int32 timestamp)<br>&nbsp;&nbsp; at System.Windows.Input.KeyboardDevice.TryChangeFocus(DependencyObject newFocus, IKeyboardInputProvider keyboardInputProvider, Boolean askOld, Boolean askNew, Boolean forceToNullIfFailed)<br>&nbsp;&nbsp; at System.Windows.Input.KeyboardDevice.Focus(DependencyObject focus, Boolean askOld, Boolean askNew, Boolean forceToNullIfFailed)<br>&nbsp;&nbsp; at System.Windows.Input.KeyboardDevice.Focus(IInputElement element)<br>&nbsp;&nbsp; at System.Windows.UIElement.Focus()<br>&nbsp;&nbsp; at Pcis.Emr.Main.Views.SectionRxView.StartDataGridEdit(DataGridCell cell) in C:\\Projects\\PCIS\\EMRv0.2\\Pcis.Emr\\Pcis.Emr.Main\\Views\\SectionRxView.xaml.cs:line 133<br>&nbsp;&nbsp; at Pcis.Emr.Main.Views.SectionRxView.DataGridCell_PreviewMouseLeftButtonDown(Object sender, MouseButtonEventArgs e) in C:\\Projects\\PCIS\\EMRv0.2\\Pcis.Emr\\Pcis.Emr.Main\\Views\\SectionRxView.xaml.cs:line 119<br>&nbsp;&nbsp; at System.Windows.Input.MouseButtonEventArgs.InvokeEventHandler(Delegate genericHandler, Object genericTarget)<br>&nbsp;&nbsp; at System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)<br>&nbsp;&nbsp; at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)<br>&nbsp;&nbsp; at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)<br>&nbsp;&nbsp; at System.Windows.UIElement.ReRaiseEventAs(DependencyObject sender, RoutedEventArgs args, RoutedEvent newEvent)<br>&nbsp;&nbsp; at System.Windows.UIElement.OnPreviewMouseDownThunk(Object sender, MouseButtonEventArgs e)<br>&nbsp;&nbsp; at System.Windows.Input.MouseButtonEventArgs.InvokeEventHandler(Delegate genericHandler, Object genericTarget)<br>&nbsp;&nbsp; at System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)<br>&nbsp;&nbsp; at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)<br>&nbsp;&nbsp; at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)<br>&nbsp;&nbsp; at System.Windows.UIElement.RaiseEventImpl(DependencyObject sender, RoutedEventArgs args)<br>&nbsp;&nbsp; at System.Windows.UIElement.RaiseTrustedEvent(RoutedEventArgs args)<br>&nbsp;&nbsp; at System.Windows.UIElement.RaiseEvent(RoutedEventArgs args, Boolean trusted)<br>&nbsp;&nbsp; at System.Windows.Input.InputManager.ProcessStagingArea()<br>&nbsp;&nbsp; at System.Windows.Input.InputManager.ProcessInput(InputEventArgs input)<br>&nbsp;&nbsp; at System.Windows.Input.InputProviderSite.ReportInput(InputReport inputReport)<br>&nbsp;&nbsp; at System.Windows.Interop.HwndMouseInputProvider.ReportInput(IntPtr hwnd, InputMode mode, Int32 timestamp, RawMouseActions actions, Int32 x, Int32 y, Int32 wheel)<br>&nbsp;&nbsp; at System.Windows.Interop.HwndMouseInputProvider.FilterMessage(IntPtr hwnd, WindowMessage msg, IntPtr wParam, IntPtr lParam, Boolean&amp; handled)<br>&nbsp;&nbsp; at System.Windows.Interop.HwndSource.InputFilterMessage(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean&amp; handled)<br>&nbsp;&nbsp; at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean&amp; handled)<br>&nbsp;&nbsp; at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)<br>&nbsp;&nbsp; at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Int32 numArgs)<br>&nbsp;&nbsp; at MS.Internal.Threading.ExceptionFilterHelper.TryCatchWhen(Object source, Delegate method, Object args, Int32 numArgs, Delegate catchHandler)</p>\r\n<p>Code Behind</p>\r\n<p>\r\n<div style=\"color:black;background-color:white\">\r\n<pre><span style=\"color:blue\">private</span> <span style=\"color:blue\">void</span> DataGridCell_PreviewMouseLeftButtonDown(<span style=\"color:blue\">object</span> sender, MouseButtonEventArgs e)\r\n{\r\n    DataGridCell cell = sender <span style=\"color:blue\">as</span> DataGridCell;\r\n\r\n    <span style=\"color:blue\">if</span> (cell != <span style=\"color:blue\">null</span> &amp;&amp; !cell.IsEditing &amp;&amp; !cell.IsReadOnly)\r\n    {\r\n      <span style=\"color:blue\">if</span> (!cell.IsFocused)\r\n      {\r\n        cell.Focus();   <span style=\"color:gray\">///</span><span style=\"color:green\"> ****Blowing up here</span>\r\n      }\r\n\r\n      DataGrid dataGrid = cell.TryFindVisualParent&lt;DataGrid&gt;();\r\n\r\n      <span style=\"color:blue\">if</span> (dataGrid != <span style=\"color:blue\">null</span>)\r\n      {\r\n        <span style=\"color:blue\">if</span> (dataGrid.SelectionUnit != DataGridSelectionUnit.FullRow)\r\n        {\r\n          <span style=\"color:blue\">if</span> (!cell.IsSelected)\r\n          {\r\n            cell.IsSelected = <span style=\"color:blue\">true</span>;\r\n          }\r\n        }\r\n        <span style=\"color:blue\">else</span>\r\n        {\r\n          DataGridRow row = cell.TryFindVisualParent&lt;DataGridRow&gt;();\r\n\r\n          <span style=\"color:blue\">if</span> (row != <span style=\"color:blue\">null</span> &amp;&amp; !row.IsSelected)\r\n          {\r\n            row.IsSelected = <span style=\"color:blue\">true</span>;\r\n          }\r\n        }\r\n      }\r\n  }</pre>\r\n</div>\r\n</p>\r\n<p>Xaml</p>\r\n<p>\r\n<div style=\"color:black;background-color:white\">\r\n<pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGrid</span> <span style=\"color:red\">Grid.Row</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">1</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Grid.ColumnSpan</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">2</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">medList</span><span style=\"color:black\">&quot;</span> \r\n                                <span style=\"color:red\">ItemsSource</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Prescriptions}</span><span style=\"color:black\">&quot;</span>\r\n                                <span style=\"color:red\">AutoGenerateColumns</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">False</span><span style=\"color:black\">&quot;</span> \r\n                                <span style=\"color:red\">GridLinesVisibility</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">All</span><span style=\"color:black\">&quot;</span> \r\n                                <span style=\"color:red\">VerticalGridLinesBrush</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">LightGray</span><span style=\"color:black\">&quot;</span> \r\n                                <span style=\"color:red\">SelectionUnit</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">FullRow</span><span style=\"color:black\">&quot;</span> \r\n                                <span style=\"color:red\">CanUserAddRows</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">False</span><span style=\"color:black\">&quot;</span>\r\n                                <span style=\"color:red\">SelectionMode</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Single</span><span style=\"color:black\">&quot;</span>\r\n                                <span style=\"color:red\">HorizontalGridLinesBrush</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">LightGray</span><span style=\"color:black\">&quot;</span>\r\n                                <span style=\"color:red\">Background</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">White</span><span style=\"color:black\">&quot;</span>\r\n                                <span style=\"color:red\">Foreground</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">#FF042271</span><span style=\"color:black\">&quot;</span>\r\n                                <span style=\"color:red\">ColumnHeaderStyle</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource DefaultColumnHeaderStyle}</span><span style=\"color:black\">&quot;</span>                                \r\n                                <span style=\"color:red\">RowStyle</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource dgRowStyle}</span><span style=\"color:black\">&quot;</span>\r\n                                <span style=\"color:red\">ColumnDisplayIndexChanged</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">ColumnDisplayIndexChanged</span><span style=\"color:black\">&quot;</span>\r\n                                <span style=\"color:red\">common:DataGridUtil.IsGridSortable</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">True</span><span style=\"color:black\">&quot;</span>\r\n                                <span style=\"color:blue\">&gt;</span>\r\n                      <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGrid.Resources</span><span style=\"color:blue\">&gt;</span>\r\n                        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Style</span> <span style=\"color:red\">TargetType</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{x:Type DataGridCell}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">EventSetter</span> <span style=\"color:red\">Event</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">UIElement.PreviewMouseLeftButtonDown</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Handler</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">DataGridCell_PreviewMouseLeftButtonDown</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">EventSetter</span> <span style=\"color:red\">Event</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">UIElement.PreviewKeyDown</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Handler</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">NewRxDataGrid_PreviewKeyDown</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">EventSetter</span> <span style=\"color:red\">Event</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">UIElement.KeyUp</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Handler</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">KeyCellUp</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Style</span><span style=\"color:blue\">&gt;</span>\r\n                     <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGrid.Resources</span><span style=\"color:blue\">&gt;</span>\r\n                    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGrid.Columns</span><span style=\"color:blue\">&gt;</span>\r\n                        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTemplateColumn</span> <span style=\"color:red\">SortMemberPath</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Script.Sig.FormattedSig</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">common:DataGridUtil.SortBinding</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Script.Sig.FormattedSig</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Header</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Sig</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">sig</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">MinWidth</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">100</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Auto</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTemplateColumn.CellEditingTemplate</span><span style=\"color:blue\">&gt;</span>\r\n                                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataTemplate</span><span style=\"color:blue\">&gt;</span>\r\n                                    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Border</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">CellBorder</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                                        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n                                            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid.ColumnDefinitions</span><span style=\"color:blue\">&gt;</span>\r\n                                                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ColumnDefinition</span> <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">*</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                                                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ColumnDefinition</span> <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Auto</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                                            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid.ColumnDefinitions</span><span style=\"color:blue\">&gt;</span>\r\n\r\n                                            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button</span> <span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Left</span><span style=\"color:black\">&quot;</span>  <span style=\"color:red\">Style</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource NoBorderButton}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">IsEnabled</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Script.Sig.HasValue}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">MaxHeight</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">20</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">selectText</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Tag</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                                                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">StackPanel</span> <span style=\"color:red\">Orientation</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Horizontal</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                                                    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">TextBlock</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">elementText</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Text</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Script.Sig.FormattedSig}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Left</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">MaxHeight</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">20</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">MinWidth</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">100</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                                                    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Polygon</span> <span style=\"color:red\">Margin</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">3,0</span><span style=\"color:black\">&quot;</span>  <span style=\"color:red\">Points</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">0,0 7.5,7.5 15,0</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Fill</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">AntiqueWhite</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Left</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">VerticalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                                                <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">StackPanel</span><span style=\"color:blue\">&gt;</span>\r\n                                            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Button</span><span style=\"color:blue\">&gt;</span>\r\n                                            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Popup</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">popup</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">StaysOpen</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">False</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">PlacementTarget</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding ElementName=CellBorder}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Placement</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Bottom</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                                                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Border</span> <span style=\"color:red\">BorderBrush</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">LightGray</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">BorderThickness</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">1</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Background</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{x:Static SystemColors.InfoBrush}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                                                    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">StackPanel</span> <span style=\"color:red\">Orientation</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Horizontal</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                                                        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ComboBox</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">amount</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">SelectedItem</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Script.Sig.Amount}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Margin</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">3</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">ItemsSource</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{x:Static data:Sig.Amounts}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">KeyDown</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Amount_KeyDown</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                                                        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ComboBox</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">form</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">SelectedItem</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Script.Sig.Form}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Margin</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">3</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">ItemsSource</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{x:Static data:Sig.Forms}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                                                        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ComboBox</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">routes</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">SelectedItem</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Script.Sig.Route}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Margin</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">3</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">ItemsSource</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{x:Static data:Sig.Routes}</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                                                        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">ComboBox</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">frequencies</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">SelectedItem</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Script.Sig.Frequency}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Margin</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">3</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">ItemsSource</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{x:Static data:Sig.Frequencies}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">KeyDown</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Frequency_KeyDown</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                                                    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">StackPanel</span><span style=\"color:blue\">&gt;</span>\r\n                                                <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Border</span><span style=\"color:blue\">&gt;</span>\r\n                                            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Popup</span><span style=\"color:blue\">&gt;</span>\r\n                                        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n                                    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Border</span><span style=\"color:blue\">&gt;</span>\r\n                                <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataTemplate</span><span style=\"color:blue\">&gt;</span>\r\n                            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGridTemplateColumn.CellEditingTemplate</span><span style=\"color:blue\">&gt;</span>\r\n                            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTemplateColumn.CellTemplate</span><span style=\"color:blue\">&gt;</span>\r\n                                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataTemplate</span><span style=\"color:blue\">&gt;</span>\r\n                                    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">StackPanel</span> <span style=\"color:red\">Orientation</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Horizontal</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                                        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">TextBlock</span> <span style=\"color:red\">Text</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Script.Sig.FormattedSig}</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Left</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">MaxHeight</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">20</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">MinWidth</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">100</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n                                        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Polygon</span> <span style=\"color:red\">Margin</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">3,0</span><span style=\"color:black\">&quot;</span>  <span style=\"color:red\">Points</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">0,0 7.5,7.5 15,0</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Fill</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">AntiqueWhite</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">HorizontalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">VerticalAlignment</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Center</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n                                    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">StackPanel</span><span style=\"color:blue\">&gt;</span>\r\n                                <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataTemplate</span><span style=\"color:blue\">&gt;</span>\r\n                            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGridTemplateColumn.CellTemplate</span><span style=\"color:blue\">&gt;</span>\r\n                        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGridTemplateColumn</span><span style=\"color:blue\">&gt;</span>\r\n                        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DataGridTextColumn</span> <span style=\"color:red\">common:DataGridUtil.SortBinding</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Script.Provider</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Header</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Prescribed By</span><span style=\"color:black\">&quot;</span>  <span style=\"color:red\">MinWidth</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">100</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Width</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Auto</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">Binding</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{Binding Script.Provider}</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n                    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGrid.Columns</span><span style=\"color:blue\">&gt;</span>\r\n                <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DataGrid</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n</p>\r\n<p>&nbsp;</p>\r\n<p>The exception occurs when I click between the Prescribed By header and the Sig header.&nbsp; If you click on the sig header and then back to the prescribed by header do this a couple of time you should be able to re-create</p>\r\n<p>&nbsp;</p>\r\n<p>Thanks</p>",
    "PostedDate": "2010-06-22T10:45:24.713-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]