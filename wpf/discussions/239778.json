[
  {
    "Id": "541256",
    "ThreadId": "239778",
    "Html": "\r\n<p>hello,</p>\r\n<p style=\"padding-left:30px\">I have a wpf datagrid that i need to update a column based on two other column's values.&nbsp; So the idea is three columns, Start Time, End Time, Total Time.&nbsp; I am trying to update the Total Time based off the start time and\r\n end time cell contents.&nbsp; For now, i have tried to use the CellEditEnding event and set the FrameworkElement value for the Total Time.&nbsp; This works but does not update the datasource.</p>\r\n<pre><div style=\"color:black; background-color:white\"><pre> <span style=\"color:blue\">if</span> (e.Column.Header.ToString().Contains( <span style=\"color:#a31515\">&quot;Start Time:&quot;</span>) || e.Column.Header.ToString().Contains(<span style=\"color:#a31515\">&quot;End Time:&quot;</span>))\r\n            {\r\n                <span style=\"color:blue\">try</span>\r\n                {\r\n                    <span style=\"color:blue\">if</span> (!isEdit)\r\n                    {\r\n                        isEdit = <span style=\"color:blue\">true</span>;\r\n                        DateTime endTime = <span style=\"color:blue\">new</span> DateTime();\r\n                        DateTime startTime = <span style=\"color:blue\">new</span> DateTime();\r\n                        FrameworkElement elapsed = groupGrid.Columns[5].GetCellContent(e.Row);\r\n                        FrameworkElement end = groupGrid.Columns[4].GetCellContent(e.Row);\r\n                        FrameworkElement start = groupGrid.Columns[3].GetCellContent(e.Row);\r\n                        <span style=\"color:blue\">if</span> (end.GetType().ToString().Contains(<span style=\"color:#a31515\">&quot;TextBlock&quot;</span>))\r\n                            endTime = Convert.ToDateTime(((TextBlock)end).Text);\r\n                        <span style=\"color:blue\">else</span> <span style=\"color:blue\">if</span> (end.GetType().ToString().Contains(<span style=\"color:#a31515\">&quot;TextBox&quot;</span>))\r\n                            endTime = Convert.ToDateTime(((TextBox)end).Text);\r\n                        <span style=\"color:blue\">if</span> (start.GetType().ToString().Contains(<span style=\"color:#a31515\">&quot;TextBlock&quot;</span>))\r\n                            startTime = Convert.ToDateTime(((TextBlock)start).Text);\r\n                        <span style=\"color:blue\">else</span> <span style=\"color:blue\">if</span> (start.GetType().ToString().Contains(<span style=\"color:#a31515\">&quot;TextBox&quot;</span>))\r\n                            startTime = Convert.ToDateTime(((TextBox)start).Text);\r\n                       ((TextBlock)elapsed).Text = endTime.TimeOfDay.Subtract(startTime.TimeOfDay).ToString();\r\n                        elapsed.Focus();\r\n                        <span style=\"color:blue\">if</span> (elapsed.IsFocused)\r\n                        {\r\n                            FrameworkElement parent = (FrameworkElement)elapsed.Parent;\r\n                            parent.Focus();\r\n                        }\r\n                        DataGrid grid = (DataGrid)sender;\r\n                        grid.CommitEdit(DataGridEditingUnit.Row, <span style=\"color:blue\">true</span>);\r\n                        isEdit = <span style=\"color:blue\">false</span>;\r\n                    }\r\n                }\r\n                <span style=\"color:blue\">catch</span> (Exception ex)\r\n                {\r\n                    MessageBox.Show(ex.Message);\r\n                }\r\n               \r\n</pre>\r\n</div>\r\n</pre>\r\n",
    "PostedDate": "2010-12-28T08:58:54.577-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]