[
  {
    "Id": "152643",
    "ThreadId": "45738",
    "Html": "<p>I have a user control  that contains a DataGrid with 2 columns, one for X values and one for Y values. The user control has 2 dependency properties (XLabel and YLabel) on it that specify the titles that should be used for each of the columns. I am attempting to bind the header for the columns to these properties but have not been successful.<br>\r\n<br>\r\nThe user control is called PiecewiseLinearFuncEditor. Here is the XAML (edited for brevity):<br>\r\n<br>\r\n&lt;UserControl x:Class=&quot;Ardent.TherAn.UI.Control.PiecewiseLinearFuncEditor&quot;<br>\r\n    xmlns=&quot;<a href=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\">http://schemas.microsoft.com/winfx/2006/xaml/presentation</a>&quot;<br>\r\n    xmlns:x=&quot;<a href=\"http://schemas.microsoft.com/winfx/2006/xaml\">http://schemas.microsoft.com/winfx/2006/xaml</a>&quot;<br>\r\n    xmlns:Controls=&quot;clr-namespace:Microsoft.Windows.Controls;assembly=WPFToolkit&quot;<br>\r\n    Name=&quot;editor&quot;&gt;<br>\r\n    &lt;Grid&gt;<br>\r\n        &lt;Grid.ColumnDefinitions&gt;<br>\r\n            &lt;ColumnDefinition Width=&quot;*&quot;/&gt;<br>\r\n            &lt;ColumnDefinition Width=&quot;Auto&quot;/&gt;<br>\r\n        &lt;/Grid.ColumnDefinitions&gt;<br>\r\n        &lt;Controls:DataGrid x:Name=&quot;functionPoints&quot; <br>\r\n             ItemsSource=&quot;{Binding FunctionPoints,ElementName=editor,NotifyOnTargetUpdated=True,NotifyOnSourceUpdated=True}&quot; <br>\r\n             AutoGenerateColumns=&quot;False&quot;                                    <br>\r\n             Grid.Row=&quot;1&quot; HeadersVisibility=&quot;Column&quot; &gt;<br>\r\n                &lt;Controls:DataGrid.Columns&gt;<br>\r\n                    &lt;Controls:DataGridTextColumn x:Name=&quot;xColumn&quot; <strong>Header=&quot;{Binding XLabel,RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Control:PiecewiseLinearFuncEditor}}}&quot;</strong> Binding=&quot;{Binding X,UpdateSourceTrigger=PropertyChanged,NotifyOnSourceUpdated=True}&quot; Width=&quot;100&quot; /&gt;<br>\r\n                    &lt;Controls:DataGridTextColumn x:Name=&quot;yColumn&quot; Header=&quot;Y&quot; Binding=&quot;{Binding Y,UpdateSourceTrigger=PropertyChanged,NotifyOnSourceUpdated=True}&quot; Width=&quot;100&quot;/&gt;<br>\r\n                &lt;/Controls:DataGrid.Columns&gt;<br>\r\n            &lt;/Controls:DataGrid&gt;<br>\r\n        &lt;/Grid&gt;<br>\r\n&lt;/UserControl&gt;<br>\r\n<br>\r\nThe code behind contains the following:<br>\r\n    public partial class PiecewiseLinearFuncEditor : UserControl<br>\r\n    {<br>\r\n        public static readonly DependencyProperty xLabel = DependencyProperty.Register(&quot;XLabel&quot;, typeof (string), typeof (PiecewiseLinearFuncEditor));<br>\r\n        public static readonly DependencyProperty yLabel = DependencyProperty.Register(&quot;YLabel&quot;, typeof (string), typeof (PiecewiseLinearFuncEditor));<br>\r\n        <br>\r\n        public string XLabel {<br>\r\n            get { return (string) GetValue(xLabel); }<br>\r\n            set { SetValue(xLabel, value); }<br>\r\n        }</p>\r\n<p>        public string YLabel {<br>\r\n            get { return (string) GetValue(yLabel); }<br>\r\n            set { SetValue(yLabel, value); }<br>\r\n        }</p>\r\n<p>When I run this I get the following error when the first column header tries to bind:<br>\r\n<br>\r\nSystem.Windows.Data Error: 4 : Cannot find source for binding with reference 'RelativeSource FindAncestor, AncestorType='Ardent.TherAn.UI.Control.PiecewiseLinearFuncEditor', AncestorLevel='1''. BindingExpression:Path=XLabel; DataItem=null; target element is 'DataGridTextColumn' (HashCode=37722553); target property is 'Header' (type 'Object')<br>\r\n<br>\r\nI have also tried using a binding with ElementName like this:<br>\r\n<br>\r\nHeader=&quot;{Binding YLabel,ElementName=editor}&quot;<br>\r\n<br>\r\nThis was not successful either.<br>\r\n<br>\r\nDoes anyone know how to do this binding?<br>\r\n<br>\r\nThanks,<br>\r\n<br>\r\nGeoff</p>\r\n",
    "PostedDate": "2009-01-30T11:19:35.043-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "154520",
    "ThreadId": "45738",
    "Html": "You will need to hack it by forwarding the DataContext.  See this post, <a href=\"http://blogs.msdn.com/jaimer/archive/2008/11/22/forwarding-the-datagrid-s-datacontext-to-its-columns.aspx\">http://blogs.msdn.com/jaimer/archive/2008/11/22/forwarding-the-datagrid-s-datacontext-to-its-columns.aspx</a>.\r\n",
    "PostedDate": "2009-02-04T19:50:24.853-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]