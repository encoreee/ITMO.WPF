<div class="wikidoc"><h1>Setting a Valid ItemsSource for the DataGrid Design Time</h1>
In order to edit the Columns collection through the designer, the DataGrid must have a valid ItemsSource set.  There is a limitation in the designer whereby you cannot bind to properties on the element you are designing.  For example, it is common to do the following:<br /><br />1. Declare a collection of items in the code behind of your Window1 file:<br /><br />    public partial class Window1 : WindowBase<br />    {<br />        public Window1()<br />        {<br />            InitializeComponent();<br />        }<br /><br />    public class PeopleCollection : ObservableCollection&lt;Person&gt; {<br />        public PeopleCollection() :base() {<br />            var person = new Person();<br />            person.FirstName = &quot;test&quot;;<br />            Add(person);<br />        }<br />    }<br /><br />    }<br /><br />2. Bind DataGrid&#39;s ItemsSource to the collection in your Window1 code behind:<br /><br />&lt;Window x:Class=&quot;WpfApplication1.Window1&quot;<br />    xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;<br />    xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;<br />    xmlns:my=&quot;clr-namespace:Microsoft.Windows.Controls;assembly=WpfToolkit&quot;<br />    xmlns:local=&quot;clr-namespace:WpfApplication1&quot;<br />    x:Name=&quot;win&quot;&gt;<br />    <br />    &lt;Grid&gt;<br />        &lt;my:DataGrid ItemsSource=&quot;{Binding ElementName=win, Path=People}&quot;&gt;&lt;/my:DataGrid&gt;<br />    &lt;/Grid&gt;<br />&lt;/Window&gt;<br /><br />This will not work because DataGrid is bound to the People property on Window1, which is the element you are currently designing.  There are two solutions to this problem.  You can move the declaration of the item collection into the XAML, or alternatively you can put the property declaration into a base class:<br /><br /><b>Option 1 - Move the declaration of the collection into the XAML:</b><br /><br />public class PeopleCollection : ObservableCollection&lt;Person&gt; {<br />        public PeopleCollection() :base() {<br />            var person = new Person();<br />            person.FirstName = &quot;test&quot;;<br />            Add(person);<br />        }<br />    }<br /><br />&lt;Window x:Class=&quot;WpfApplication1.Window1&quot;<br />    xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;<br />    xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;<br />    xmlns:my=&quot;clr-namespace:Microsoft.Windows.Controls;assembly=WpfToolkit&quot;<br />    xmlns:local=&quot;clr-namespace:WpfApplication1&quot;<br />    x:Name=&quot;win&quot;&gt;<br />    <br />    &lt;Window.Resources&gt;<br />        &lt;local:PeopleCollection x:Key=&quot;People&quot;/&gt;<br />    &lt;/Window.Resources&gt;<br />    <br />    &lt;Grid&gt;<br />        &lt;my:DataGrid ItemsSource=&quot;{Binding Source={StaticResource People}}&quot;&gt;&lt;/my:DataGrid&gt;<br />    &lt;/Grid&gt;<br />&lt;/Window&gt;<br /><br /><b>Option 2 - Put the property declaration on a base class:</b><br /><br />public partial class WindowBase : Window, INotifyPropertyChanged {<br />        ObservableCollection&lt;Person&gt; _people;<br />        public ObservableCollection&lt;Person&gt; People {<br />            get {<br />                return _people;<br />            }<br />            set {<br />                _people = value;<br />                if (PropertyChanged != null) {<br />                    PropertyChanged(this, new PropertyChangedEventArgs(&quot;People&quot;));<br />                }<br />            }<br />        }<br /><br />        public WindowBase() : base() {<br />            People = new ObservableCollection&lt;Person&gt;();<br />            var person = new Person();<br />            person.FirstName = &quot;test&quot;;<br />            People.Add(person);<br />        }<br /><br />        #region INotifyPropertyChanged Members<br /><br />        public event PropertyChangedEventHandler PropertyChanged;<br /><br />        #endregion<br />    }<br /><br />    public partial class Window1 : WindowBase<br />    {<br />            <br />        public Window1()<br />        {<br />            InitializeComponent();<br />        }<br />    }<br /><br /><br />&lt;local:WindowBase x:Class=&quot;WpfApplication1.Window1&quot;<br />    xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;<br />    xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;<br />    xmlns:my=&quot;clr-namespace:Microsoft.Windows.Controls;assembly=WpfToolkit&quot;<br />    xmlns:local=&quot;clr-namespace:WpfApplication1&quot;<br />    x:Name=&quot;win&quot;&gt;<br />    <br />    &lt;Grid&gt;<br />        &lt;my:DataGrid ItemsSource=&quot;{Binding ElementName=win, Path=People}&quot;&gt;&lt;/my:DataGrid&gt;<br />    &lt;/Grid&gt;<br />&lt;/local:WindowBase&gt;<br /></div><div class="ClearBoth"></div>