<UserControl x:Class="ResearchSummary.BaseInterfaces.UI.Graph" BorderThickness="0"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:conv="clr-namespace:ResearchSummary.BaseInterfaces.UI"
    xmlns:chartingToolkit="clr-namespace:System.Windows.Controls.DataVisualization.Charting;assembly=System.Windows.Controls.DataVisualization.Toolkit"
    xmlns:datavis="clr-namespace:System.Windows.Controls.DataVisualization;assembly=System.Windows.Controls.DataVisualization.Toolkit">
    <UserControl.Resources>
        <ResourceDictionary>
            <conv:MarginConverter x:Key="MarginConv"/>
            <Style x:Key="ColumnPointStyle" TargetType="chartingToolkit:ColumnDataPoint">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="chartingToolkit:ColumnDataPoint">
                            <Border
                                BorderThickness="1"
                                Opacity="0"
                                BorderBrush="{Binding Path=Background}"
                                Background="{Binding Path=Background}"
                                ToolTipService.ShowDuration="360000"
                                x:Name="Root">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="CommonStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition GeneratedDuration="0:0:0.1"/>
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="Normal"/>
                                        <VisualState x:Name="MouseOver">
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="MouseOverHighlight"
                                                    Storyboard.TargetProperty="Opacity"
                                                    To="0.6"
                                                    Duration="0"/>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="SelectionStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition GeneratedDuration="0:0:0.1"/>
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="Unselected"/>
                                        <VisualState x:Name="Selected">
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="SelectionHighlight"
                                                    Storyboard.TargetProperty="Opacity"
                                                    To="0.6"
                                                    Duration="0"/>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="RevealStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition GeneratedDuration="0:0:0.5"/>
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="Shown">
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="Root"
                                                    Storyboard.TargetProperty="Opacity"
                                                    To="1"
                                                    Duration="0"/>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Hidden">
                                            <Storyboard>
                                                <DoubleAnimation
                                                    Storyboard.TargetName="Root"
                                                    Storyboard.TargetProperty="Opacity"
                                                    To="0"
                                                    Duration="0"/>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <Grid
                                    Background="{Binding Path=Background}">
                                    <Rectangle Fill="{Binding Path=Fill}" StrokeThickness="0"
                                               Width="{Binding ElementName=Root, Path=ActualWidth}"
                                               Height="{Binding ElementName=Root, Path=ActualHeight}"
                                               />
                                    <Rectangle x:Name="SelectionHighlight" Fill="Red" Opacity="0"/>
                                    <Rectangle x:Name="MouseOverHighlight" Fill="White" Opacity="0"/>
                                    <Grid HorizontalAlignment="Center">
                                        <Line Stroke="{Binding Path=LineFill}"
                                              X1="0" X2="0" Y2="-5"
                                              Y1="{Binding ElementName=Root, Path=ActualHeight}"
                                              StrokeThickness="4" StrokeDashArray="2,2"/>
                                    </Grid>
                                </Grid>
                                <ToolTipService.ToolTip>
                                    <TextBlock Text="{Binding Path=ToolTip}" />
                                </ToolTipService.ToolTip>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="LinePointStyle" TargetType="chartingToolkit:LineDataPoint">
                <Setter Property="Background" Value="{Binding Background}" />
                <Setter Property="BorderBrush" Value="Gray"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="IsTabStop" Value="False"/>
                <!--<Setter Property="Width" Value="8" />
                <Setter Property="Height" Value="8" />-->
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="chartingToolkit:LineDataPoint">
                            <Grid x:Name="Root" Opacity="0">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="CommonStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition GeneratedDuration="0:0:0.1"/>
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="Normal"/>
                                        <VisualState x:Name="MouseOver">
                                            <Storyboard>
                                                <ColorAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="MouseOverHighlight" Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)">
                                                    <SplineColorKeyFrame KeyTime="00:00:00" Value="#FFFFDF00"/>
                                                </ColorAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="MouseOverHighlight" Storyboard.TargetProperty="(UIElement.Opacity)">
                                                    <SplineDoubleKeyFrame KeyTime="00:00:00" Value="0.24"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="SelectionStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition GeneratedDuration="0:0:0.1"/>
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="Unselected"/>
                                        <VisualState x:Name="Selected">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="SelectionHighlight" Storyboard.TargetProperty="(UIElement.Opacity)">
                                                    <SplineDoubleKeyFrame KeyTime="00:00:00" Value="0.18"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="RevealStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition GeneratedDuration="0:0:0.5"/>
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="Shown">
                                            <Storyboard>
                                                <DoubleAnimation Duration="0" Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity" To="1"/>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Hidden">
                                            <Storyboard>
                                                <DoubleAnimation Duration="0" Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity" To="0"/>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <!--<ToolTipService.ToolTip>
                                    <ContentControl Content="{TemplateBinding FormattedDependentValue}"/>
                                </ToolTipService.ToolTip>
                                <Ellipse Stroke="{TemplateBinding BorderBrush}" Fill="{TemplateBinding Background}"/>
                                <Ellipse RenderTransformOrigin="0.661,0.321">
                                    <Ellipse.Fill>
                                        <RadialGradientBrush GradientOrigin="0.681,0.308">
                                            <GradientStop Color="#00FFFFFF"/>
                                            <GradientStop Color="#FF3D3A3A" Offset="1"/>
                                        </RadialGradientBrush>
                                    </Ellipse.Fill>
                                </Ellipse>-->
                                <Ellipse x:Name="SelectionHighlight" Opacity="0" Fill="Red"/>
                                <Ellipse x:Name="MouseOverHighlight" Opacity="0" Fill="White"/>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="ScatterPointStyle" TargetType="chartingToolkit:ScatterDataPoint">
                <Setter Property="Background" Value="{Binding Background}"/>
                <Setter Property="IsTabStop" Value="False"/>
                <Setter Property="BorderBrush" Value="{Binding Background}"/>
                <Setter Property="Width" Value="8" />
                <Setter Property="Height" Value="8" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="chartingToolkit:ScatterDataPoint">
                            <Grid x:Name="Root" Opacity="0"
                                  ToolTipService.ShowDuration="360000">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="CommonStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition GeneratedDuration="0:0:0.1"/>
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="Normal"/>
                                        <VisualState x:Name="MouseOver">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="MouseOverHighlight" Storyboard.TargetProperty="(UIElement.Opacity)">
                                                    <SplineDoubleKeyFrame KeyTime="00:00:00" Value="0.3"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="SelectionStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition GeneratedDuration="0:0:0.1"/>
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="Unselected"/>
                                        <VisualState x:Name="Selected">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="SelectionHighlight" Storyboard.TargetProperty="(UIElement.Opacity)">
                                                    <SplineDoubleKeyFrame KeyTime="00:00:00" Value="0.185"/>
                                                </DoubleAnimationUsingKeyFrames>
                                                <ColorAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="SelectionHighlight" Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)">
                                                    <SplineColorKeyFrame KeyTime="00:00:00" Value="#FF8A8A8A"/>
                                                </ColorAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="RevealStates">
                                        <VisualStateGroup.Transitions>
                                            <VisualTransition GeneratedDuration="0:0:0.5"/>
                                        </VisualStateGroup.Transitions>
                                        <VisualState x:Name="Shown">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="Root" Storyboard.TargetProperty="(UIElement.Opacity)">
                                                    <SplineDoubleKeyFrame KeyTime="00:00:00" Value="1"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Hidden">
                                            <Storyboard>
                                                <DoubleAnimation Duration="0" Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity" To="0"/>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <ToolTipService.ToolTip>
                                    <TextBlock Text="{Binding Path=ToolTip}" />
                                </ToolTipService.ToolTip>
                                <Path Fill="{Binding Background}" Stroke="{TemplateBinding BorderBrush}" Stretch="Fill" StrokeThickness="1" StrokeLineJoin="Round" Data="F1 M 0,50L 50,0 100,50 50,100L 0,50 Z "/>
                                <Path x:Name="MouseOverHighlight" Stretch="Fill" StrokeThickness="1" StrokeLineJoin="Round" Stroke="{x:Null}" Data="F1 M 0,50L 50,0 100,50 50,100L 0,50 Z  " Opacity="0" Fill="#FFFFFFFF" />
                                <Path x:Name="SelectionHighlight" Stretch="Fill" StrokeThickness="1" StrokeLineJoin="Round" Stroke="{x:Null}" Data="F1 M 0,50L 50,0 100,50 50,100L 0,50 Z " Fill="#FF959595" Opacity="0"/>
                                <TextBlock Text="{Binding Label}" TextAlignment="Center" FontSize="10" Foreground="Black" Margin="-150 -10 -150 0"/>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="DefaultLegendItemStyle" TargetType="chartingToolkit:LegendItem">
                <Setter Property="IsTabStop" Value="False" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="chartingToolkit:LegendItem">
                            <StackPanel Orientation="Horizontal">
                                <Rectangle VerticalAlignment="Top" Width="8" Height="8" Fill="{Binding Background}" Stroke="{Binding BorderBrush}" StrokeThickness="1" Margin="0,0,3,0" />
                                <TextBlock VerticalAlignment="Top" Text="{TemplateBinding Content}" MaxWidth="120" TextWrapping="Wrap"/>
                            </StackPanel>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="ScatterLegendItemStyle" TargetType="chartingToolkit:LegendItem">
                <Setter Property="IsTabStop" Value="False" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="chartingToolkit:LegendItem">
                            <StackPanel Orientation="Horizontal">
                                <Grid VerticalAlignment="Top" Width="8" Height="8" Margin="0,0,3,0">
                                    <Path Fill="{Binding Background}" 
                                          Stroke="{TemplateBinding BorderBrush}" 
                                          Stretch="Fill" StrokeThickness="1" 
                                          StrokeLineJoin="Round" 
                                          Data="F1 M 0,50L 50,0 100,50 50,100L 0,50 Z "/>
                                </Grid>
                                <TextBlock VerticalAlignment="Top" Text="{TemplateBinding Content}" MaxWidth="120" TextWrapping="Wrap"/>
                            </StackPanel>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="LineLegendItemStyle" TargetType="chartingToolkit:LegendItem">
                <Setter Property="IsTabStop" Value="False" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="chartingToolkit:LegendItem">
                            <StackPanel Orientation="Horizontal">
                                <Line Stroke="{Binding Background}" StrokeThickness="3" X1="0" X2="8" Y1="4" Y2="4" Margin="0,0,3,0"/>
                                <datavis:Title Content="{TemplateBinding Content}"/>
                            </StackPanel>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="AxisLabelStyle" TargetType="chartingToolkit:AxisLabel">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="chartingToolkit:AxisLabel">
                            <TextBlock Text="{Binding Display}" Background="{Binding LabelBackground}"
                                       FontWeight="{Binding LabelFontWeight}" FontSize="{Binding LabelFontSize}">
                                <TextBlock.RenderTransform>
                                    <RotateTransform Angle="{Binding LabelRotateDegrees}"/>
                                </TextBlock.RenderTransform>
                                <TextBlock.RenderTransformOrigin>
                                    <Point X=".5" Y=".5"/>
                                </TextBlock.RenderTransformOrigin>
                                <TextBlock.Margin>
                                    <MultiBinding Converter="{StaticResource MarginConv}">
                                        <Binding Path="IsGridLine"/>
                                        <Binding ElementName="chtGraph" Path="ActualHeight"/>
                                        <Binding ElementName="chtGraph" Path="ActualWidth"/>
                                        <Binding ElementName="chtGraph" Path="Title"/>
                                        <Binding Path="Display"/>
                                        <Binding Path="LabelFontWeight"/>
                                        <Binding Path="LabelFontSize"/>
                                        <Binding Path="LabelRotateDegrees"/>
                                    </MultiBinding>
                                </TextBlock.Margin>
                            </TextBlock>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="RangeAxisStyle" TargetType="chartingToolkit:RangeAxis">
                <Setter Property="IsTabStop" Value="False"/>
                <Setter Property="TitleStyle">
                    <Setter.Value>
                        <Style TargetType="datavis:Title">
                            <Setter Property="FontStyle" Value="Italic"/>
                        </Style>
                    </Setter.Value>
                </Setter>
                <Setter Property="MajorTickMarkStyle">
                    <Setter.Value>
                        <Style TargetType="Line">
                            <Setter Property="Stroke" Value="Black"/>
                            <Setter Property="X2" Value="4"/>
                            <Setter Property="Y2" Value="4"/>
                        </Style>
                    </Setter.Value>
                </Setter>
                <Setter Property="MinorTickMarkStyle">
                    <Setter.Value>
                        <Style TargetType="Line">
                            <Setter Property="Stroke" Value="Gray"/>
                            <Setter Property="X2" Value="2"/>
                            <Setter Property="Y2" Value="2"/>
                        </Style>
                    </Setter.Value>
                </Setter>
                <Setter Property="GridLineStyle">
                    <Setter.Value>
                        <Style TargetType="Line">
                            <Setter Property="Stroke" Value="{Binding GridLineFill}"/>
                        </Style>
                    </Setter.Value>
                </Setter>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="chartingToolkit:RangeAxis">
                            <Grid x:Name="AxisGrid" Background="{TemplateBinding Background}">
                                <datavis:Title x:Name="AxisTitle" Style="{TemplateBinding TitleStyle}"/>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid Name="grdContainer" Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="25"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.ContextMenu>
            <ContextMenu>
                <MenuItem Header="Save" ToolTip="Safe Report" Click="Save_Click"/>
                <MenuItem Header="Copy" ToolTip="Copy Report" Click="Copy_Click">
                    <MenuItem.Icon>
                        <Image Width="32" Height="32" Source="/ResearchSummary;component/Resources/copyicon.png" />
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Print" ToolTip="Print Report" Click="Print_Click">
                    <MenuItem.Icon>
                        <Image Width="32" Height="32" Source="/ResearchSummary;component/Resources/Printer.png" />
                    </MenuItem.Icon>
                </MenuItem>
            </ContextMenu>
        </Grid.ContextMenu>
        <chartingToolkit:Chart x:Name="chtGraph"
                               Grid.ColumnSpan="2" Grid.Row="0" BorderThickness="0"/>
        <!--<Expander ExpandDirection="Right" HorizontalAlignment="Right" 
                  Grid.Row="0" Grid.ColumnSpan="2" IsExpanded="False"
                  BorderThickness="0">
            <StackPanel Orientation="Vertical">
                <ToggleButton ToolTip="Select" Name="btnSelect" Width="20" Height="20">
                    <Image Source="/ResearchSummary;component/Resources/cursor.png" />
                </ToggleButton>
                <ToggleButton ToolTip="Zoom In" Name="btnZoomIn" Width="20" Height="20">
                    <Image Source="/ResearchSummary;component/Resources/ZoomIn.png" />
                </ToggleButton>
                <Button ToolTip="Zoom Out" Name="btnZoomOut" Width="20" Height="20">
                    <Image Source="/ResearchSummary;component/Resources/ZoomOut.png" />
                </Button>
            </StackPanel>
        </Expander>-->
        <TextBlock Name="tbxPioConf" FontSize="12" Foreground="Red" 
                   Grid.Column="0" Grid.Row="1"
                   Text="PIONEER CONFIDENTIAL" Margin="5" HorizontalAlignment="Left"
                   VerticalAlignment="Bottom"/>
        <TextBlock Name="tbxDateCreated" FontSize="10" Margin="5"
                   Grid.Column="1" Grid.Row="1" HorizontalAlignment="Right"
                   VerticalAlignment="Bottom"/>
    </Grid>
</UserControl>