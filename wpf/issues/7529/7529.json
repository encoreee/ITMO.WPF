{
  "WorkItem": {
    "AffectedComponent": {
      "Name": "DataGrid",
      "DisplayName": "DataGrid"
    },
    "ClosedComment": "",
    "ClosedDate": null,
    "CommentCount": 0,
    "Custom": null,
    "Description": "If you set the DataGrid SelectionMode=\"Single\" and CanUserAddRows=\"True\" and try to add a row by double clicking on the placeholder, you get the following exception:\n \nSystem.InvalidOperationException was unhandled\n  Message=\"Can only change SelectedItems collection in multiple selection modes. Use SelectedItem in single select modes.\"\n  Source=\"PresentationFramework\"\n  StackTrace:\n       at System.Windows.Controls.Primitives.Selector.OnSelectedItemsCollectionChanged(Object sender, NotifyCollectionChangedEventArgs e)\n       at System.Collections.ObjectModel.ObservableCollection`1.OnCollectionChanged(NotifyCollectionChangedEventArgs e)\n       at System.Collections.ObjectModel.ObservableCollection`1.RemoveItem(Int32 index)\n       at System.Windows.Controls.SelectedItemCollection.RemoveItem(Int32 index)\n       at System.Collections.ObjectModel.Collection`1.Remove(T item)\n       at System.Collections.ObjectModel.Collection`1.System.Collections.IList.Remove(Object value)\n       at Microsoft.Windows.Controls.DataGrid.UnselectItem(Object item) in C:\\Work\\WPF\\DataGridCTPSample\\Toolkit-release\\DataGrid\\Microsoft\\Windows\\Controls\\DataGrid.cs:line 3837\n       at Microsoft.Windows.Controls.DataGrid.OnExecutedBeginEdit(ExecutedRoutedEventArgs e) in C:\\Work\\WPF\\DataGridCTPSample\\Toolkit-release\\DataGrid\\Microsoft\\Windows\\Controls\\DataGrid.cs:line 1527\n       at Microsoft.Windows.Controls.DataGrid.OnExecutedBeginEdit(Object sender, ExecutedRoutedEventArgs e) in C:\\Work\\WPF\\DataGridCTPSample\\Toolkit-release\\DataGrid\\Microsoft\\Windows\\Controls\\DataGrid.cs:line 1492\n       at System.Windows.Input.CommandBinding.OnExecuted(Object sender, ExecutedRoutedEventArgs e)\n       at System.Windows.Input.CommandManager.ExecuteCommandBinding(Object sender, ExecutedRoutedEventArgs e, CommandBinding commandBinding)\n       at System.Windows.Input.CommandManager.FindCommandBinding(CommandBindingCollection commandBindings, Object sender, RoutedEventArgs e, ICommand command, Boolean execute)\n       at System.Windows.Input.CommandManager.FindCommandBinding(Object sender, RoutedEventArgs e, ICommand command, Boolean execute)\n       at System.Windows.Input.CommandManager.OnExecuted(Object sender, ExecutedRoutedEventArgs e)\n       at System.Windows.UIElement.OnExecutedThunk(Object sender, ExecutedRoutedEventArgs e)\n       at System.Windows.Input.ExecutedRoutedEventArgs.InvokeEventHandler(Delegate genericHandler, Object target)\n       at System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)\n       at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)\n       at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)\n       at System.Windows.UIElement.RaiseEventImpl(DependencyObject sender, RoutedEventArgs args)\n       at System.Windows.UIElement.RaiseEvent(RoutedEventArgs args, Boolean trusted)\n       at System.Windows.Input.RoutedCommand.ExecuteImpl(Object parameter, IInputElement target, Boolean userInitiated)\n       at System.Windows.Input.RoutedCommand.Execute(Object parameter, IInputElement target)\n       at Microsoft.Windows.Controls.DataGrid.BeginEdit(RoutedEventArgs editingEventArgs) in C:\\Work\\WPF\\DataGridCTPSample\\Toolkit-release\\DataGrid\\Microsoft\\Windows\\Controls\\DataGrid.cs:line 2336\n       at Microsoft.Windows.Controls.DataGridCell.OnAnyMouseLeftButtonDown(MouseButtonEventArgs e) in C:\\Work\\WPF\\DataGridCTPSample\\Toolkit-release\\DataGrid\\Microsoft\\Windows\\Controls\\DataGridCell.cs:line 658\n       at Microsoft.Windows.Controls.DataGridCell.OnAnyMouseLeftButtonDownThunk(Object sender, MouseButtonEventArgs e) in C:\\Work\\WPF\\DataGridCTPSample\\Toolkit-release\\DataGrid\\Microsoft\\Windows\\Controls\\DataGridCell.cs:line 636\n       at System.Windows.Input.MouseButtonEventArgs.InvokeEventHandler(Delegate genericHandler, Object genericTarget)\n       at System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)\n       at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)\n       at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)\n       at System.Windows.UIElement.ReRaiseEventAs(DependencyObject sender, RoutedEventArgs args, RoutedEvent newEvent)\n       at System.Windows.UIElement.CrackMouseButtonEventAndReRaiseEvent(DependencyObject sender, MouseButtonEventArgs e)\n       at System.Windows.UIElement.OnMouseDownThunk(Object sender, MouseButtonEventArgs e)\n       at System.Windows.Input.MouseButtonEventArgs.InvokeEventHandler(Delegate genericHandler, Object genericTarget)\n       at System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)\n       at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)\n       at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)\n       at System.Windows.UIElement.RaiseEventImpl(DependencyObject sender, RoutedEventArgs args)\n       at System.Windows.UIElement.RaiseEvent(RoutedEventArgs args, Boolean trusted)\n       at System.Windows.Input.InputManager.ProcessStagingArea()\n       at System.Windows.Input.InputManager.ProcessInput(InputEventArgs input)\n       at System.Windows.Input.InputProviderSite.ReportInput(InputReport inputReport)\n       at System.Windows.Interop.HwndMouseInputProvider.ReportInput(IntPtr hwnd, InputMode mode, Int32 timestamp, RawMouseActions actions, Int32 x, Int32 y, Int32 wheel)\n       at System.Windows.Interop.HwndMouseInputProvider.FilterMessage(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\n       at System.Windows.Interop.HwndSource.InputFilterMessage(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\n       at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\n       at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)\n       at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Boolean isSingleParameter)\n       at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source, Delegate callback, Object args, Boolean isSingleParameter, Delegate catchHandler)\n       at System.Windows.Threading.Dispatcher.WrappedInvoke(Delegate callback, Object args, Boolean isSingleParameter, Delegate catchHandler)\n       at System.Windows.Threading.Dispatcher.InvokeImpl(DispatcherPriority priority, TimeSpan timeout, Delegate method, Object args, Boolean isSingleParameter)\n       at System.Windows.Threading.Dispatcher.Invoke(DispatcherPriority priority, Delegate method, Object arg)\n       at MS.Win32.HwndSubclass.SubclassWndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam)\n       at MS.Win32.UnsafeNativeMethods.DispatchMessage(MSG& msg)\n       at System.Windows.Threading.Dispatcher.PushFrameImpl(DispatcherFrame frame)\n       at System.Windows.Threading.Dispatcher.PushFrame(DispatcherFrame frame)\n       at System.Windows.Threading.Dispatcher.Run()\n       at System.Windows.Application.RunDispatcher(Object ignore)\n       at System.Windows.Application.RunInternal(Window window)\n       at System.Windows.Application.Run(Window window)\n       at System.Windows.Application.Run()\n       at DataGridCTPSample.App.Main() in C:\\Work\\WPF\\DataGridCTPSample\\DataGridCTPSample\\obj\\Debug\\App.g.cs:line 0\n       at System.AppDomain._nExecuteAssembly(Assembly assembly, String[] args)\n       at System.AppDomain.ExecuteAssembly(String assemblyFile, Evidence assemblySecurity, String[] args)\n       at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()\n       at System.Threading.ThreadHelper.ThreadStart_Context(Object state)\n       at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)\n       at System.Threading.ThreadHelper.ThreadStart()\n  InnerException: \n \nThe code breaks on line 3837 of DataGrid.cs (CTP).\n \nYou can reproduce this behavior using Vincent Sibal's sample found at: http://blogs.msdn.com/vinsibal/archive/2008/08/25/wpf-datagrid-sample-add-a-preview-tooltip-to-a-scrollviewer.aspx\nJust pick \"Single\" in the SelectionMode drop down and then double click on the empty row at the bottom of the grid.",
    "LastUpdatedDate": "2013-06-14T00:35:37.49-07:00",
    "PlannedForRelease": "WPF Toolkit - October 2008 Release",
    "ReleaseVisibleToPublic": true,
    "Priority": {
      "Name": "Low",
      "Severity": 50,
      "Id": 1
    },
    "ProjectName": "wpf",
    "ReportedDate": "2008-09-05T10:45:15.4-07:00",
    "Status": {
      "Name": "Resolved",
      "Id": 7
    },
    "ReasonClosed": {
      "Name": "Unassigned"
    },
    "Summary": "InvalidOperationException when adding row to single selection DataGrid",
    "Type": {
      "Name": "Issue",
      "Id": 3
    },
    "VoteCount": 3,
    "Id": 7529
  },
  "FileAttachments": [],
  "Comments": [
    {
      "Message": "This is a known issue and will be addressed in the v1 release.",
      "PostedDate": "2008-09-16T06:32:45.487-07:00",
      "Id": -2147483648
    },
    {
      "Message": "This was fixed in the October 2008 release.",
      "PostedDate": "2009-02-18T13:27:37.973-08:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2009-02-18T13:27:38.787-08:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2013-02-21T18:41:50.45-08:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2013-05-16T05:31:19.507-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2013-05-16T05:31:19.623-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2013-06-14T00:35:37.49-07:00",
      "Id": -2147483648
    }
  ]
}