{
  "WorkItem": {
    "AffectedComponent": {
      "Name": "",
      "DisplayName": ""
    },
    "ClosedComment": "Explanation provided in previous comment.",
    "ClosedDate": "2009-03-27T11:56:16.8-07:00",
    "CommentCount": 0,
    "Custom": null,
    "Description": "The source data is updated and after that the ScrollIntoView raises an NullReferenceException only if the grid is not visible (it's on a tabcontrol). See the attached test project, using version 3.5.40128.1.\n \n   a következő helyen: System.Windows.Controls.VirtualizingStackPanel.InsertContainer(Int32 childIndex, UIElement container, Boolean isRecycled)\n   a következő helyen: System.Windows.Controls.VirtualizingStackPanel.AddContainerFromGenerator(Int32 childIndex, UIElement child, Boolean newlyRealized)\n   a következő helyen: System.Windows.Controls.VirtualizingStackPanel.BringIndexIntoView(Int32 index)\n   a következő helyen: Microsoft.Windows.Controls.Primitives.DataGridRowsPresenter.InternalBringIndexIntoView(Int32 index) hely: D:\\dd\\WPF_TSV_2\\src\\wpf\\src\\ControlsPack\\WPFToolkit\\DataGrid\\Microsoft\\Windows\\Controls\\Primitives\\DataGridRowsPresenter.cs, sor: 48\n   a következő helyen: Microsoft.Windows.Controls.DataGrid.ScrollRowIntoView(Object item) hely: D:\\dd\\WPF_TSV_2\\src\\wpf\\src\\ControlsPack\\WPFToolkit\\DataGrid\\Microsoft\\Windows\\Controls\\DataGrid.cs, sor: 1617\n   a következő helyen: Microsoft.Windows.Controls.DataGrid.ScrollIntoView(Object item) hely: D:\\dd\\WPF_TSV_2\\src\\wpf\\src\\ControlsPack\\WPFToolkit\\DataGrid\\Microsoft\\Windows\\Controls\\DataGrid.cs, sor: 1506\n   a következő helyen: GridScrollTest.Window1.button1_Click(Object sender, RoutedEventArgs e) hely: D:\\Work.Somi\\HWSDK\\_Test\\GridScrollTest\\GridScrollTest\\Window1.xaml.cs, sor: 46\n   a következő helyen: System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)\n   a következő helyen: System.Windows.UIElement.RaiseEventImpl(DependencyObject sender, RoutedEventArgs args)\n   a következő helyen: System.Windows.Controls.Button.OnClick()\n   a következő helyen: System.Windows.Controls.Primitives.ButtonBase.OnMouseLeftButtonUp(MouseButtonEventArgs e)\n   a következő helyen: System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)\n   a következő helyen: System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)\n   a következő helyen: System.Windows.UIElement.ReRaiseEventAs(DependencyObject sender, RoutedEventArgs args, RoutedEvent newEvent)\n   a következő helyen: System.Windows.UIElement.OnMouseUpThunk(Object sender, MouseButtonEventArgs e)\n   a következő helyen: System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)\n   a következő helyen: System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)\n   a következő helyen: System.Windows.UIElement.RaiseEventImpl(DependencyObject sender, RoutedEventArgs args)\n   a következő helyen: System.Windows.UIElement.RaiseEvent(RoutedEventArgs args, Boolean trusted)\n   a következő helyen: System.Windows.Input.InputManager.ProcessStagingArea()\n   a következő helyen: System.Windows.Input.InputManager.ProcessInput(InputEventArgs input)\n   a következő helyen: System.Windows.Input.InputProviderSite.ReportInput(InputReport inputReport)\n   a következő helyen: System.Windows.Interop.HwndMouseInputProvider.ReportInput(IntPtr hwnd, InputMode mode, Int32 timestamp, RawMouseActions actions, Int32 x, Int32 y, Int32 wheel)\n   a következő helyen: System.Windows.Interop.HwndMouseInputProvider.FilterMessage(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\n   a következő helyen: System.Windows.Interop.HwndSource.InputFilterMessage(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\n   a következő helyen: MS.Win32.HwndWrapper.WndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\n   a következő helyen: MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)\n   a következő helyen: System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Boolean isSingleParameter)\n   a következő helyen: System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source, Delegate callback, Object args, Boolean isSingleParameter, Delegate catchHandler)\n   a következő helyen: System.Windows.Threading.Dispatcher.InvokeImpl(DispatcherPriority priority, TimeSpan timeout, Delegate method, Object args, Boolean isSingleParameter)\n   a következő helyen: MS.Win32.HwndSubclass.SubclassWndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam)\n   a következő helyen: MS.Win32.UnsafeNativeMethods.DispatchMessage(MSG& msg)\n   a következő helyen: System.Windows.Threading.Dispatcher.TranslateAndDispatchMessage(MSG& msg)\n   a következő helyen: System.Windows.Threading.Dispatcher.PushFrameImpl(DispatcherFrame frame)\n   a következő helyen: System.Windows.Application.RunInternal(Window window)\n   a következő helyen: GridScrollTest.App.Main() hely: D:\\Work.Somi\\HWSDK\\_Test\\GridScrollTest\\GridScrollTest\\obj\\Debug\\App.g.cs, sor: 0\n   a következő helyen: System.AppDomain._nExecuteAssembly(Assembly assembly, String[] args)\n   a következő helyen: Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()\n   a következő helyen: System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)\n   a következő helyen: System.Threading.ThreadHelper.ThreadStart()",
    "LastUpdatedDate": "2013-05-16T05:31:07.62-07:00",
    "PlannedForRelease": "",
    "ReleaseVisibleToPublic": false,
    "Priority": {
      "Name": "Low",
      "Severity": 50,
      "Id": 1
    },
    "ProjectName": "wpf",
    "ReportedDate": "2009-03-26T11:30:47.837-07:00",
    "Status": {
      "Name": "Closed",
      "Id": 4
    },
    "ReasonClosed": {
      "Name": "Unassigned"
    },
    "Summary": "NullReferenceException in DataGrid.ScrollIntoView",
    "Type": {
      "Name": "Issue",
      "Id": 3
    },
    "VoteCount": 1,
    "Id": 9617
  },
  "FileAttachments": [
    {
      "FileId": 2900,
      "FileName": "GridScrollTest.zip",
      "DownloadUrl": ".\\2900"
    },
    {
      "FileId": 2922,
      "FileName": "GridScrollTest2.zip",
      "DownloadUrl": ".\\2922"
    }
  ],
  "Comments": [
    {
      "Message": "The provided repro application didnt result in the crash described above. Please provide an app which crashes.",
      "PostedDate": "2009-03-27T11:50:20.41-07:00",
      "Id": -2147483648
    },
    {
      "Message": "Sorry, spoke too soon. Unforutnately the behavior is By-Design. Note that when TabItem1 is not selected its content gets disconnected from the visual tree. Hence no visual operations cannot be perfomed on the content of unselected tab item. A suggestion would be to note the pending operations of a tab (needed to be performed when it is unselected) and perform them when tab gets selected and visual tree gets connected again.",
      "PostedDate": "2009-03-27T11:55:48.723-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2009-03-27T11:56:16.8-07:00",
      "Id": -2147483648
    },
    {
      "Message": "Hi VamseeP,\r\n\r\nThanks for your response. \r\n\r\nI replaced ListView controls in a project and this scrolling did work with them before, but it stopped working with this datagrid.\r\n\r\nAnyway, I tried your suggested workaround and it doesn't work for selection change, it still raises the same exception:\r\nprivate void tabControl1_SelectionChanged (object sender, SelectionChangedEventArgs e)\r\n{\r\n\tif (tabItem1.IsSelected && _PendingScrollRequest)\r\n\t{\r\n\t\t_PendingScrollRequest = false;\r\n\t\tTheGrid.UpdateLayout ();\r\n\t\tTheGrid.ScrollIntoView (TheGrid.Items[0]);\r\n\t}\r\n}\r\n\r\nI haven't found any event which would be suitable for this. I have attached the updated test project.",
      "PostedDate": "2009-04-03T02:27:37.59-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2009-04-03T02:27:39.45-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2013-02-21T18:41:23.703-08:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2013-05-16T05:31:07.62-07:00",
      "Id": -2147483648
    }
  ]
}