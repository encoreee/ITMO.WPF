{
  "WorkItem": {
    "AffectedComponent": {
      "Name": "Calendar",
      "DisplayName": "Calendar"
    },
    "ClosedComment": "",
    "ClosedDate": null,
    "CommentCount": 0,
    "Custom": null,
    "Description": "Dear,\n \nI have produced a self-contained solution that exhibits some strange behavior.\nThough datagrids embedded in plain tabitems work perfectly, this case is about a templated tabcontrol whose tabitems contain a datagrid.\n \nThanks many times for considering this problem,\n \nJulie\n \n \nPROCEDURE :\n \nUnzip annexed file\nStart Visual Studio 2008 and adjust the reference to 'WPFToolkit.dll' (I used v3.5.40128.1) in both projects of the solution\n \nThere are 2 controls :\n \nCompanyControl -> DataContext 'Company'\nProductDataGrid -> DataContext 'Customer'\n \nand 3 business objects : Company, Customer, Product\n \nExperiment 1\n-------------------\nStart Application\nClick on button 'New Customer' : this adds 1 customer as a TabItem in a TabControl. This customer exhibits the ProductDataGrid\nClick once more on this button to create a second customer\nOn customer 2, edit (e.g.) 'Product A' to modify it and leave focus in the cell\nClick on Tab of customer 1\nClick back to Tab of customer 2\n \nI get :\n'DeferRefresh' is not allowed during an AddNew or EditItem transaction.\n \nThe reason seems to be that the focus is not lost on 'Customer 2 / ProductA' when switching to Customer 1 and then back\n \nExperiment 2\n-------------------\nStart Application\nClick on button 'New Customer' : this adds 1 customer as a TabItem in a TabControl. This customer exhibits the ProductDataGrid\nEnter as many product lines as to generate the vertical scrollbar in the datagrid\nNow hit the button to create Customer 2\n \nI get :\nCustomer 2 is displayed but its datagrid is incorrect and exhibits part of the vertical scrollbar of datagrid 1",
    "LastUpdatedDate": "2013-02-21T18:41:20.6-08:00",
    "PlannedForRelease": "",
    "ReleaseVisibleToPublic": false,
    "Priority": {
      "Name": "Low",
      "Severity": 50,
      "Id": 1
    },
    "ProjectName": "wpf",
    "ReportedDate": "2009-04-20T03:25:40.3-07:00",
    "Status": {
      "Name": "Active",
      "Id": 2
    },
    "ReasonClosed": {
      "Name": "Unassigned"
    },
    "Summary": "Datagrid and TabControl focus problem",
    "Type": {
      "Name": "Issue",
      "Id": 3
    },
    "VoteCount": 2,
    "Id": 9803
  },
  "FileAttachments": [
    {
      "FileId": 3000,
      "FileName": "Datagrid and tabcontrol.zip",
      "DownloadUrl": ".\\3000"
    }
  ],
  "Comments": [
    {
      "Message": "We have reproduced both problems and are filing bugs in our internal bug database.",
      "PostedDate": "2009-04-21T13:18:35.46-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2009-04-21T13:19:21.693-07:00",
      "Id": -2147483648
    },
    {
      "Message": "Thank you,\r\n\r\nThe 'Component' reference should however be 'DataGrid', not 'Calendar'.\r\n\r\nJulie",
      "PostedDate": "2009-04-21T23:54:49.793-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2009-06-26T09:05:32.117-07:00",
      "Id": -2147483648
    },
    {
      "Message": "I am encountering the same issue with switching between Tabs when the TabControl is using Templates containing DataGrid's. Are there any potential work arounds?",
      "PostedDate": "2009-06-26T09:07:57.647-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2013-02-21T18:41:20.6-08:00",
      "Id": -2147483648
    }
  ]
}