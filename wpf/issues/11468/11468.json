{
  "WorkItem": {
    "AffectedComponent": {
      "Name": "",
      "DisplayName": ""
    },
    "ClosedComment": "",
    "ClosedDate": null,
    "CommentCount": 0,
    "Custom": null,
    "Description": "Hello,\nI have a DataGrid in the RowDetailsTemplate of another DataGrid. The nested DataGrid has a ComboBox in its RowDetailsTemplate,\nthe sample project i give the xaml and code below includes a TypedDataSet for Northwind database,\nthe first level DataGrid is bound to Customers table and the nested DataGrid contains orders for the selected customer in the parent DataGrid,\nthe row details for the nested DataGrid has a ComboBox to select the Employee for the current order.\n \nThe ComboBox  in the selected row's detail doesn't select the current Employee itself ant rows except the first Customer with Orders are in error with error content \"Int32Converter cannot convert from System.Data.DataRowView.\"\n \nTo summarize, i havent been able to make comboboxes in row details of nested datagrids work correctly.\n \n<Window x:Class=\"ComboBoxInRowDetails.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:my=\"clr-namespace:ComboBoxInRowDetails\"\n        Title=\"MainWindow\" Loaded=\"Window_Loaded\" WindowStartupLocation=\"CenterScreen\">\n    <Window.Resources>\n        <my:NorthwindDataSet x:Key=\"NorthwindDataSet\" />\n        <CollectionViewSource x:Key=\"employeesViewSource\" Source=\"{Binding Path=Employees, Source={StaticResource NorthwindDataSet}}\" />\n        <CollectionViewSource x:Key=\"customersViewSource\" Source=\"{Binding Path=Customers, Source={StaticResource NorthwindDataSet}}\" />\n        <CollectionViewSource x:Key=\"customersOrdersViewSource\" Source=\"{Binding Path=FK_Orders_Customers, Source={StaticResource customersViewSource}}\" />\n \n        <Style TargetType=\"ComboBox\">\n            <Style.Triggers>\n                <Trigger Property=\"Validation.HasError\" Value=\"true\">\n                    <Setter Property=\"ToolTip\" Value=\"{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}\" />\n                </Trigger>\n            </Style.Triggers>\n        </Style>\n    </Window.Resources>\n    <Grid DataContext=\"{StaticResource customersViewSource}\">\n        <DataGrid AutoGenerateColumns=\"False\" EnableRowVirtualization=\"True\" IsReadOnly=\"True\" IsSynchronizedWithCurrentItem=\"True\" ItemsSource=\"{Binding}\" Name=\"customersDataGrid\" RowDetailsVisibilityMode=\"VisibleWhenSelected\" SelectedIndex=\"0\" SelectionMode=\"Single\">\n            <DataGrid.Columns>\n                <DataGridTextColumn Binding=\"{Binding Path=CompanyName}\" Header=\"Company Name\" />\n                <DataGridTextColumn Binding=\"{Binding Path=ContactName}\" Header=\"Contact Name\" />\n            </DataGrid.Columns>\n            <DataGrid.RowDetailsTemplate>\n                <DataTemplate>\n                    <DataGrid AutoGenerateColumns=\"False\" EnableRowVirtualization=\"True\" CanUserAddRows=\"False\" IsSynchronizedWithCurrentItem=\"True\" ItemsSource=\"{Binding Source={StaticResource customersOrdersViewSource}}\" Name=\"ordersDataGrid\" RowDetailsVisibilityMode=\"VisibleWhenSelected\" SelectedIndex=\"0\" SelectionMode=\"Single\">\n                        <DataGrid.Columns>\n                            <DataGridComboBoxColumn DisplayMemberPath=\"FirstName\" Header=\"Employee Name\" ItemsSource=\"{Binding Source={StaticResource employeesViewSource}}\" SelectedValueBinding=\"{Binding Path=EmployeeID}\" SelectedValuePath=\"EmployeeID\">\n                                <DataGridComboBoxColumn.EditingElementStyle>\n                                    <Style TargetType=\"ComboBox\">\n                                        <Setter Property=\"IsEditable\" Value=\"True\" />\n                                        <Setter Property=\"IsReadOnly\" Value=\"True\" />\n                                        <Setter Property=\"ItemsPanel\">\n                                            <Setter.Value>\n                                                <ItemsPanelTemplate>\n                                                    <VirtualizingStackPanel />\n                                                </ItemsPanelTemplate>\n                                            </Setter.Value>\n                                        </Setter>\n                                    </Style>\n                                </DataGridComboBoxColumn.EditingElementStyle>\n                            </DataGridComboBoxColumn>\n                            <DataGridTextColumn Binding=\"{Binding Path=ShipCountry}\" Header=\"Ship Country\" />\n                        </DataGrid.Columns>\n                        <DataGrid.RowDetailsTemplate>\n                            <DataTemplate>\n                                <Grid>\n                                    <Grid.ColumnDefinitions>\n                                        <ColumnDefinition Width=\"Auto\" />\n                                        <ColumnDefinition Width=\"Auto\" />\n                                    </Grid.ColumnDefinitions>\n                                    <Grid.RowDefinitions>\n                                        <RowDefinition Height=\"Auto\" />\n                                    </Grid.RowDefinitions>\n \n                                    <Label Content=\"Employee:\" Grid.Column=\"0\" Grid.Row=\"0\" HorizontalAlignment=\"Left\" Margin=\"3\" VerticalAlignment=\"Center\" />\n                                    <ComboBox DisplayMemberPath=\"FirstName\" Grid.Column=\"1\" Grid.Row=\"0\" Height=\"23\" HorizontalAlignment=\"Left\" IsEditable=\"True\" IsReadOnly=\"True\" IsSynchronizedWithCurrentItem=\"False\" ItemsSource=\"{Binding Source={StaticResource employeesViewSource}}\" Margin=\"3\" MinWidth=\"120\" Name=\"employeeIDComboBox\" SelectedValue=\"{Binding Path=EmployeeID, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True}\" SelectedValuePath=\"EmployeeID\" VerticalAlignment=\"Center\">\n                                        <ComboBox.ItemsPanel>\n                                            <ItemsPanelTemplate>\n                                                <VirtualizingStackPanel />\n                                            </ItemsPanelTemplate>\n                                        </ComboBox.ItemsPanel>\n                                    </ComboBox>\n                                </Grid>\n                            </DataTemplate>\n                        </DataGrid.RowDetailsTemplate>\n                    </DataGrid>\n                </DataTemplate>\n            </DataGrid.RowDetailsTemplate>\n        </DataGrid>\n    </Grid>\n</Window>\n \n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n \n        private void Window_Loaded(object sender, RoutedEventArgs e)\n        {\n            NorthwindDataSet NorthwindDataSet = (NorthwindDataSet)this.FindResource(\"NorthwindDataSet\");\n \n            (new NorthwindDataSetTableAdapters.EmployeesTableAdapter()).Fill(NorthwindDataSet.Employees);\n            (new NorthwindDataSetTableAdapters.CustomersTableAdapter()).Fill(NorthwindDataSet.Customers);\n            (new NorthwindDataSetTableAdapters.OrdersTableAdapter()).Fill(NorthwindDataSet.Orders);\n        }\n    }\n \nThanks.",
    "LastUpdatedDate": "2013-02-21T18:40:48.113-08:00",
    "PlannedForRelease": "",
    "ReleaseVisibleToPublic": false,
    "Priority": {
      "Name": "Low",
      "Severity": 50,
      "Id": 1
    },
    "ProjectName": "wpf",
    "ReportedDate": "2010-01-12T09:06:44.977-08:00",
    "Status": {
      "Name": "Proposed",
      "Id": 1
    },
    "ReasonClosed": {
      "Name": "Unassigned"
    },
    "Summary": "Combobox in RowDeatailsTemplate of a nested DataGrid",
    "Type": {
      "Name": "Issue",
      "Id": 3
    },
    "VoteCount": 1,
    "Id": 11468
  },
  "FileAttachments": [],
  "Comments": [
    {
      "Message": "Hello,\r\n\r\nDoes anybody has a solution for this issue. I've the same problem.I've a WPF DataGrid (level 1) and the detail of a row from level 1 is another DataGrid (level 2). In both the DataGrids  I've a DataGridComboBoxColumn. At level 1 the DataGridComboBoxColumn works, at level 2 it doesn't. So far I tried many different things but my ComboBox stays empty.\r\nIs this a bug in the WPF DataGrid or am I doing something wrong. A code snippet could be find in my post on this site sat the 15th.\r\nIf anybody could help ...\r\n\r\nThanks,\r\n\r\nDaniël  ",
      "PostedDate": "2010-05-18T15:05:43.253-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2013-02-21T18:40:48.113-08:00",
      "Id": -2147483648
    }
  ]
}