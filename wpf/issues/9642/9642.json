{
  "WorkItem": {
    "AffectedComponent": {
      "Name": "DataGrid",
      "DisplayName": "DataGrid"
    },
    "ClosedComment": "",
    "ClosedDate": null,
    "CommentCount": 0,
    "Custom": null,
    "Description": "<!-- Products DataGrid -->\n<toolkit:DataGrid x:Name=\"dgProducts\" Grid.Column=\"0\" Grid.Row=\"1\" AutoGenerateColumns=\"False\" VirtualizingStackPanel.IsVirtualizing=\"True\" SelectionMode=\"Single\"\n                  SelectionUnit=\"FullRow\" GridLinesVisibility=\"Horizontal\" Height=\"350\" IsSynchronizedWithCurrentItem=\"True\" CanUserAddRows=\"False\" CanUserDeleteRows=\"False\"\n                  RowHeight=\"60\" IsTextSearchEnabled=\"True\" ItemsSource=\"{Binding Path=Manager.Products, ElementName=ucProduct}\">\n    <toolkit:DataGrid.Columns>\n        <toolkit:DataGridTemplateColumn Header=\"Thumbnail\">\n            <toolkit:DataGridTemplateColumn.CellTemplate>\n                <DataTemplate>\n                    <Image Grid.Row=\"0\" Stretch=\"UniformToFill\"\n                           Source=\"{Binding Thumbnail}\" Width=\"80\" Height=\"60\"/>\n                </DataTemplate>\n            </toolkit:DataGridTemplateColumn.CellTemplate>\n        </toolkit:DataGridTemplateColumn>\n        <toolkit:DataGridTextColumn Header=\"Title\" Binding=\"{Binding Title}\"/>\n        <toolkit:DataGridTextColumn Header=\"Descrption\" Binding=\"{Binding Description}\"/>\n        <toolkit:DataGridTextColumn Header=\"Unit price\" Binding=\"{Binding UnitPrice}\"/>\n        <toolkit:DataGridTemplateColumn Header=\"Operations\">\n            <toolkit:DataGridTemplateColumn.CellTemplate>\n                <DataTemplate>\n                    <Button Content=\"X\" Width=\"20\" Height=\"20\" ToolTip=\"Töröl\"\n                            Command=\"{x:Static commands:ProductCommands.DeleteProduct}\">\n                        <Button.Triggers>\n                            <EventTrigger RoutedEvent=\"UIElement.GotFocus\">\n                                <BeginStoryboard>\n                                    <Storyboard>\n                                        <ObjectAnimationUsingKeyFrames\n                                            BeginTime=\"00:00:00\"                                            \n                                            Storyboard.TargetProperty=\"SelectedValue\"\n                                            Storyboard.Target=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type toolkit:DataGrid}}}\">\n                                            <DiscreteObjectKeyFrame KeyTime=\"00:00:00\" Value=\"{Binding}\"/>\n                                        </ObjectAnimationUsingKeyFrames>\n                                    </Storyboard>\n                                </BeginStoryboard>\n                            </EventTrigger>\n                        </Button.Triggers>\n                    </Button>\n                </DataTemplate>\n            </toolkit:DataGridTemplateColumn.CellTemplate>\n        </toolkit:DataGridTemplateColumn>\n    </toolkit:DataGrid.Columns>\n</toolkit:DataGrid>\n \nI think this part will be the issue:\n \n<EventTrigger RoutedEvent=\"UIElement.GotFocus\">\n    <BeginStoryboard>\n        <Storyboard>\n            <ObjectAnimationUsingKeyFrames\n                        BeginTime=\"00:00:00\"                                            \n                        Storyboard.TargetProperty=\"SelectedValue\"\n                        Storyboard.Target=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type toolkit:DataGrid}}}\">\n                <DiscreteObjectKeyFrame KeyTime=\"00:00:00\" Value=\"{Binding}\"/>\n            </ObjectAnimationUsingKeyFrames>\n        </Storyboard>\n    </BeginStoryboard>\n</EventTrigger>\n \nAs you can see, I've created a trigger for the button 'delete' to select the current item. It's ok. Here is the issue:\n \n<!-- Details -->\n    <StackPanel Grid.Column=\"2\" Grid.Row=\"1\">\n     <!-- Title -->\n        <TextBlock Text=\"Title\" Margin=\"0,5\"/>\n        <TextBox x:Name=\"tbTitle\" Width=\"300\" HorizontalAlignment=\"Left\"\n                       Text=\"{Binding Path=SelectedValue.Title, ElementName=dgProducts, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\"/>\n \nThis details view works only once. After you delete an item from the datagrid, it doesn't work more.",
    "LastUpdatedDate": "2013-02-21T18:41:22.877-08:00",
    "PlannedForRelease": "",
    "ReleaseVisibleToPublic": false,
    "Priority": {
      "Name": "Low",
      "Severity": 50,
      "Id": 1
    },
    "ProjectName": "wpf",
    "ReportedDate": "2009-03-31T05:58:57.68-07:00",
    "Status": {
      "Name": "Active",
      "Id": 2
    },
    "ReasonClosed": {
      "Name": "Unassigned"
    },
    "Summary": "DataGrid SelectedValue doesn't work",
    "Type": {
      "Name": "Issue",
      "Id": 3
    },
    "VoteCount": 2,
    "Id": 9642
  },
  "FileAttachments": [],
  "Comments": [
    {
      "Message": "OK. DataGrid selects the current item automatically. But I don't understand why the above code doesn't work...",
      "PostedDate": "2009-03-31T06:13:02.117-07:00",
      "Id": -2147483648
    },
    {
      "Message": "Can you explain your scenario a little more?\r\nFor example why are you using an animation on selected value?  Datagrid normally handles selection of deleted items correctly and animating that value shouldn't be necessary.",
      "PostedDate": "2009-03-31T13:20:41.897-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2009-03-31T13:37:56.82-07:00",
      "Id": -2147483648
    },
    {
      "Message": "Other list classes (for instance, listbox, etc.) doesn't select the current item when you are using a custom item template with different controls (for instance, a button in a custom item template). It is bad because an user can click to the button 'delete' and I will delete another item from ListBox (ListBox.SelectedValue != pushed button's item). Therefore I use a trigger to set the current item. But I've already realized DataGrid works correctly. Thx.",
      "PostedDate": "2009-03-31T16:31:19.257-07:00",
      "Id": -2147483648
    },
    {
      "Message": "For example, if you have a listbox with the following item template:\r\n\r\n<DataTemplate>\r\n    <StackPanel>\r\n       <TextBox ... />\r\n       <Button ... />\r\n    </StackPanel>\r\n</DataTemplate>\r\n\r\nWhen you are clicking to the textbox, listbox doesn't select this item. This trigger solves it.",
      "PostedDate": "2009-03-31T16:45:16.21-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2009-04-01T11:46:26.48-07:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2011-01-14T07:00:36.707-08:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2013-02-21T18:41:22.877-08:00",
      "Id": -2147483648
    }
  ]
}